(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var qp={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function A3(){if(X_)return Pu;X_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Pu.Fragment=e,Pu.jsx=t,Pu.jsxs=t,Pu}var Y_;function b3(){return Y_||(Y_=1,qp.exports=A3()),qp.exports}var x=b3(),Wp={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function N3(){if($_)return tt;$_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function w(Z){return Z===null||typeof Z!="object"?null:(Z=_&&Z[_]||Z["@@iterator"],typeof Z=="function"?Z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function H(Z,k,J){this.props=Z,this.context=k,this.refs=b,this.updater=J||R}H.prototype.isReactComponent={},H.prototype.setState=function(Z,k){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,k,"setState")},H.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function q(){}q.prototype=H.prototype;function B(Z,k,J){this.props=Z,this.context=k,this.refs=b,this.updater=J||R}var X=B.prototype=new q;X.constructor=B,T(X,H.prototype),X.isPureReactComponent=!0;var he=Array.isArray;function ne(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(Z,k,J){var K=J.ref;return{$$typeof:n,type:Z,key:k,ref:K!==void 0?K:null,props:J}}function F(Z,k){return C(Z.type,k,Z.props)}function M(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function G(Z){var k={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(J){return k[J]})}var U=/\/+/g;function We(Z,k){return typeof Z=="object"&&Z!==null&&Z.key!=null?G(""+Z.key):k.toString(36)}function Ge(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(ne,ne):(Z.status="pending",Z.then(function(k){Z.status==="pending"&&(Z.status="fulfilled",Z.value=k)},function(k){Z.status==="pending"&&(Z.status="rejected",Z.reason=k)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function pe(Z,k,J,K,Q){var de=typeof Z;(de==="undefined"||de==="boolean")&&(Z=null);var Re=!1;if(Z===null)Re=!0;else switch(de){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(Z.$$typeof){case n:case e:Re=!0;break;case g:return Re=Z._init,pe(Re(Z._payload),k,J,K,Q)}}if(Re)return Q=Q(Z),Re=K===""?"."+We(Z,0):K,he(Q)?(J="",Re!=null&&(J=Re.replace(U,"$&/")+"/"),pe(Q,k,J,"",function(Pe){return Pe})):Q!=null&&(M(Q)&&(Q=F(Q,J+(Q.key==null||Z&&Z.key===Q.key?"":(""+Q.key).replace(U,"$&/")+"/")+Re)),k.push(Q)),1;Re=0;var Fe=K===""?".":K+":";if(he(Z))for(var Ie=0;Ie<Z.length;Ie++)K=Z[Ie],de=Fe+We(K,Ie),Re+=pe(K,k,J,de,Q);else if(Ie=w(Z),typeof Ie=="function")for(Z=Ie.call(Z),Ie=0;!(K=Z.next()).done;)K=K.value,de=Fe+We(K,Ie++),Re+=pe(K,k,J,de,Q);else if(de==="object"){if(typeof Z.then=="function")return pe(Ge(Z),k,J,K,Q);throw k=String(Z),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Ne(Z,k,J){if(Z==null)return Z;var K=[],Q=0;return pe(Z,K,"","",function(de){return k.call(J,de,Q++)}),K}function Be(Z){if(Z._status===-1){var k=Z._result;k=k(),k.then(function(J){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=J)},function(J){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=J)}),Z._status===-1&&(Z._status=0,Z._result=k)}if(Z._status===1)return Z._result.default;throw Z._result}var Ye=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},nt={map:Ne,forEach:function(Z,k,J){Ne(Z,function(){k.apply(this,arguments)},J)},count:function(Z){var k=0;return Ne(Z,function(){k++}),k},toArray:function(Z){return Ne(Z,function(k){return k})||[]},only:function(Z){if(!M(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return tt.Activity=y,tt.Children=nt,tt.Component=H,tt.Fragment=t,tt.Profiler=a,tt.PureComponent=B,tt.StrictMode=r,tt.Suspense=h,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,tt.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return N.H.useMemoCache(Z)}},tt.cache=function(Z){return function(){return Z.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(Z,k,J){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var K=T({},Z.props),Q=Z.key;if(k!=null)for(de in k.key!==void 0&&(Q=""+k.key),k)!I.call(k,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&k.ref===void 0||(K[de]=k[de]);var de=arguments.length-2;if(de===1)K.children=J;else if(1<de){for(var Re=Array(de),Fe=0;Fe<de;Fe++)Re[Fe]=arguments[Fe+2];K.children=Re}return C(Z.type,Q,K)},tt.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:l,_context:Z},Z},tt.createElement=function(Z,k,J){var K,Q={},de=null;if(k!=null)for(K in k.key!==void 0&&(de=""+k.key),k)I.call(k,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Q[K]=k[K]);var Re=arguments.length-2;if(Re===1)Q.children=J;else if(1<Re){for(var Fe=Array(Re),Ie=0;Ie<Re;Ie++)Fe[Ie]=arguments[Ie+2];Q.children=Fe}if(Z&&Z.defaultProps)for(K in Re=Z.defaultProps,Re)Q[K]===void 0&&(Q[K]=Re[K]);return C(Z,de,Q)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(Z){return{$$typeof:f,render:Z}},tt.isValidElement=M,tt.lazy=function(Z){return{$$typeof:g,_payload:{_status:-1,_result:Z},_init:Be}},tt.memo=function(Z,k){return{$$typeof:d,type:Z,compare:k===void 0?null:k}},tt.startTransition=function(Z){var k=N.T,J={};N.T=J;try{var K=Z(),Q=N.S;Q!==null&&Q(J,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ne,Ye)}catch(de){Ye(de)}finally{k!==null&&J.types!==null&&(k.types=J.types),N.T=k}},tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},tt.use=function(Z){return N.H.use(Z)},tt.useActionState=function(Z,k,J){return N.H.useActionState(Z,k,J)},tt.useCallback=function(Z,k){return N.H.useCallback(Z,k)},tt.useContext=function(Z){return N.H.useContext(Z)},tt.useDebugValue=function(){},tt.useDeferredValue=function(Z,k){return N.H.useDeferredValue(Z,k)},tt.useEffect=function(Z,k){return N.H.useEffect(Z,k)},tt.useEffectEvent=function(Z){return N.H.useEffectEvent(Z)},tt.useId=function(){return N.H.useId()},tt.useImperativeHandle=function(Z,k,J){return N.H.useImperativeHandle(Z,k,J)},tt.useInsertionEffect=function(Z,k){return N.H.useInsertionEffect(Z,k)},tt.useLayoutEffect=function(Z,k){return N.H.useLayoutEffect(Z,k)},tt.useMemo=function(Z,k){return N.H.useMemo(Z,k)},tt.useOptimistic=function(Z,k){return N.H.useOptimistic(Z,k)},tt.useReducer=function(Z,k,J){return N.H.useReducer(Z,k,J)},tt.useRef=function(Z){return N.H.useRef(Z)},tt.useState=function(Z){return N.H.useState(Z)},tt.useSyncExternalStore=function(Z,k,J){return N.H.useSyncExternalStore(Z,k,J)},tt.useTransition=function(){return N.H.useTransition()},tt.version="19.2.0",tt}var Q_;function Zg(){return Q_||(Q_=1,Wp.exports=N3()),Wp.exports}var re=Zg(),Kp={exports:{}},Lu={},Xp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function R3(){return J_||(J_=1,(function(n){function e(pe,Ne){var Be=pe.length;pe.push(Ne);e:for(;0<Be;){var Ye=Be-1>>>1,nt=pe[Ye];if(0<a(nt,Ne))pe[Ye]=Ne,pe[Be]=nt,Be=Ye;else break e}}function t(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var Ne=pe[0],Be=pe.pop();if(Be!==Ne){pe[0]=Be;e:for(var Ye=0,nt=pe.length,Z=nt>>>1;Ye<Z;){var k=2*(Ye+1)-1,J=pe[k],K=k+1,Q=pe[K];if(0>a(J,Be))K<nt&&0>a(Q,J)?(pe[Ye]=Q,pe[K]=Be,Ye=K):(pe[Ye]=J,pe[k]=Be,Ye=k);else if(K<nt&&0>a(Q,Be))pe[Ye]=Q,pe[K]=Be,Ye=K;else break e}}return Ne}function a(pe,Ne){var Be=pe.sortIndex-Ne.sortIndex;return Be!==0?Be:pe.id-Ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],d=[],g=1,y=null,_=3,w=!1,R=!1,T=!1,b=!1,H=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(pe){for(var Ne=t(d);Ne!==null;){if(Ne.callback===null)r(d);else if(Ne.startTime<=pe)r(d),Ne.sortIndex=Ne.expirationTime,e(h,Ne);else break;Ne=t(d)}}function he(pe){if(T=!1,X(pe),!R)if(t(h)!==null)R=!0,ne||(ne=!0,G());else{var Ne=t(d);Ne!==null&&Ge(he,Ne.startTime-pe)}}var ne=!1,N=-1,I=5,C=-1;function F(){return b?!0:!(n.unstable_now()-C<I)}function M(){if(b=!1,ne){var pe=n.unstable_now();C=pe;var Ne=!0;try{e:{R=!1,T&&(T=!1,q(N),N=-1),w=!0;var Be=_;try{t:{for(X(pe),y=t(h);y!==null&&!(y.expirationTime>pe&&F());){var Ye=y.callback;if(typeof Ye=="function"){y.callback=null,_=y.priorityLevel;var nt=Ye(y.expirationTime<=pe);if(pe=n.unstable_now(),typeof nt=="function"){y.callback=nt,X(pe),Ne=!0;break t}y===t(h)&&r(h),X(pe)}else r(h);y=t(h)}if(y!==null)Ne=!0;else{var Z=t(d);Z!==null&&Ge(he,Z.startTime-pe),Ne=!1}}break e}finally{y=null,_=Be,w=!1}Ne=void 0}}finally{Ne?G():ne=!1}}}var G;if(typeof B=="function")G=function(){B(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,We=U.port2;U.port1.onmessage=M,G=function(){We.postMessage(null)}}else G=function(){H(M,0)};function Ge(pe,Ne){N=H(function(){pe(n.unstable_now())},Ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(pe){pe.callback=null},n.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<pe?Math.floor(1e3/pe):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(pe){switch(_){case 1:case 2:case 3:var Ne=3;break;default:Ne=_}var Be=_;_=Ne;try{return pe()}finally{_=Be}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(pe,Ne){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Be=_;_=pe;try{return Ne()}finally{_=Be}},n.unstable_scheduleCallback=function(pe,Ne,Be){var Ye=n.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?Ye+Be:Ye):Be=Ye,pe){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Be+nt,pe={id:g++,callback:Ne,priorityLevel:pe,startTime:Be,expirationTime:nt,sortIndex:-1},Be>Ye?(pe.sortIndex=Be,e(d,pe),t(h)===null&&pe===t(d)&&(T?(q(N),N=-1):T=!0,Ge(he,Be-Ye))):(pe.sortIndex=nt,e(h,pe),R||w||(R=!0,ne||(ne=!0,G()))),pe},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(pe){var Ne=_;return function(){var Be=_;_=Ne;try{return pe.apply(this,arguments)}finally{_=Be}}}})(Yp)),Yp}var Z_;function C3(){return Z_||(Z_=1,Xp.exports=R3()),Xp.exports}var $p={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function I3(){if(e2)return nr;e2=1;var n=Zg();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(h,d,null,g)},nr.flushSync=function(h){var d=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=d,r.p=g,r.d.f()}},nr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},nr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},nr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=f(g,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},nr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},nr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=f(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},nr.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},nr.requestFormReset=function(h){r.d.r(h)},nr.unstable_batchedUpdates=function(h,d){return h(d)},nr.useFormState=function(h,d,g){return c.H.useFormState(h,d,g)},nr.useFormStatus=function(){return c.H.useHostTransitionStatus()},nr.version="19.2.0",nr}var t2;function D3(){if(t2)return $p.exports;t2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$p.exports=I3(),$p.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function O3(){if(n2)return Lu;n2=1;var n=C3(),e=Zg(),t=D3();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return h(p),i;if(v===u)return h(p),s;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=p,u=v;else{for(var S=!1,O=p.child;O;){if(O===o){S=!0,o=p,u=v;break}if(O===u){S=!0,u=p,o=v;break}O=O.sibling}if(!S){for(O=v.child;O;){if(O===o){S=!0,o=v,u=p;break}if(O===u){S=!0,u=v,o=p;break}O=O.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function We(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case H:return"Profiler";case b:return"StrictMode";case he:return"Suspense";case ne:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case B:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case X:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:We(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return We(i(s))}catch{}}return null}var Ge=Array.isArray,pe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ye=[],nt=-1;function Z(i){return{current:i}}function k(i){0>nt||(i.current=Ye[nt],Ye[nt]=null,nt--)}function J(i,s){nt++,Ye[nt]=i.current,i.current=s}var K=Z(null),Q=Z(null),de=Z(null),Re=Z(null);function Fe(i,s){switch(J(de,s),J(Q,i),J(K,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?v_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=v_(s),i=x_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}k(K),J(K,i)}function Ie(){k(K),k(Q),k(de)}function Pe(i){i.memoizedState!==null&&J(Re,i);var s=K.current,o=x_(s,i.type);s!==o&&(J(Q,i),J(K,o))}function vt(i){Q.current===i&&(k(K),k(Q)),Re.current===i&&(k(Re),Du._currentValue=Be)}var lt,nn;function at(i){if(lt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);lt=s&&s[1]||"",nn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+i+nn}var cr=!1;function bt(i,s){if(!i||cr)return"";cr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ge){var fe=ge}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(ge){fe=ge}i.call(Ee.prototype)}}else{try{throw Error()}catch(ge){fe=ge}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ge){if(ge&&fe&&typeof ge.stack=="string")return[ge.stack,fe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),S=v[0],O=v[1];if(S&&O){var Y=S.split(`
`),oe=O.split(`
`);for(p=u=0;u<Y.length&&!Y[u].includes("DetermineComponentFrameRoot");)u++;for(;p<oe.length&&!oe[p].includes("DetermineComponentFrameRoot");)p++;if(u===Y.length||p===oe.length)for(u=Y.length-1,p=oe.length-1;1<=u&&0<=p&&Y[u]!==oe[p];)p--;for(;1<=u&&0<=p;u--,p--)if(Y[u]!==oe[p]){if(u!==1||p!==1)do if(u--,p--,0>p||Y[u]!==oe[p]){var ye=`
`+Y[u].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=u&&0<=p);break}}}finally{cr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?at(o):""}function Ue(i,s){switch(i.tag){case 26:case 27:case 5:return at(i.type);case 16:return at("Lazy");case 13:return i.child!==s&&s!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return bt(i.type,!1);case 11:return bt(i.type.render,!1);case 1:return bt(i.type,!0);case 31:return at("Activity");default:return""}}function Dn(i){try{var s="",o=null;do s+=Ue(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Nt=Object.prototype.hasOwnProperty,zt=n.unstable_scheduleCallback,ur=n.unstable_cancelCallback,go=n.unstable_shouldYield,is=n.unstable_requestPaint,qt=n.unstable_now,Yr=n.unstable_getCurrentPriorityLevel,pa=n.unstable_ImmediatePriority,ga=n.unstable_UserBlockingPriority,Zn=n.unstable_NormalPriority,Vc=n.unstable_LowPriority,ul=n.unstable_IdlePriority,fl=n.log,hl=n.unstable_setDisableYieldValue,xr=null,pn=null;function fr(i){if(typeof fl=="function"&&hl(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(xr,i)}catch{}}var en=Math.clz32?Math.clz32:dl,vo=Math.log,va=Math.LN2;function dl(i){return i>>>=0,i===0?32:31-(vo(i)/va|0)|0}var Dr=256,xa=262144,rn=4194304;function hr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $r(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var O=u&134217727;return O!==0?(u=O&~v,u!==0?p=hr(u):(S&=O,S!==0?p=hr(S):o||(o=O&~i,o!==0&&(p=hr(o))))):(O=u&~v,O!==0?p=hr(O):S!==0?p=hr(S):o||(o=u&~i,o!==0&&(p=hr(o)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:p}function Or(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Bc(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var i=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),i}function Qr(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ya(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zc(i,s,o,u,p,v){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var O=i.entanglements,Y=i.expirationTimes,oe=i.hiddenUpdates;for(o=S&~o;0<o;){var ye=31-en(o),Ee=1<<ye;O[ye]=0,Y[ye]=-1;var fe=oe[ye];if(fe!==null)for(oe[ye]=null,ye=0;ye<fe.length;ye++){var ge=fe[ye];ge!==null&&(ge.lane&=-536870913)}o&=~Ee}u!==0&&_a(i,u,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(S&~s))}function _a(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-en(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Ea(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-en(o),p=1<<u;p&s|i[u]&s&&(i[u]|=s),o&=~p}}function ml(i,s){var o=s&-s;return o=(o&42)!==0?1:Ta(o),(o&(i.suspendedLanes|s))!==0?0:o}function Ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function pi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function D(){var i=Ne.p;return i!==0?i:(i=window.event,i===void 0?32:B_(i.type))}function z(i,s){var o=Ne.p;try{return Ne.p=i,s()}finally{Ne.p=o}}var P=Math.random().toString(36).slice(2),j="__reactFiber$"+P,V="__reactProps$"+P,W="__reactContainer$"+P,se="__reactEvents$"+P,xe="__reactListeners$"+P,le="__reactHandles$"+P,ue="__reactResources$"+P,ce="__reactMarker$"+P;function be(i){delete i[j],delete i[V],delete i[se],delete i[xe],delete i[le]}function Ce(i){var s=i[j];if(s)return s;for(var o=i.parentNode;o;){if(s=o[W]||o[j]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=A_(i);i!==null;){if(o=i[j])return o;i=A_(i)}return s}i=o,o=i.parentNode}return null}function Le(i){if(i=i[j]||i[W]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ae(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Me(i){var s=i[ue];return s||(s=i[ue]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function He(i){i[ce]=!0}var Rt=new Set,Ct={};function Ht(i,s){er(i,s),er(i+"Capture",s)}function er(i,s){for(Ct[i]=s,i=0;i<s.length;i++)Rt.add(s[i])}var gi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vi={},kr={};function as(i){return Nt.call(kr,i)?!0:Nt.call(vi,i)?!1:gi.test(i)?kr[i]=!0:(vi[i]=!0,!1)}function tr(i,s,o){if(as(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Mr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function gn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ss(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hc(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){o=""+S,v.call(this,S)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function It(i){if(!i._valueTracker){var s=ss(i)?"checked":"value";i._valueTracker=Hc(i,s,""+i[s])}}function pl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=ss(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gl=/[\n"\\]/g;function yr(i){return i.replace(gl,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yo(i,s,o,u,p,v,S,O){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+On(s)):i.value!==""+On(s)&&(i.value=""+On(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Gc(i,S,On(s)):o!=null?Gc(i,S,On(o)):u!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+On(O):i.removeAttribute("name")}function Bf(i,s,o,u,p,v,S,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){It(i);return}o=o!=null?""+On(o):"",s=s!=null?""+On(s):o,O||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=O?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),It(i)}function Gc(i,s,o){s==="number"&&Vi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ls(i,s,o,u){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+On(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function zf(i,s,o){if(s!=null&&(s=""+On(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+On(o):""}function os(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ge(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=On(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),It(i)}function _r(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Hf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Hf.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Wc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&qc(i,p,u)}else for(var v in s)s.hasOwnProperty(v)&&qc(i,v,s[v])}function _o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(i){return cs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function xi(){}var Kc=null;function Jr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var us=null,Bi=null;function vl(i){var s=Le(i);if(s&&(i=s.stateNode)){var o=i[V]||null;e:switch(i=s.stateNode,s.type){case"input":if(yo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var p=u[V]||null;if(!p)throw Error(r(90));yo(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&pl(u)}break e;case"textarea":zf(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ls(i,!!o.multiple,s,!1)}}}var To=!1;function fs(i,s,o){if(To)return i(s,o);To=!0;try{var u=i(s);return u}finally{if(To=!1,(us!==null||Bi!==null)&&(Fh(),us&&(s=us,i=Bi,Bi=us=null,vl(s),i)))for(s=0;s<i.length;s++)vl(i[s])}}function yi(i,s){var o=i.stateNode;if(o===null)return null;var u=o[V]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(Zr)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{xl=!1}var zi=null,Xc=null,yl=null;function Yc(){if(yl)return yl;var i,s=Xc,o=s.length,u,p="value"in zi?zi.value:zi.textContent,v=p.length;for(i=0;i<o&&s[i]===p[i];i++);var S=o-i;for(u=1;u<=S&&s[o-u]===p[v-u];u++);return yl=p.slice(i,1<u?1-u:void 0)}function _l(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wa(){return!0}function _i(){return!1}function Un(i){function s(o,u,p,v,S){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(o=i[O],this[O]=o?o(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wa:_i,this.isPropagationStopped=_i,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),s}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Un(Sa),hs=y({},Sa,{view:0,detail:0}),$c=Un(hs),ds,wo,Gi,So=y({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(ds=i.screenX-Gi.screenX,wo=i.screenY-Gi.screenY):wo=ds=0,Gi=i),ds)},movementY:function(i){return"movementY"in i?i.movementY:wo}}),Qc=Un(So),El=y({},So,{dataTransfer:0}),qf=Un(El),Wf=y({},hs,{relatedTarget:0}),Tl=Un(Wf),Jc=y({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=Un(Jc),Ao=y({},Sa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xf=Un(Ao),Yf=y({},Sa,{data:0}),qi=Un(Yf),$f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zf(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Jf[i])?!!s[i]:!1}function ms(){return Zf}var dr=y({},hs,{key:function(i){if(i.key){var s=$f[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eh=Un(dr),th=y({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=Un(th),m=y({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),E=Un(m),A=y({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=Un(A),ie=y({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),me=Un(ie),ke=y({},Sa,{newState:0,oldState:0}),rt=Un(ke),cn=[9,13,27,32],Tt=Zr&&"CompositionEvent"in window,Qt=null;Zr&&"documentMode"in document&&(Qt=document.documentMode);var ei=Zr&&"TextEvent"in window&&!Qt,Wi=Zr&&(!Tt||Qt&&8<Qt&&11>=Qt),Ei=" ",Ti=!1;function wl(i,s){switch(i){case"keyup":return cn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function Y4(i,s){switch(i){case"compositionend":return bo(s);case"keypress":return s.which!==32?null:(Ti=!0,Ei);case"textInput":return i=s.data,i===Ei&&Ti?null:i;default:return null}}function $4(i,s){if(No)return i==="compositionend"||!Tt&&wl(i,s)?(i=Yc(),yl=Xc=zi=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wi&&s.locale!=="ko"?null:s.data;default:return null}}var Q4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Q4[i.type]:s==="textarea"}function Cv(i,s,o,u){us?Bi?Bi.push(u):Bi=[u]:us=u,s=Gh(s,"onChange"),0<s.length&&(o=new Hi("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Zc=null,eu=null;function J4(i){f_(i,0)}function nh(i){var s=Ae(i);if(pl(s))return i}function Iv(i,s){if(i==="change")return s}var Dv=!1;if(Zr){var Jd;if(Zr){var Zd="oninput"in document;if(!Zd){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),Zd=typeof Ov.oninput=="function"}Jd=Zd}else Jd=!1;Dv=Jd&&(!document.documentMode||9<document.documentMode)}function kv(){Zc&&(Zc.detachEvent("onpropertychange",Mv),eu=Zc=null)}function Mv(i){if(i.propertyName==="value"&&nh(eu)){var s=[];Cv(s,eu,i,Jr(i)),fs(J4,s)}}function Z4(i,s,o){i==="focusin"?(kv(),Zc=s,eu=o,Zc.attachEvent("onpropertychange",Mv)):i==="focusout"&&kv()}function eb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nh(eu)}function tb(i,s){if(i==="click")return nh(s)}function nb(i,s){if(i==="input"||i==="change")return nh(s)}function rb(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Pr=typeof Object.is=="function"?Object.is:rb;function tu(i,s){if(Pr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Nt.call(s,p)||!Pr(i[p],s[p]))return!1}return!0}function Pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lv(i,s){var o=Pv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Pv(o)}}function Fv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Fv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function jv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Vi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Vi(i.document)}return s}function em(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ib=Zr&&"documentMode"in document&&11>=document.documentMode,Ro=null,tm=null,nu=null,nm=!1;function Uv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nm||Ro==null||Ro!==Vi(u)||(u=Ro,"selectionStart"in u&&em(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),nu&&tu(nu,u)||(nu=u,u=Gh(tm,"onSelect"),0<u.length&&(s=new Hi("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ro)))}function Sl(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Co={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},rm={},Vv={};Zr&&(Vv=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Al(i){if(rm[i])return rm[i];if(!Co[i])return i;var s=Co[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Vv)return rm[i]=s[o];return i}var Bv=Al("animationend"),zv=Al("animationiteration"),Hv=Al("animationstart"),ab=Al("transitionrun"),sb=Al("transitionstart"),lb=Al("transitioncancel"),Gv=Al("transitionend"),qv=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function wi(i,s){qv.set(i,s),Ht(s,[i])}var rh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],Io=0,am=0;function ih(){for(var i=Io,s=am=Io=0;s<i;){var o=ti[s];ti[s++]=null;var u=ti[s];ti[s++]=null;var p=ti[s];ti[s++]=null;var v=ti[s];if(ti[s++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}v!==0&&Wv(o,p,v)}}function ah(i,s,o,u){ti[Io++]=i,ti[Io++]=s,ti[Io++]=o,ti[Io++]=u,am|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function sm(i,s,o,u){return ah(i,s,o,u),sh(i)}function bl(i,s){return ah(i,null,null,s),sh(i)}function Wv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,v=i.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&s!==null&&(p=31-en(o),i=v.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=o|536870912),v):null}function sh(i){if(50<Su)throw Su=0,pp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Do={};function ob(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(i,s,o,u){return new ob(i,s,o,u)}function lm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ba(i,s){var o=i.alternate;return o===null?(o=Lr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Kv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function lh(i,s,o,u,p,v){var S=0;if(u=i,typeof i=="function")lm(i)&&(S=1);else if(typeof i=="string")S=d3(i,o,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Lr(31,o,s,p),i.elementType=C,i.lanes=v,i;case T:return Nl(o.children,p,v,s);case b:S=8,p|=24;break;case H:return i=Lr(12,o,s,p|2),i.elementType=H,i.lanes=v,i;case he:return i=Lr(13,o,s,p),i.elementType=he,i.lanes=v,i;case ne:return i=Lr(19,o,s,p),i.elementType=ne,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:S=10;break e;case q:S=9;break e;case X:S=11;break e;case N:S=14;break e;case I:S=16,u=null;break e}S=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Lr(S,o,s,p),s.elementType=i,s.type=u,s.lanes=v,s}function Nl(i,s,o,u){return i=Lr(7,i,u,s),i.lanes=o,i}function om(i,s,o){return i=Lr(6,i,null,s),i.lanes=o,i}function Xv(i){var s=Lr(18,null,null,0);return s.stateNode=i,s}function cm(i,s,o){return s=Lr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Yv=new WeakMap;function ni(i,s){if(typeof i=="object"&&i!==null){var o=Yv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Dn(s)},Yv.set(i,s),s)}return{value:i,source:s,stack:Dn(s)}}var Oo=[],ko=0,oh=null,ru=0,ri=[],ii=0,ps=null,Ki=1,Xi="";function Na(i,s){Oo[ko++]=ru,Oo[ko++]=oh,oh=i,ru=s}function $v(i,s,o){ri[ii++]=Ki,ri[ii++]=Xi,ri[ii++]=ps,ps=i;var u=Ki;i=Xi;var p=32-en(u)-1;u&=~(1<<p),o+=1;var v=32-en(s)+p;if(30<v){var S=p-p%5;v=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Ki=1<<32-en(s)+p|o<<p|u,Xi=v+i}else Ki=1<<v|o<<p|u,Xi=i}function um(i){i.return!==null&&(Na(i,1),$v(i,1,0))}function fm(i){for(;i===oh;)oh=Oo[--ko],Oo[ko]=null,ru=Oo[--ko],Oo[ko]=null;for(;i===ps;)ps=ri[--ii],ri[ii]=null,Xi=ri[--ii],ri[ii]=null,Ki=ri[--ii],ri[ii]=null}function Qv(i,s){ri[ii++]=Ki,ri[ii++]=Xi,ri[ii++]=ps,Ki=s.id,Xi=s.overflow,ps=i}var Vn=null,Kt=null,gt=!1,gs=null,ai=!1,hm=Error(r(519));function vs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(ni(s,i)),hm}function Jv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[j]=i,s[V]=u,o){case"dialog":ut("cancel",s),ut("close",s);break;case"iframe":case"object":case"embed":ut("load",s);break;case"video":case"audio":for(o=0;o<bu.length;o++)ut(bu[o],s);break;case"source":ut("error",s);break;case"img":case"image":case"link":ut("error",s),ut("load",s);break;case"details":ut("toggle",s);break;case"input":ut("invalid",s),Bf(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ut("invalid",s);break;case"textarea":ut("invalid",s),os(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||p_(s.textContent,o)?(u.popover!=null&&(ut("beforetoggle",s),ut("toggle",s)),u.onScroll!=null&&ut("scroll",s),u.onScrollEnd!=null&&ut("scrollend",s),u.onClick!=null&&(s.onclick=xi),s=!0):s=!1,s||vs(i,!0)}function Zv(i){for(Vn=i.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Vn=Vn.return}}function Mo(i){if(i!==Vn)return!1;if(!gt)return Zv(i),gt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ip(i.type,i.memoizedProps)),o=!o),o&&Kt&&vs(i),Zv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Kt=S_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Kt=S_(i)}else s===27?(s=Kt,Ds(i.type)?(i=Pp,Pp=null,Kt=i):Kt=s):Kt=Vn?li(i.stateNode.nextSibling):null;return!0}function Rl(){Kt=Vn=null,gt=!1}function dm(){var i=gs;return i!==null&&(Sr===null?Sr=i:Sr.push.apply(Sr,i),gs=null),i}function iu(i){gs===null?gs=[i]:gs.push(i)}var mm=Z(null),Cl=null,Ra=null;function xs(i,s,o){J(mm,s._currentValue),s._currentValue=o}function Ca(i){i._currentValue=mm.current,k(mm)}function pm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function gm(i,s,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var S=p.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=p;for(var Y=0;Y<s.length;Y++)if(O.context===s[Y]){v.lanes|=o,O=v.alternate,O!==null&&(O.lanes|=o),pm(v.return,o,i),u||(S=null);break e}v=O.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=o,v=S.alternate,v!==null&&(v.lanes|=o),pm(S,o,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Po(i,s,o,u){i=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var O=p.type;Pr(p.pendingProps.value,S.value)||(i!==null?i.push(O):i=[O])}}else if(p===Re.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Du):i=[Du])}p=p.return}i!==null&&gm(s,i,o,u),s.flags|=262144}function ch(i){for(i=i.firstContext;i!==null;){if(!Pr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Il(i){Cl=i,Ra=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return ex(Cl,i)}function uh(i,s){return Cl===null&&Il(i),ex(i,s)}function ex(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ra===null){if(i===null)throw Error(r(308));Ra=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ra=Ra.next=s;return o}var cb=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},ub=n.unstable_scheduleCallback,fb=n.unstable_NormalPriority,vn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new cb,data:new Map,refCount:0}}function au(i){i.refCount--,i.refCount===0&&ub(fb,function(){i.controller.abort()})}var su=null,xm=0,Lo=0,Fo=null;function hb(i,s){if(su===null){var o=su=[];xm=0,Lo=Ep(),Fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return xm++,s.then(tx,tx),s}function tx(){if(--xm===0&&su!==null){Fo!==null&&(Fo.status="fulfilled");var i=su;su=null,Lo=0,Fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function db(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var nx=pe.S;pe.S=function(i,s){Uy=qt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&hb(i,s),nx!==null&&nx(i,s)};var Dl=Z(null);function ym(){var i=Dl.current;return i!==null?i:Gt.pooledCache}function fh(i,s){s===null?J(Dl,Dl.current):J(Dl,s.pool)}function rx(){var i=ym();return i===null?null:{parent:vn._currentValue,pool:i}}var jo=Error(r(460)),_m=Error(r(474)),hh=Error(r(542)),dh={then:function(){}};function ix(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ax(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(xi,xi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,lx(i),i;default:if(typeof s.status=="string")s.then(xi,xi);else{if(i=Gt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,lx(i),i}throw kl=s,jo}}function Ol(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(kl=o,jo):o}}var kl=null;function sx(){if(kl===null)throw Error(r(459));var i=kl;return kl=null,i}function lx(i){if(i===jo||i===hh)throw Error(r(483))}var Uo=null,lu=0;function mh(i){var s=lu;return lu+=1,Uo===null&&(Uo=[]),ax(Uo,i,s)}function ou(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ph(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function ox(i){function s(te,ee){if(i){var ae=te.deletions;ae===null?(te.deletions=[ee],te.flags|=16):ae.push(ee)}}function o(te,ee){if(!i)return null;for(;ee!==null;)s(te,ee),ee=ee.sibling;return null}function u(te){for(var ee=new Map;te!==null;)te.key!==null?ee.set(te.key,te):ee.set(te.index,te),te=te.sibling;return ee}function p(te,ee){return te=ba(te,ee),te.index=0,te.sibling=null,te}function v(te,ee,ae){return te.index=ae,i?(ae=te.alternate,ae!==null?(ae=ae.index,ae<ee?(te.flags|=67108866,ee):ae):(te.flags|=67108866,ee)):(te.flags|=1048576,ee)}function S(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function O(te,ee,ae,_e){return ee===null||ee.tag!==6?(ee=om(ae,te.mode,_e),ee.return=te,ee):(ee=p(ee,ae),ee.return=te,ee)}function Y(te,ee,ae,_e){var Ke=ae.type;return Ke===T?ye(te,ee,ae.props.children,_e,ae.key):ee!==null&&(ee.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===I&&Ol(Ke)===ee.type)?(ee=p(ee,ae.props),ou(ee,ae),ee.return=te,ee):(ee=lh(ae.type,ae.key,ae.props,null,te.mode,_e),ou(ee,ae),ee.return=te,ee)}function oe(te,ee,ae,_e){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=cm(ae,te.mode,_e),ee.return=te,ee):(ee=p(ee,ae.children||[]),ee.return=te,ee)}function ye(te,ee,ae,_e,Ke){return ee===null||ee.tag!==7?(ee=Nl(ae,te.mode,_e,Ke),ee.return=te,ee):(ee=p(ee,ae),ee.return=te,ee)}function Ee(te,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=om(""+ee,te.mode,ae),ee.return=te,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ae=lh(ee.type,ee.key,ee.props,null,te.mode,ae),ou(ae,ee),ae.return=te,ae;case R:return ee=cm(ee,te.mode,ae),ee.return=te,ee;case I:return ee=Ol(ee),Ee(te,ee,ae)}if(Ge(ee)||G(ee))return ee=Nl(ee,te.mode,ae,null),ee.return=te,ee;if(typeof ee.then=="function")return Ee(te,mh(ee),ae);if(ee.$$typeof===B)return Ee(te,uh(te,ee),ae);ph(te,ee)}return null}function fe(te,ee,ae,_e){var Ke=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ke!==null?null:O(te,ee,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return ae.key===Ke?Y(te,ee,ae,_e):null;case R:return ae.key===Ke?oe(te,ee,ae,_e):null;case I:return ae=Ol(ae),fe(te,ee,ae,_e)}if(Ge(ae)||G(ae))return Ke!==null?null:ye(te,ee,ae,_e,null);if(typeof ae.then=="function")return fe(te,ee,mh(ae),_e);if(ae.$$typeof===B)return fe(te,ee,uh(te,ae),_e);ph(te,ae)}return null}function ge(te,ee,ae,_e,Ke){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return te=te.get(ae)||null,O(ee,te,""+_e,Ke);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return te=te.get(_e.key===null?ae:_e.key)||null,Y(ee,te,_e,Ke);case R:return te=te.get(_e.key===null?ae:_e.key)||null,oe(ee,te,_e,Ke);case I:return _e=Ol(_e),ge(te,ee,ae,_e,Ke)}if(Ge(_e)||G(_e))return te=te.get(ae)||null,ye(ee,te,_e,Ke,null);if(typeof _e.then=="function")return ge(te,ee,ae,mh(_e),Ke);if(_e.$$typeof===B)return ge(te,ee,ae,uh(ee,_e),Ke);ph(ee,_e)}return null}function ze(te,ee,ae,_e){for(var Ke=null,yt=null,qe=ee,st=ee=0,ht=null;qe!==null&&st<ae.length;st++){qe.index>st?(ht=qe,qe=null):ht=qe.sibling;var _t=fe(te,qe,ae[st],_e);if(_t===null){qe===null&&(qe=ht);break}i&&qe&&_t.alternate===null&&s(te,qe),ee=v(_t,ee,st),yt===null?Ke=_t:yt.sibling=_t,yt=_t,qe=ht}if(st===ae.length)return o(te,qe),gt&&Na(te,st),Ke;if(qe===null){for(;st<ae.length;st++)qe=Ee(te,ae[st],_e),qe!==null&&(ee=v(qe,ee,st),yt===null?Ke=qe:yt.sibling=qe,yt=qe);return gt&&Na(te,st),Ke}for(qe=u(qe);st<ae.length;st++)ht=ge(qe,te,st,ae[st],_e),ht!==null&&(i&&ht.alternate!==null&&qe.delete(ht.key===null?st:ht.key),ee=v(ht,ee,st),yt===null?Ke=ht:yt.sibling=ht,yt=ht);return i&&qe.forEach(function(Ls){return s(te,Ls)}),gt&&Na(te,st),Ke}function $e(te,ee,ae,_e){if(ae==null)throw Error(r(151));for(var Ke=null,yt=null,qe=ee,st=ee=0,ht=null,_t=ae.next();qe!==null&&!_t.done;st++,_t=ae.next()){qe.index>st?(ht=qe,qe=null):ht=qe.sibling;var Ls=fe(te,qe,_t.value,_e);if(Ls===null){qe===null&&(qe=ht);break}i&&qe&&Ls.alternate===null&&s(te,qe),ee=v(Ls,ee,st),yt===null?Ke=Ls:yt.sibling=Ls,yt=Ls,qe=ht}if(_t.done)return o(te,qe),gt&&Na(te,st),Ke;if(qe===null){for(;!_t.done;st++,_t=ae.next())_t=Ee(te,_t.value,_e),_t!==null&&(ee=v(_t,ee,st),yt===null?Ke=_t:yt.sibling=_t,yt=_t);return gt&&Na(te,st),Ke}for(qe=u(qe);!_t.done;st++,_t=ae.next())_t=ge(qe,te,st,_t.value,_e),_t!==null&&(i&&_t.alternate!==null&&qe.delete(_t.key===null?st:_t.key),ee=v(_t,ee,st),yt===null?Ke=_t:yt.sibling=_t,yt=_t);return i&&qe.forEach(function(S3){return s(te,S3)}),gt&&Na(te,st),Ke}function Vt(te,ee,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===T&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:e:{for(var Ke=ae.key;ee!==null;){if(ee.key===Ke){if(Ke=ae.type,Ke===T){if(ee.tag===7){o(te,ee.sibling),_e=p(ee,ae.props.children),_e.return=te,te=_e;break e}}else if(ee.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===I&&Ol(Ke)===ee.type){o(te,ee.sibling),_e=p(ee,ae.props),ou(_e,ae),_e.return=te,te=_e;break e}o(te,ee);break}else s(te,ee);ee=ee.sibling}ae.type===T?(_e=Nl(ae.props.children,te.mode,_e,ae.key),_e.return=te,te=_e):(_e=lh(ae.type,ae.key,ae.props,null,te.mode,_e),ou(_e,ae),_e.return=te,te=_e)}return S(te);case R:e:{for(Ke=ae.key;ee!==null;){if(ee.key===Ke)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){o(te,ee.sibling),_e=p(ee,ae.children||[]),_e.return=te,te=_e;break e}else{o(te,ee);break}else s(te,ee);ee=ee.sibling}_e=cm(ae,te.mode,_e),_e.return=te,te=_e}return S(te);case I:return ae=Ol(ae),Vt(te,ee,ae,_e)}if(Ge(ae))return ze(te,ee,ae,_e);if(G(ae)){if(Ke=G(ae),typeof Ke!="function")throw Error(r(150));return ae=Ke.call(ae),$e(te,ee,ae,_e)}if(typeof ae.then=="function")return Vt(te,ee,mh(ae),_e);if(ae.$$typeof===B)return Vt(te,ee,uh(te,ae),_e);ph(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(o(te,ee.sibling),_e=p(ee,ae),_e.return=te,te=_e):(o(te,ee),_e=om(ae,te.mode,_e),_e.return=te,te=_e),S(te)):o(te,ee)}return function(te,ee,ae,_e){try{lu=0;var Ke=Vt(te,ee,ae,_e);return Uo=null,Ke}catch(qe){if(qe===jo||qe===hh)throw qe;var yt=Lr(29,qe,null,te.mode);return yt.lanes=_e,yt.return=te,yt}finally{}}}var Ml=ox(!0),cx=ox(!1),ys=!1;function Em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _s(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(wt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=sh(i),Wv(i,null,o),s}return ah(i,u,s,o),sh(i)}function cu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Ea(i,o)}}function wm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=S:v=v.next=S,o=o.next}while(o!==null);v===null?p=v=s:v=v.next=s}else p=v=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Sm=!1;function uu(){if(Sm){var i=Fo;if(i!==null)throw i}}function fu(i,s,o,u){Sm=!1;var p=i.updateQueue;ys=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var Y=O,oe=Y.next;Y.next=null,S===null?v=oe:S.next=oe,S=Y;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,O=ye.lastBaseUpdate,O!==S&&(O===null?ye.firstBaseUpdate=oe:O.next=oe,ye.lastBaseUpdate=Y))}if(v!==null){var Ee=p.baseState;S=0,ye=oe=Y=null,O=v;do{var fe=O.lane&-536870913,ge=fe!==O.lane;if(ge?(ft&fe)===fe:(u&fe)===fe){fe!==0&&fe===Lo&&(Sm=!0),ye!==null&&(ye=ye.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ze=i,$e=O;fe=s;var Vt=o;switch($e.tag){case 1:if(ze=$e.payload,typeof ze=="function"){Ee=ze.call(Vt,Ee,fe);break e}Ee=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=$e.payload,fe=typeof ze=="function"?ze.call(Vt,Ee,fe):ze,fe==null)break e;Ee=y({},Ee,fe);break e;case 2:ys=!0}}fe=O.callback,fe!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=p.callbacks,ge===null?p.callbacks=[fe]:ge.push(fe))}else ge={lane:fe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ye===null?(oe=ye=ge,Y=Ee):ye=ye.next=ge,S|=fe;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ge=O,O=ge.next,ge.next=null,p.lastBaseUpdate=ge,p.shared.pending=null}}while(!0);ye===null&&(Y=Ee),p.baseState=Y,p.firstBaseUpdate=oe,p.lastBaseUpdate=ye,v===null&&(p.shared.lanes=0),bs|=S,i.lanes=S,i.memoizedState=Ee}}function ux(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function fx(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)ux(o[i],s)}var Vo=Z(null),gh=Z(0);function hx(i,s){i=ja,J(gh,i),J(Vo,s),ja=i|s.baseLanes}function Am(){J(gh,ja),J(Vo,Vo.current)}function bm(){ja=gh.current,k(Vo),k(gh)}var Fr=Z(null),si=null;function Ts(i){var s=i.alternate;J(un,un.current&1),J(Fr,i),si===null&&(s===null||Vo.current!==null||s.memoizedState!==null)&&(si=i)}function Nm(i){J(un,un.current),J(Fr,i),si===null&&(si=i)}function dx(i){i.tag===22?(J(un,un.current),J(Fr,i),si===null&&(si=i)):ws()}function ws(){J(un,un.current),J(Fr,Fr.current)}function jr(i){k(Fr),si===i&&(si=null),k(un)}var un=Z(0);function vh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||kp(o)||Mp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ia=0,it=null,jt=null,xn=null,xh=!1,Bo=!1,Pl=!1,yh=0,hu=0,zo=null,mb=0;function an(){throw Error(r(321))}function Rm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Pr(i[o],s[o]))return!1;return!0}function Cm(i,s,o,u,p,v){return Ia=v,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,pe.H=i===null||i.memoizedState===null?$x:Gm,Pl=!1,v=o(u,p),Pl=!1,Bo&&(v=px(s,o,u,p)),mx(i),v}function mx(i){pe.H=pu;var s=jt!==null&&jt.next!==null;if(Ia=0,xn=jt=it=null,xh=!1,hu=0,zo=null,s)throw Error(r(300));i===null||yn||(i=i.dependencies,i!==null&&ch(i)&&(yn=!0))}function px(i,s,o,u){it=i;var p=0;do{if(Bo&&(zo=null),hu=0,Bo=!1,25<=p)throw Error(r(301));if(p+=1,xn=jt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}pe.H=Qx,v=s(o,u)}while(Bo);return v}function pb(){var i=pe.H,s=i.useState()[0];return s=typeof s.then=="function"?du(s):s,i=i.useState()[0],(jt!==null?jt.memoizedState:null)!==i&&(it.flags|=1024),s}function Im(){var i=yh!==0;return yh=0,i}function Dm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Om(i){if(xh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xh=!1}Ia=0,xn=jt=it=null,Bo=!1,hu=yh=0,zo=null}function mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?it.memoizedState=xn=i:xn=xn.next=i,xn}function fn(){if(jt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=xn===null?it.memoizedState:xn.next;if(s!==null)xn=s,jt=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},xn===null?it.memoizedState=xn=i:xn=xn.next=i}return xn}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(i){var s=hu;return hu+=1,zo===null&&(zo=[]),i=ax(zo,i,s),s=it,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,pe.H=s===null||s.memoizedState===null?$x:Gm),i}function Eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return du(i);if(i.$$typeof===B)return Bn(i)}throw Error(r(438,String(i)))}function km(i){var s=null,o=it.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=it.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_h(),it.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=F;return s.index++,o}function Da(i,s){return typeof s=="function"?s(i):s}function Th(i){var s=fn();return Mm(s,jt,i)}function Mm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var p=i.baseQueue,v=u.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}s.baseQueue=p=v,u.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{s=p.next;var O=S=null,Y=null,oe=s,ye=!1;do{var Ee=oe.lane&-536870913;if(Ee!==oe.lane?(ft&Ee)===Ee:(Ia&Ee)===Ee){var fe=oe.revertLane;if(fe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ee===Lo&&(ye=!0);else if((Ia&fe)===fe){oe=oe.next,fe===Lo&&(ye=!0);continue}else Ee={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(O=Y=Ee,S=v):Y=Y.next=Ee,it.lanes|=fe,bs|=fe;Ee=oe.action,Pl&&o(v,Ee),v=oe.hasEagerState?oe.eagerState:o(v,Ee)}else fe={lane:Ee,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(O=Y=fe,S=v):Y=Y.next=fe,it.lanes|=Ee,bs|=Ee;oe=oe.next}while(oe!==null&&oe!==s);if(Y===null?S=v:Y.next=O,!Pr(v,i.memoizedState)&&(yn=!0,ye&&(o=Fo,o!==null)))throw o;i.memoizedState=v,i.baseState=S,i.baseQueue=Y,u.lastRenderedState=v}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Pm(i){var s=fn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,v=s.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do v=i(v,S.action),S=S.next;while(S!==p);Pr(v,s.memoizedState)||(yn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,u]}function gx(i,s,o){var u=it,p=fn(),v=gt;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!Pr((jt||p).memoizedState,o);if(S&&(p.memoizedState=o,yn=!0),p=p.queue,jm(yx.bind(null,u,p,i),[i]),p.getSnapshot!==s||S||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,Ho(9,{destroy:void 0},xx.bind(null,u,p,o,s),null),Gt===null)throw Error(r(349));v||(Ia&127)!==0||vx(u,s,o)}return o}function vx(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=it.updateQueue,s===null?(s=_h(),it.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function xx(i,s,o,u){s.value=o,s.getSnapshot=u,_x(s)&&Ex(i)}function yx(i,s,o){return o(function(){_x(s)&&Ex(i)})}function _x(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Pr(i,o)}catch{return!0}}function Ex(i){var s=bl(i,2);s!==null&&Ar(s,i,2)}function Lm(i){var s=mr();if(typeof i=="function"){var o=i;if(i=o(),Pl){fr(!0);try{o()}finally{fr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:i},s}function Tx(i,s,o,u){return i.baseState=o,Mm(i,jt,typeof u=="function"?u:Da)}function gb(i,s,o,u,p){if(Ah(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};pe.T!==null?o(!0):v.isTransition=!1,u(v),o=s.pending,o===null?(v.next=s.pending=v,wx(s,v)):(v.next=o.next,s.pending=o.next=v)}}function wx(i,s){var o=s.action,u=s.payload,p=i.state;if(s.isTransition){var v=pe.T,S={};pe.T=S;try{var O=o(p,u),Y=pe.S;Y!==null&&Y(S,O),Sx(i,s,O)}catch(oe){Fm(i,s,oe)}finally{v!==null&&S.types!==null&&(v.types=S.types),pe.T=v}}else try{v=o(p,u),Sx(i,s,v)}catch(oe){Fm(i,s,oe)}}function Sx(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Ax(i,s,u)},function(u){return Fm(i,s,u)}):Ax(i,s,o)}function Ax(i,s,o){s.status="fulfilled",s.value=o,bx(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,wx(i,o)))}function Fm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,bx(s),s=s.next;while(s!==u)}i.action=null}function bx(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Nx(i,s){return s}function Rx(i,s){if(gt){var o=Gt.formState;if(o!==null){e:{var u=it;if(gt){if(Kt){t:{for(var p=Kt,v=ai;p.nodeType!==8;){if(!v){p=null;break t}if(p=li(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Kt=li(p.nextSibling),u=p.data==="F!";break e}}vs(u)}u=!1}u&&(s=o[0])}}return o=mr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nx,lastRenderedState:s},o.queue=u,o=Kx.bind(null,it,u),u.dispatch=o,u=Lm(!1),v=Hm.bind(null,it,!1,u.queue),u=mr(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,o=gb.bind(null,it,p,v,o),p.dispatch=o,u.memoizedState=i,[s,o,!1]}function Cx(i){var s=fn();return Ix(s,jt,i)}function Ix(i,s,o){if(s=Mm(i,s,Nx)[0],i=Th(Da)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=du(s)}catch(S){throw S===jo?hh:S}else u=s;s=fn();var p=s.queue,v=p.dispatch;return o!==s.memoizedState&&(it.flags|=2048,Ho(9,{destroy:void 0},vb.bind(null,p,o),null)),[u,v,i]}function vb(i,s){i.action=s}function Dx(i){var s=fn(),o=jt;if(o!==null)return Ix(s,o,i);fn(),s=s.memoizedState,o=fn();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Ho(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=it.updateQueue,s===null&&(s=_h(),it.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Ox(){return fn().memoizedState}function wh(i,s,o,u){var p=mr();it.flags|=i,p.memoizedState=Ho(1|s,{destroy:void 0},o,u===void 0?null:u)}function Sh(i,s,o,u){var p=fn();u=u===void 0?null:u;var v=p.memoizedState.inst;jt!==null&&u!==null&&Rm(u,jt.memoizedState.deps)?p.memoizedState=Ho(s,v,o,u):(it.flags|=i,p.memoizedState=Ho(1|s,v,o,u))}function kx(i,s){wh(8390656,8,i,s)}function jm(i,s){Sh(2048,8,i,s)}function xb(i){it.flags|=4;var s=it.updateQueue;if(s===null)s=_h(),it.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Mx(i){var s=fn().memoizedState;return xb({ref:s,nextImpl:i}),function(){if((wt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Px(i,s){return Sh(4,2,i,s)}function Lx(i,s){return Sh(4,4,i,s)}function Fx(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function jx(i,s,o){o=o!=null?o.concat([i]):null,Sh(4,4,Fx.bind(null,s,i),o)}function Um(){}function Ux(i,s){var o=fn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Rm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Vx(i,s){var o=fn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Rm(s,u[1]))return u[0];if(u=i(),Pl){fr(!0);try{i()}finally{fr(!1)}}return o.memoizedState=[u,s],u}function Vm(i,s,o){return o===void 0||(Ia&1073741824)!==0&&(ft&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=By(),it.lanes|=i,bs|=i,o)}function Bx(i,s,o,u){return Pr(o,s)?o:Vo.current!==null?(i=Vm(i,o,u),Pr(i,s)||(yn=!0),i):(Ia&42)===0||(Ia&1073741824)!==0&&(ft&261930)===0?(yn=!0,i.memoizedState=o):(i=By(),it.lanes|=i,bs|=i,s)}function zx(i,s,o,u,p){var v=Ne.p;Ne.p=v!==0&&8>v?v:8;var S=pe.T,O={};pe.T=O,Hm(i,!1,s,o);try{var Y=p(),oe=pe.S;if(oe!==null&&oe(O,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ye=db(Y,u);mu(i,s,ye,Br(i))}else mu(i,s,u,Br(i))}catch(Ee){mu(i,s,{then:function(){},status:"rejected",reason:Ee},Br())}finally{Ne.p=v,S!==null&&O.types!==null&&(S.types=O.types),pe.T=S}}function yb(){}function Bm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var p=Hx(i).queue;zx(i,p,s,Be,o===null?yb:function(){return Gx(i),o(u)})}function Hx(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:Be},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Gx(i){var s=Hx(i);s.next===null&&(s=i.alternate.memoizedState),mu(i,s.next.queue,{},Br())}function zm(){return Bn(Du)}function qx(){return fn().memoizedState}function Wx(){return fn().memoizedState}function _b(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Br();i=_s(o);var u=Es(s,i,o);u!==null&&(Ar(u,s,o),cu(u,s,o)),s={cache:vm()},i.payload=s;return}s=s.return}}function Eb(i,s,o){var u=Br();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(i)?Xx(s,o):(o=sm(i,s,o,u),o!==null&&(Ar(o,i,u),Yx(o,s,u)))}function Kx(i,s,o){var u=Br();mu(i,s,o,u)}function mu(i,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(i))Xx(s,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,O=v(S,o);if(p.hasEagerState=!0,p.eagerState=O,Pr(O,S))return ah(i,s,p,0),Gt===null&&ih(),!1}catch{}finally{}if(o=sm(i,s,p,u),o!==null)return Ar(o,i,u),Yx(o,s,u),!0}return!1}function Hm(i,s,o,u){if(u={lane:2,revertLane:Ep(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ah(i)){if(s)throw Error(r(479))}else s=sm(i,o,u,2),s!==null&&Ar(s,i,2)}function Ah(i){var s=i.alternate;return i===it||s!==null&&s===it}function Xx(i,s){Bo=xh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Yx(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Ea(i,o)}}var pu={readContext:Bn,use:Eh,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};pu.useEffectEvent=an;var $x={readContext:Bn,use:Eh,useCallback:function(i,s){return mr().memoizedState=[i,s===void 0?null:s],i},useContext:Bn,useEffect:kx,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,wh(4194308,4,Fx.bind(null,s,i),o)},useLayoutEffect:function(i,s){return wh(4194308,4,i,s)},useInsertionEffect:function(i,s){wh(4,2,i,s)},useMemo:function(i,s){var o=mr();s=s===void 0?null:s;var u=i();if(Pl){fr(!0);try{i()}finally{fr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=mr();if(o!==void 0){var p=o(s);if(Pl){fr(!0);try{o(s)}finally{fr(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=Eb.bind(null,it,i),[u.memoizedState,i]},useRef:function(i){var s=mr();return i={current:i},s.memoizedState=i},useState:function(i){i=Lm(i);var s=i.queue,o=Kx.bind(null,it,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Um,useDeferredValue:function(i,s){var o=mr();return Vm(o,i,s)},useTransition:function(){var i=Lm(!1);return i=zx.bind(null,it,i.queue,!0,!1),mr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=it,p=mr();if(gt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Gt===null)throw Error(r(349));(ft&127)!==0||vx(u,s,o)}p.memoizedState=o;var v={value:o,getSnapshot:s};return p.queue=v,kx(yx.bind(null,u,v,i),[i]),u.flags|=2048,Ho(9,{destroy:void 0},xx.bind(null,u,v,o,s),null),o},useId:function(){var i=mr(),s=Gt.identifierPrefix;if(gt){var o=Xi,u=Ki;o=(u&~(1<<32-en(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=yh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=mb++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:zm,useFormState:Rx,useActionState:Rx,useOptimistic:function(i){var s=mr();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Hm.bind(null,it,!0,o),o.dispatch=s,[i,s]},useMemoCache:km,useCacheRefresh:function(){return mr().memoizedState=_b.bind(null,it)},useEffectEvent:function(i){var s=mr(),o={impl:i};return s.memoizedState=o,function(){if((wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Gm={readContext:Bn,use:Eh,useCallback:Ux,useContext:Bn,useEffect:jm,useImperativeHandle:jx,useInsertionEffect:Px,useLayoutEffect:Lx,useMemo:Vx,useReducer:Th,useRef:Ox,useState:function(){return Th(Da)},useDebugValue:Um,useDeferredValue:function(i,s){var o=fn();return Bx(o,jt.memoizedState,i,s)},useTransition:function(){var i=Th(Da)[0],s=fn().memoizedState;return[typeof i=="boolean"?i:du(i),s]},useSyncExternalStore:gx,useId:qx,useHostTransitionStatus:zm,useFormState:Cx,useActionState:Cx,useOptimistic:function(i,s){var o=fn();return Tx(o,jt,i,s)},useMemoCache:km,useCacheRefresh:Wx};Gm.useEffectEvent=Mx;var Qx={readContext:Bn,use:Eh,useCallback:Ux,useContext:Bn,useEffect:jm,useImperativeHandle:jx,useInsertionEffect:Px,useLayoutEffect:Lx,useMemo:Vx,useReducer:Pm,useRef:Ox,useState:function(){return Pm(Da)},useDebugValue:Um,useDeferredValue:function(i,s){var o=fn();return jt===null?Vm(o,i,s):Bx(o,jt.memoizedState,i,s)},useTransition:function(){var i=Pm(Da)[0],s=fn().memoizedState;return[typeof i=="boolean"?i:du(i),s]},useSyncExternalStore:gx,useId:qx,useHostTransitionStatus:zm,useFormState:Dx,useActionState:Dx,useOptimistic:function(i,s){var o=fn();return jt!==null?Tx(o,jt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:km,useCacheRefresh:Wx};Qx.useEffectEvent=Mx;function qm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Wm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Br(),p=_s(u);p.payload=s,o!=null&&(p.callback=o),s=Es(i,p,u),s!==null&&(Ar(s,i,u),cu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Br(),p=_s(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Es(i,p,u),s!==null&&(Ar(s,i,u),cu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Br(),u=_s(o);u.tag=2,s!=null&&(u.callback=s),s=Es(i,u,o),s!==null&&(Ar(s,i,o),cu(s,i,o))}};function Jx(i,s,o,u,p,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,S):s.prototype&&s.prototype.isPureReactComponent?!tu(o,u)||!tu(p,v):!0}function Zx(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Wm.enqueueReplaceState(s,s.state,null)}function Ll(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function ey(i){rh(i)}function ty(i){console.error(i)}function ny(i){rh(i)}function bh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function ry(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Km(i,s,o){return o=_s(o),o.tag=3,o.payload={element:null},o.callback=function(){bh(i,s)},o}function iy(i){return i=_s(i),i.tag=3,i}function ay(i,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;i.payload=function(){return p(v)},i.callback=function(){ry(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){ry(s,o,u),typeof p!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function Tb(i,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Po(s,o,p,!0),o=Fr.current,o!==null){switch(o.tag){case 31:case 13:return si===null?jh():o.alternate===null&&sn===0&&(sn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===dh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),xp(i,u,p)),!1;case 22:return o.flags|=65536,u===dh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),xp(i,u,p)),!1}throw Error(r(435,o.tag))}return xp(i,u,p),jh(),!1}if(gt)return s=Fr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==hm&&(i=Error(r(422),{cause:u}),iu(ni(i,o)))):(u!==hm&&(s=Error(r(423),{cause:u}),iu(ni(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=ni(u,o),p=Km(i.stateNode,u,p),wm(i,p),sn!==4&&(sn=2)),!1;var v=Error(r(520),{cause:u});if(v=ni(v,o),wu===null?wu=[v]:wu.push(v),sn!==4&&(sn=2),s===null)return!0;u=ni(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Km(o.stateNode,u,i),wm(o,i),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ns===null||!Ns.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=iy(p),ay(p,i,o,u),wm(o,p),!1}o=o.return}while(o!==null);return!1}var Xm=Error(r(461)),yn=!1;function zn(i,s,o,u){s.child=i===null?cx(s,null,o,u):Ml(s,i.child,o,u)}function sy(i,s,o,u,p){o=o.render;var v=s.ref;if("ref"in u){var S={};for(var O in u)O!=="ref"&&(S[O]=u[O])}else S=u;return Il(s),u=Cm(i,s,o,S,v,p),O=Im(),i!==null&&!yn?(Dm(i,s,p),Oa(i,s,p)):(gt&&O&&um(s),s.flags|=1,zn(i,s,u,p),s.child)}function ly(i,s,o,u,p){if(i===null){var v=o.type;return typeof v=="function"&&!lm(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,oy(i,s,v,u,p)):(i=lh(o.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!np(i,p)){var S=v.memoizedProps;if(o=o.compare,o=o!==null?o:tu,o(S,u)&&i.ref===s.ref)return Oa(i,s,p)}return s.flags|=1,i=ba(v,u),i.ref=s.ref,i.return=s,s.child=i}function oy(i,s,o,u,p){if(i!==null){var v=i.memoizedProps;if(tu(v,u)&&i.ref===s.ref)if(yn=!1,s.pendingProps=u=v,np(i,p))(i.flags&131072)!==0&&(yn=!0);else return s.lanes=i.lanes,Oa(i,s,p)}return Ym(i,s,o,u,p)}function cy(i,s,o,u){var p=u.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,s.child=null;return uy(i,s,v,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&fh(s,v!==null?v.cachePool:null),v!==null?hx(s,v):Am(),dx(s);else return u=s.lanes=536870912,uy(i,s,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(fh(s,v.cachePool),hx(s,v),ws(),s.memoizedState=null):(i!==null&&fh(s,null),Am(),ws());return zn(i,s,p,o),s.child}function gu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function uy(i,s,o,u,p){var v=ym();return v=v===null?null:{parent:vn._currentValue,pool:v},s.memoizedState={baseLanes:o,cachePool:v},i!==null&&fh(s,null),Am(),dx(s),i!==null&&Po(i,s,u,!0),s.childLanes=p,null}function Nh(i,s){return s=Ch({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function fy(i,s,o){return Ml(s,i.child,null,o),i=Nh(s,s.pendingProps),i.flags|=2,jr(s),s.memoizedState=null,i}function wb(i,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(gt){if(u.mode==="hidden")return i=Nh(s,u),s.lanes=536870912,gu(null,i);if(Nm(s),(i=Kt)?(i=w_(i,ai),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ps!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Xv(i),o.return=s,s.child=o,Vn=s,Kt=null)):i=null,i===null)throw vs(s);return s.lanes=536870912,null}return Nh(s,u)}var v=i.memoizedState;if(v!==null){var S=v.dehydrated;if(Nm(s),p)if(s.flags&256)s.flags&=-257,s=fy(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(yn||Po(i,s,o,!1),p=(o&i.childLanes)!==0,yn||p){if(u=Gt,u!==null&&(S=ml(u,o),S!==0&&S!==v.retryLane))throw v.retryLane=S,bl(i,S),Ar(u,i,S),Xm;jh(),s=fy(i,s,o)}else i=v.treeContext,Kt=li(S.nextSibling),Vn=s,gt=!0,gs=null,ai=!1,i!==null&&Qv(s,i),s=Nh(s,u),s.flags|=4096;return s}return i=ba(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Rh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Ym(i,s,o,u,p){return Il(s),o=Cm(i,s,o,u,void 0,p),u=Im(),i!==null&&!yn?(Dm(i,s,p),Oa(i,s,p)):(gt&&u&&um(s),s.flags|=1,zn(i,s,o,p),s.child)}function hy(i,s,o,u,p,v){return Il(s),s.updateQueue=null,o=px(s,u,o,p),mx(i),u=Im(),i!==null&&!yn?(Dm(i,s,v),Oa(i,s,v)):(gt&&u&&um(s),s.flags|=1,zn(i,s,o,v),s.child)}function dy(i,s,o,u,p){if(Il(s),s.stateNode===null){var v=Do,S=o.contextType;typeof S=="object"&&S!==null&&(v=Bn(S)),v=new o(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Wm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Em(s),S=o.contextType,v.context=typeof S=="object"&&S!==null?Bn(S):Do,v.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(qm(s,o,S,u),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&Wm.enqueueReplaceState(v,v.state,null),fu(s,u,v,p),uu(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var O=s.memoizedProps,Y=Ll(o,O);v.props=Y;var oe=v.context,ye=o.contextType;S=Do,typeof ye=="object"&&ye!==null&&(S=Bn(ye));var Ee=o.getDerivedStateFromProps;ye=typeof Ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ye||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||oe!==S)&&Zx(s,v,u,S),ys=!1;var fe=s.memoizedState;v.state=fe,fu(s,u,v,p),uu(),oe=s.memoizedState,O||fe!==oe||ys?(typeof Ee=="function"&&(qm(s,o,Ee,u),oe=s.memoizedState),(Y=ys||Jx(s,o,Y,u,fe,oe,S))?(ye||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=oe),v.props=u,v.state=oe,v.context=S,u=Y):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Tm(i,s),S=s.memoizedProps,ye=Ll(o,S),v.props=ye,Ee=s.pendingProps,fe=v.context,oe=o.contextType,Y=Do,typeof oe=="object"&&oe!==null&&(Y=Bn(oe)),O=o.getDerivedStateFromProps,(oe=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Ee||fe!==Y)&&Zx(s,v,u,Y),ys=!1,fe=s.memoizedState,v.state=fe,fu(s,u,v,p),uu();var ge=s.memoizedState;S!==Ee||fe!==ge||ys||i!==null&&i.dependencies!==null&&ch(i.dependencies)?(typeof O=="function"&&(qm(s,o,O,u),ge=s.memoizedState),(ye=ys||Jx(s,o,ye,u,fe,ge,Y)||i!==null&&i.dependencies!==null&&ch(i.dependencies))?(oe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ge,Y),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ge,Y)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ge),v.props=u,v.state=ge,v.context=Y,u=ye):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&fe===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&fe===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,Rh(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=Ml(s,i.child,null,p),s.child=Ml(s,null,o,p)):zn(i,s,o,p),s.memoizedState=v.state,i=s.child):i=Oa(i,s,p),i}function my(i,s,o,u){return Rl(),s.flags|=256,zn(i,s,o,u),s.child}var $m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(i){return{baseLanes:i,cachePool:rx()}}function Jm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Vr),i}function py(i,s,o){var u=s.pendingProps,p=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(gt){if(p?Ts(s):ws(),(i=Kt)?(i=w_(i,ai),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ps!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Xv(i),o.return=s,s.child=o,Vn=s,Kt=null)):i=null,i===null)throw vs(s);return Mp(i)?s.lanes=32:s.lanes=536870912,null}var O=u.children;return u=u.fallback,p?(ws(),p=s.mode,O=Ch({mode:"hidden",children:O},p),u=Nl(u,p,o,null),O.return=s,u.return=s,O.sibling=u,s.child=O,u=s.child,u.memoizedState=Qm(o),u.childLanes=Jm(i,S,o),s.memoizedState=$m,gu(null,u)):(Ts(s),Zm(s,O))}var Y=i.memoizedState;if(Y!==null&&(O=Y.dehydrated,O!==null)){if(v)s.flags&256?(Ts(s),s.flags&=-257,s=ep(i,s,o)):s.memoizedState!==null?(ws(),s.child=i.child,s.flags|=128,s=null):(ws(),O=u.fallback,p=s.mode,u=Ch({mode:"visible",children:u.children},p),O=Nl(O,p,o,null),O.flags|=2,u.return=s,O.return=s,u.sibling=O,s.child=u,Ml(s,i.child,null,o),u=s.child,u.memoizedState=Qm(o),u.childLanes=Jm(i,S,o),s.memoizedState=$m,s=gu(null,u));else if(Ts(s),Mp(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var oe=S.dgst;S=oe,u=Error(r(419)),u.stack="",u.digest=S,iu({value:u,source:null,stack:null}),s=ep(i,s,o)}else if(yn||Po(i,s,o,!1),S=(o&i.childLanes)!==0,yn||S){if(S=Gt,S!==null&&(u=ml(S,o),u!==0&&u!==Y.retryLane))throw Y.retryLane=u,bl(i,u),Ar(S,i,u),Xm;kp(O)||jh(),s=ep(i,s,o)}else kp(O)?(s.flags|=192,s.child=i.child,s=null):(i=Y.treeContext,Kt=li(O.nextSibling),Vn=s,gt=!0,gs=null,ai=!1,i!==null&&Qv(s,i),s=Zm(s,u.children),s.flags|=4096);return s}return p?(ws(),O=u.fallback,p=s.mode,Y=i.child,oe=Y.sibling,u=ba(Y,{mode:"hidden",children:u.children}),u.subtreeFlags=Y.subtreeFlags&65011712,oe!==null?O=ba(oe,O):(O=Nl(O,p,o,null),O.flags|=2),O.return=s,u.return=s,u.sibling=O,s.child=u,gu(null,u),u=s.child,O=i.child.memoizedState,O===null?O=Qm(o):(p=O.cachePool,p!==null?(Y=vn._currentValue,p=p.parent!==Y?{parent:Y,pool:Y}:p):p=rx(),O={baseLanes:O.baseLanes|o,cachePool:p}),u.memoizedState=O,u.childLanes=Jm(i,S,o),s.memoizedState=$m,gu(i.child,u)):(Ts(s),o=i.child,i=o.sibling,o=ba(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function Zm(i,s){return s=Ch({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ch(i,s){return i=Lr(22,i,null,s),i.lanes=0,i}function ep(i,s,o){return Ml(s,i.child,null,o),i=Zm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function gy(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),pm(i.return,s,o)}function tp(i,s,o,u,p,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=p,S.treeForkCount=v)}function vy(i,s,o){var u=s.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var S=un.current,O=(S&2)!==0;if(O?(S=S&1|2,s.flags|=128):S&=1,J(un,S),zn(i,s,u,o),u=gt?ru:0,!O&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gy(i,o,s);else if(i.tag===19)gy(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&vh(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),tp(s,!1,p,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&vh(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}tp(s,!0,o,null,v,u);break;case"together":tp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Oa(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Po(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=ba(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=ba(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function np(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ch(i)))}function Sb(i,s,o){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),xs(s,vn,i.memoizedState.cache),Rl();break;case 27:case 5:Pe(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Nm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?py(i,s,o):(Ts(s),i=Oa(i,s,o),i!==null?i.sibling:null);Ts(s);break;case 19:var p=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Po(i,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return vy(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(un,un.current),u)break;return null;case 22:return s.lanes=0,cy(i,s,o,s.pendingProps);case 24:xs(s,vn,i.memoizedState.cache)}return Oa(i,s,o)}function xy(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)yn=!0;else{if(!np(i,o)&&(s.flags&128)===0)return yn=!1,Sb(i,s,o);yn=(i.flags&131072)!==0}else yn=!1,gt&&(s.flags&1048576)!==0&&$v(s,ru,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=Ol(s.elementType),s.type=i,typeof i=="function")lm(i)?(u=Ll(i,u),s.tag=1,s=dy(null,s,i,u,o)):(s.tag=0,s=Ym(null,s,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===X){s.tag=11,s=sy(null,s,i,u,o);break e}else if(p===N){s.tag=14,s=ly(null,s,i,u,o);break e}}throw s=We(i)||i,Error(r(306,s,""))}}return s;case 0:return Ym(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=Ll(u,s.pendingProps),dy(i,s,u,p,o);case 3:e:{if(Fe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var v=s.memoizedState;p=v.element,Tm(i,s),fu(s,u,null,o);var S=s.memoizedState;if(u=S.cache,xs(s,vn,u),u!==v.cache&&gm(s,[vn],o,!0),uu(),u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=my(i,s,u,o);break e}else if(u!==p){p=ni(Error(r(424)),s),iu(p),s=my(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Kt=li(i.firstChild),Vn=s,gt=!0,gs=null,ai=!0,o=cx(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Rl(),u===p){s=Oa(i,s,o);break e}zn(i,s,u,o)}s=s.child}return s;case 26:return Rh(i,s),i===null?(o=C_(s.type,null,s.pendingProps,null))?s.memoizedState=o:gt||(o=s.type,i=s.pendingProps,u=qh(de.current).createElement(o),u[j]=s,u[V]=i,Hn(u,o,i),He(u),s.stateNode=u):s.memoizedState=C_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Pe(s),i===null&&gt&&(u=s.stateNode=b_(s.type,s.pendingProps,de.current),Vn=s,ai=!0,p=Kt,Ds(s.type)?(Pp=p,Kt=li(u.firstChild)):Kt=p),zn(i,s,s.pendingProps.children,o),Rh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&gt&&((p=u=Kt)&&(u=e3(u,s.type,s.pendingProps,ai),u!==null?(s.stateNode=u,Vn=s,Kt=li(u.firstChild),ai=!1,p=!0):p=!1),p||vs(s)),Pe(s),p=s.type,v=s.pendingProps,S=i!==null?i.memoizedProps:null,u=v.children,Ip(p,v)?u=null:S!==null&&Ip(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=Cm(i,s,pb,null,null,o),Du._currentValue=p),Rh(i,s),zn(i,s,u,o),s.child;case 6:return i===null&&gt&&((i=o=Kt)&&(o=t3(o,s.pendingProps,ai),o!==null?(s.stateNode=o,Vn=s,Kt=null,i=!0):i=!1),i||vs(s)),null;case 13:return py(i,s,o);case 4:return Fe(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Ml(s,null,u,o):zn(i,s,u,o),s.child;case 11:return sy(i,s,s.type,s.pendingProps,o);case 7:return zn(i,s,s.pendingProps,o),s.child;case 8:return zn(i,s,s.pendingProps.children,o),s.child;case 12:return zn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,xs(s,s.type,u.value),zn(i,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Il(s),p=Bn(p),u=u(p),s.flags|=1,zn(i,s,u,o),s.child;case 14:return ly(i,s,s.type,s.pendingProps,o);case 15:return oy(i,s,s.type,s.pendingProps,o);case 19:return vy(i,s,o);case 31:return wb(i,s,o);case 22:return cy(i,s,o,s.pendingProps);case 24:return Il(s),u=Bn(vn),i===null?(p=ym(),p===null&&(p=Gt,v=vm(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),s.memoizedState={parent:u,cache:p},Em(s),xs(s,vn,p)):((i.lanes&o)!==0&&(Tm(i,s),fu(s,null,null,o),uu()),p=i.memoizedState,v=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),xs(s,vn,u)):(u=v.cache,xs(s,vn,u),u!==p.cache&&gm(s,[vn],o,!0))),zn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ka(i){i.flags|=4}function rp(i,s,o,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(qy())i.flags|=8192;else throw kl=dh,_m}else i.flags&=-16777217}function yy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!M_(s))if(qy())i.flags|=8192;else throw kl=dh,_m}function Ih(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xo():536870912,i.lanes|=s,Ko|=s)}function vu(i,s){if(!gt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function Ab(i,s,o){var u=s.pendingProps;switch(fm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return Xt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ca(vn),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Mo(s)?ka(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dm())),Xt(s),null;case 26:var p=s.type,v=s.memoizedState;return i===null?(ka(s),v!==null?(Xt(s),yy(s,v)):(Xt(s),rp(s,p,null,u,o))):v?v!==i.memoizedState?(ka(s),Xt(s),yy(s,v)):(Xt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&ka(s),Xt(s),rp(s,p,i,u,o)),null;case 27:if(vt(s),o=de.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ka(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}i=K.current,Mo(s)?Jv(s):(i=b_(p,u,o),s.stateNode=i,ka(s))}return Xt(s),null;case 5:if(vt(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ka(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}if(v=K.current,Mo(s))Jv(s);else{var S=qh(de.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?S.createElement(p,{is:u.is}):S.createElement(p)}}v[j]=s,v[V]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;e:switch(Hn(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ka(s)}}return Xt(s),rp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ka(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=de.current,Mo(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,p=Vn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[j]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||p_(i.nodeValue,o)),i||vs(s,!0)}else i=qh(i).createTextNode(u),i[j]=s,s.stateNode=i}return Xt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=Mo(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[j]=s}else Rl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),i=!1}else o=dm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(jr(s),s):(jr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Xt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Mo(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[j]=s}else Rl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),p=!1}else p=dm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(jr(s),s):(jr(s),null)}return jr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Ih(s,s.updateQueue),Xt(s),null);case 4:return Ie(),i===null&&Ap(s.stateNode.containerInfo),Xt(s),null;case 10:return Ca(s.type),Xt(s),null;case 19:if(k(un),u=s.memoizedState,u===null)return Xt(s),null;if(p=(s.flags&128)!==0,v=u.rendering,v===null)if(p)vu(u,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=vh(i),v!==null){for(s.flags|=128,vu(u,!1),i=v.updateQueue,s.updateQueue=i,Ih(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Kv(o,i),o=o.sibling;return J(un,un.current&1|2),gt&&Na(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&qt()>Ph&&(s.flags|=128,p=!0,vu(u,!1),s.lanes=4194304)}else{if(!p)if(i=vh(v),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Ih(s,i),vu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!gt)return Xt(s),null}else 2*qt()-u.renderingStartTime>Ph&&o!==536870912&&(s.flags|=128,p=!0,vu(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(i=u.last,i!==null?i.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=qt(),i.sibling=null,o=un.current,J(un,p?o&1|2:o&1),gt&&Na(s,u.treeForkCount),i):(Xt(s),null);case 22:case 23:return jr(s),bm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),o=s.updateQueue,o!==null&&Ih(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&k(Dl),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ca(vn),Xt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function bb(i,s){switch(fm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ca(vn),Ie(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return vt(s),null;case 31:if(s.memoizedState!==null){if(jr(s),s.alternate===null)throw Error(r(340));Rl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(jr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Rl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return k(un),null;case 4:return Ie(),null;case 10:return Ca(s.type),null;case 22:case 23:return jr(s),bm(),i!==null&&k(Dl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ca(vn),null;case 25:return null;default:return null}}function _y(i,s){switch(fm(s),s.tag){case 3:Ca(vn),Ie();break;case 26:case 27:case 5:vt(s);break;case 4:Ie();break;case 31:s.memoizedState!==null&&jr(s);break;case 13:jr(s);break;case 19:k(un);break;case 10:Ca(s.type);break;case 22:case 23:jr(s),bm(),i!==null&&k(Dl);break;case 24:Ca(vn)}}function xu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var v=o.create,S=o.inst;u=v(),S.destroy=u}o=o.next}while(o!==p)}}catch(O){Ot(s,s.return,O)}}function Ss(i,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){var S=u.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,p=s;var Y=o,oe=O;try{oe()}catch(ye){Ot(p,Y,ye)}}}u=u.next}while(u!==v)}}catch(ye){Ot(s,s.return,ye)}}function Ey(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{fx(s,o)}catch(u){Ot(i,i.return,u)}}}function Ty(i,s,o){o.props=Ll(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ot(i,s,u)}}function yu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){Ot(i,s,p)}}function Yi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ot(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ot(i,s,p)}else o.current=null}function wy(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ot(i,i.return,p)}}function ip(i,s,o){try{var u=i.stateNode;Xb(u,i.type,o,s),u[V]=s}catch(p){Ot(i,i.return,p)}}function Sy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ds(i.type)||i.tag===4}function ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ds(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sp(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=xi));else if(u!==4&&(u===27&&Ds(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(sp(i,s,o),i=i.sibling;i!==null;)sp(i,s,o),i=i.sibling}function Dh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Ds(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Dh(i,s,o),i=i.sibling;i!==null;)Dh(i,s,o),i=i.sibling}function Ay(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Hn(s,u,o),s[j]=i,s[V]=o}catch(v){Ot(i,i.return,v)}}var Ma=!1,_n=!1,lp=!1,by=typeof WeakSet=="function"?WeakSet:Set,kn=null;function Nb(i,s){if(i=i.containerInfo,Rp=Jh,i=jv(i),em(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var S=0,O=-1,Y=-1,oe=0,ye=0,Ee=i,fe=null;t:for(;;){for(var ge;Ee!==o||p!==0&&Ee.nodeType!==3||(O=S+p),Ee!==v||u!==0&&Ee.nodeType!==3||(Y=S+u),Ee.nodeType===3&&(S+=Ee.nodeValue.length),(ge=Ee.firstChild)!==null;)fe=Ee,Ee=ge;for(;;){if(Ee===i)break t;if(fe===o&&++oe===p&&(O=S),fe===v&&++ye===u&&(Y=S),(ge=Ee.nextSibling)!==null)break;Ee=fe,fe=Ee.parentNode}Ee=ge}o=O===-1||Y===-1?null:{start:O,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cp={focusedElem:i,selectionRange:o},Jh=!1,kn=s;kn!==null;)if(s=kn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,kn=i;else for(;kn!==null;){switch(s=kn,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=s,p=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var ze=Ll(o.type,p);i=u.getSnapshotBeforeUpdate(ze,v),u.__reactInternalSnapshotBeforeUpdate=i}catch($e){Ot(o,o.return,$e)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,kn=i;break}kn=s.return}}function Ny(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:La(i,o),u&4&&xu(5,o);break;case 1:if(La(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(S){Ot(o,o.return,S)}else{var p=Ll(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ot(o,o.return,S)}}u&64&&Ey(o),u&512&&yu(o,o.return);break;case 3:if(La(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{fx(i,s)}catch(S){Ot(o,o.return,S)}}break;case 27:s===null&&u&4&&Ay(o);case 26:case 5:La(i,o),s===null&&u&4&&wy(o),u&512&&yu(o,o.return);break;case 12:La(i,o);break;case 31:La(i,o),u&4&&Iy(i,o);break;case 13:La(i,o),u&4&&Dy(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Lb.bind(null,o),n3(i,o))));break;case 22:if(u=o.memoizedState!==null||Ma,!u){s=s!==null&&s.memoizedState!==null||_n,p=Ma;var v=_n;Ma=u,(_n=s)&&!v?Fa(i,o,(o.subtreeFlags&8772)!==0):La(i,o),Ma=p,_n=v}break;case 30:break;default:La(i,o)}}function Ry(i){var s=i.alternate;s!==null&&(i.alternate=null,Ry(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&be(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Er=!1;function Pa(i,s,o){for(o=o.child;o!==null;)Cy(i,s,o),o=o.sibling}function Cy(i,s,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(xr,o)}catch{}switch(o.tag){case 26:_n||Yi(o,s),Pa(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_n||Yi(o,s);var u=Jt,p=Er;Ds(o.type)&&(Jt=o.stateNode,Er=!1),Pa(i,s,o),Ru(o.stateNode),Jt=u,Er=p;break;case 5:_n||Yi(o,s);case 6:if(u=Jt,p=Er,Jt=null,Pa(i,s,o),Jt=u,Er=p,Jt!==null)if(Er)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(o.stateNode)}catch(v){Ot(o,s,v)}else try{Jt.removeChild(o.stateNode)}catch(v){Ot(o,s,v)}break;case 18:Jt!==null&&(Er?(i=Jt,E_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tc(i)):E_(Jt,o.stateNode));break;case 4:u=Jt,p=Er,Jt=o.stateNode.containerInfo,Er=!0,Pa(i,s,o),Jt=u,Er=p;break;case 0:case 11:case 14:case 15:Ss(2,o,s),_n||Ss(4,o,s),Pa(i,s,o);break;case 1:_n||(Yi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Ty(o,s,u)),Pa(i,s,o);break;case 21:Pa(i,s,o);break;case 22:_n=(u=_n)||o.memoizedState!==null,Pa(i,s,o),_n=u;break;default:Pa(i,s,o)}}function Iy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tc(i)}catch(o){Ot(s,s.return,o)}}}function Dy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tc(i)}catch(o){Ot(s,s.return,o)}}function Rb(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new by),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new by),s;default:throw Error(r(435,i.tag))}}function Oh(i,s){var o=Rb(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=Fb.bind(null,i,u);u.then(p,p)}})}function Tr(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],v=i,S=s,O=S;e:for(;O!==null;){switch(O.tag){case 27:if(Ds(O.type)){Jt=O.stateNode,Er=!1;break e}break;case 5:Jt=O.stateNode,Er=!1;break e;case 3:case 4:Jt=O.stateNode.containerInfo,Er=!0;break e}O=O.return}if(Jt===null)throw Error(r(160));Cy(v,S,p),Jt=null,Er=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Oy(s,i),s=s.sibling}var Si=null;function Oy(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tr(s,i),wr(i),u&4&&(Ss(3,i,i.return),xu(3,i),Ss(5,i,i.return));break;case 1:Tr(s,i),wr(i),u&512&&(_n||o===null||Yi(o,o.return)),u&64&&Ma&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Si;if(Tr(s,i),wr(i),u&512&&(_n||o===null||Yi(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[ce]||v[j]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Hn(v,u,o),v[j]=i,He(v),u=v;break e;case"link":var S=O_("link","href",p).get(u+(o.href||""));if(S){for(var O=0;O<S.length;O++)if(v=S[O],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(O,1);break t}}v=p.createElement(u),Hn(v,u,o),p.head.appendChild(v);break;case"meta":if(S=O_("meta","content",p).get(u+(o.content||""))){for(O=0;O<S.length;O++)if(v=S[O],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(O,1);break t}}v=p.createElement(u),Hn(v,u,o),p.head.appendChild(v);break;default:throw Error(r(468,u))}v[j]=i,He(v),u=v}i.stateNode=u}else k_(p,i.type,i.stateNode);else i.stateNode=D_(p,u,i.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?k_(p,i.type,i.stateNode):D_(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&ip(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tr(s,i),wr(i),u&512&&(_n||o===null||Yi(o,o.return)),o!==null&&u&4&&ip(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tr(s,i),wr(i),u&512&&(_n||o===null||Yi(o,o.return)),i.flags&32){p=i.stateNode;try{_r(p,"")}catch(ze){Ot(i,i.return,ze)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,ip(i,p,o!==null?o.memoizedProps:p)),u&1024&&(lp=!0);break;case 6:if(Tr(s,i),wr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ze){Ot(i,i.return,ze)}}break;case 3:if(Xh=null,p=Si,Si=Wh(s.containerInfo),Tr(s,i),Si=p,wr(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{tc(s.containerInfo)}catch(ze){Ot(i,i.return,ze)}lp&&(lp=!1,ky(i));break;case 4:u=Si,Si=Wh(i.stateNode.containerInfo),Tr(s,i),wr(i),Si=u;break;case 12:Tr(s,i),wr(i);break;case 31:Tr(s,i),wr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 13:Tr(s,i),wr(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mh=qt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 22:p=i.memoizedState!==null;var Y=o!==null&&o.memoizedState!==null,oe=Ma,ye=_n;if(Ma=oe||p,_n=ye||Y,Tr(s,i),_n=ye,Ma=oe,wr(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||Y||Ma||_n||Fl(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){Y=o=s;try{if(v=Y.stateNode,p)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=Y.stateNode;var Ee=Y.memoizedProps.style,fe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;O.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(ze){Ot(Y,Y.return,ze)}}}else if(s.tag===6){if(o===null){Y=s;try{Y.stateNode.nodeValue=p?"":Y.memoizedProps}catch(ze){Ot(Y,Y.return,ze)}}}else if(s.tag===18){if(o===null){Y=s;try{var ge=Y.stateNode;p?T_(ge,!0):T_(Y.stateNode,!1)}catch(ze){Ot(Y,Y.return,ze)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Oh(i,o))));break;case 19:Tr(s,i),wr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Oh(i,u)));break;case 30:break;case 21:break;default:Tr(s,i),wr(i)}}function wr(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(Sy(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,v=ap(i);Dh(i,v,p);break;case 5:var S=o.stateNode;o.flags&32&&(_r(S,""),o.flags&=-33);var O=ap(i);Dh(i,O,S);break;case 3:case 4:var Y=o.stateNode.containerInfo,oe=ap(i);sp(i,oe,Y);break;default:throw Error(r(161))}}catch(ye){Ot(i,i.return,ye)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ky(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ky(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function La(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ny(i,s.alternate,s),s=s.sibling}function Fl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ss(4,s,s.return),Fl(s);break;case 1:Yi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Ty(s,s.return,o),Fl(s);break;case 27:Ru(s.stateNode);case 26:case 5:Yi(s,s.return),Fl(s);break;case 22:s.memoizedState===null&&Fl(s);break;case 30:Fl(s);break;default:Fl(s)}i=i.sibling}}function Fa(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(p,v,o),xu(4,v);break;case 1:if(Fa(p,v,o),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(oe){Ot(u,u.return,oe)}if(u=v,p=u.updateQueue,p!==null){var O=u.stateNode;try{var Y=p.shared.hiddenCallbacks;if(Y!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Y.length;p++)ux(Y[p],O)}catch(oe){Ot(u,u.return,oe)}}o&&S&64&&Ey(v),yu(v,v.return);break;case 27:Ay(v);case 26:case 5:Fa(p,v,o),o&&u===null&&S&4&&wy(v),yu(v,v.return);break;case 12:Fa(p,v,o);break;case 31:Fa(p,v,o),o&&S&4&&Iy(p,v);break;case 13:Fa(p,v,o),o&&S&4&&Dy(p,v);break;case 22:v.memoizedState===null&&Fa(p,v,o),yu(v,v.return);break;case 30:break;default:Fa(p,v,o)}s=s.sibling}}function op(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&au(o))}function cp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&au(i))}function Ai(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)My(i,s,o,u),s=s.sibling}function My(i,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(i,s,o,u),p&2048&&xu(9,s);break;case 1:Ai(i,s,o,u);break;case 3:Ai(i,s,o,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&au(i)));break;case 12:if(p&2048){Ai(i,s,o,u),i=s.stateNode;try{var v=s.memoizedProps,S=v.id,O=v.onPostCommit;typeof O=="function"&&O(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){Ot(s,s.return,Y)}}else Ai(i,s,o,u);break;case 31:Ai(i,s,o,u);break;case 13:Ai(i,s,o,u);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?Ai(i,s,o,u):_u(i,s):v._visibility&2?Ai(i,s,o,u):(v._visibility|=2,Go(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&op(S,s);break;case 24:Ai(i,s,o,u),p&2048&&cp(s.alternate,s);break;default:Ai(i,s,o,u)}}function Go(i,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,S=s,O=o,Y=u,oe=S.flags;switch(S.tag){case 0:case 11:case 15:Go(v,S,O,Y,p),xu(8,S);break;case 23:break;case 22:var ye=S.stateNode;S.memoizedState!==null?ye._visibility&2?Go(v,S,O,Y,p):_u(v,S):(ye._visibility|=2,Go(v,S,O,Y,p)),p&&oe&2048&&op(S.alternate,S);break;case 24:Go(v,S,O,Y,p),p&&oe&2048&&cp(S.alternate,S);break;default:Go(v,S,O,Y,p)}s=s.sibling}}function _u(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,p=u.flags;switch(u.tag){case 22:_u(o,u),p&2048&&op(u.alternate,u);break;case 24:_u(o,u),p&2048&&cp(u.alternate,u);break;default:_u(o,u)}s=s.sibling}}var Eu=8192;function qo(i,s,o){if(i.subtreeFlags&Eu)for(i=i.child;i!==null;)Py(i,s,o),i=i.sibling}function Py(i,s,o){switch(i.tag){case 26:qo(i,s,o),i.flags&Eu&&i.memoizedState!==null&&m3(o,Si,i.memoizedState,i.memoizedProps);break;case 5:qo(i,s,o);break;case 3:case 4:var u=Si;Si=Wh(i.stateNode.containerInfo),qo(i,s,o),Si=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Eu,Eu=16777216,qo(i,s,o),Eu=u):qo(i,s,o));break;default:qo(i,s,o)}}function Ly(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];kn=u,jy(u,i)}Ly(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(i),i=i.sibling}function Fy(i){switch(i.tag){case 0:case 11:case 15:Tu(i),i.flags&2048&&Ss(9,i,i.return);break;case 3:Tu(i);break;case 12:Tu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,kh(i)):Tu(i);break;default:Tu(i)}}function kh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];kn=u,jy(u,i)}Ly(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ss(8,s,s.return),kh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,kh(s));break;default:kh(s)}i=i.sibling}}function jy(i,s){for(;kn!==null;){var o=kn;switch(o.tag){case 0:case 11:case 15:Ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,kn=u;else e:for(o=i;kn!==null;){u=kn;var p=u.sibling,v=u.return;if(Ry(u),u===o){kn=null;break e}if(p!==null){p.return=v,kn=p;break e}kn=v}}}var Cb={getCacheForType:function(i){var s=Bn(vn),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Bn(vn).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,wt=0,Gt=null,ct=null,ft=0,Dt=0,Ur=null,As=!1,Wo=!1,up=!1,ja=0,sn=0,bs=0,jl=0,fp=0,Vr=0,Ko=0,wu=null,Sr=null,hp=!1,Mh=0,Uy=0,Ph=1/0,Lh=null,Ns=null,Nn=0,Rs=null,Xo=null,Ua=0,dp=0,mp=null,Vy=null,Su=0,pp=null;function Br(){return(wt&2)!==0&&ft!==0?ft&-ft:pe.T!==null?Ep():D()}function By(){if(Vr===0)if((ft&536870912)===0||gt){var i=xa;xa<<=1,(xa&3932160)===0&&(xa=262144),Vr=i}else Vr=536870912;return i=Fr.current,i!==null&&(i.flags|=32),Vr}function Ar(i,s,o){(i===Gt&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)&&(Yo(i,0),Cs(i,ft,Vr,!1)),ya(i,o),((wt&2)===0||i!==Gt)&&(i===Gt&&((wt&2)===0&&(jl|=o),sn===4&&Cs(i,ft,Vr,!1)),$i(i))}function zy(i,s,o){if((wt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Or(i,s),p=u?kb(i,s):vp(i,s,!0),v=u;do{if(p===0){Wo&&!u&&Cs(i,s,0,!1);break}else{if(o=i.current.alternate,v&&!Db(o)){p=vp(i,s,!1),v=!1;continue}if(p===2){if(v=s,i.errorRecoveryDisabledLanes&v)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var O=i;p=wu;var Y=O.current.memoizedState.isDehydrated;if(Y&&(Yo(O,S).flags|=256),S=vp(O,S,!1),S!==2){if(up&&!Y){O.errorRecoveryDisabledLanes|=v,jl|=v,p=4;break e}v=Sr,Sr=p,v!==null&&(Sr===null?Sr=v:Sr.push.apply(Sr,v))}p=S}if(v=!1,p!==2)continue}}if(p===1){Yo(i,0),Cs(i,s,0,!0);break}e:{switch(u=i,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cs(u,s,Vr,!As);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Mh+300-qt(),10<p)){if(Cs(u,s,Vr,!As),$r(u,0,!0)!==0)break e;Ua=s,u.timeoutHandle=y_(Hy.bind(null,u,o,Sr,Lh,hp,s,Vr,jl,Ko,As,v,"Throttled",-0,0),p);break e}Hy(u,o,Sr,Lh,hp,s,Vr,jl,Ko,As,v,null,-0,0)}}break}while(!0);$i(i)}function Hy(i,s,o,u,p,v,S,O,Y,oe,ye,Ee,fe,ge){if(i.timeoutHandle=-1,Ee=s.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},Py(s,v,Ee);var ze=(v&62914560)===v?Mh-qt():(v&4194048)===v?Uy-qt():0;if(ze=p3(Ee,ze),ze!==null){Ua=v,i.cancelPendingCommit=ze(Qy.bind(null,i,s,v,o,u,p,S,O,Y,ye,Ee,null,fe,ge)),Cs(i,v,S,!oe);return}}Qy(i,s,v,o,u,p,S,O,Y)}function Db(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],v=p.getSnapshot;p=p.value;try{if(!Pr(v(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cs(i,s,o,u){s&=~fp,s&=~jl,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var v=31-en(p),S=1<<v;u[v]=-1,p&=~S}o!==0&&_a(i,o,s)}function Fh(){return(wt&6)===0?(Au(0),!1):!0}function gp(){if(ct!==null){if(Dt===0)var i=ct.return;else i=ct,Ra=Cl=null,Om(i),Uo=null,lu=0,i=ct;for(;i!==null;)_y(i.alternate,i),i=i.return;ct=null}}function Yo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Qb(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ua=0,gp(),Gt=i,ct=o=ba(i.current,null),ft=s,Dt=0,Ur=null,As=!1,Wo=Or(i,s),up=!1,Ko=Vr=fp=jl=bs=sn=0,Sr=wu=null,hp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-en(u),v=1<<p;s|=i[p],u&=~v}return ja=s,ih(),o}function Gy(i,s){it=null,pe.H=pu,s===jo||s===hh?(s=sx(),Dt=3):s===_m?(s=sx(),Dt=4):Dt=s===Xm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ur=s,ct===null&&(sn=1,bh(i,ni(s,i.current)))}function qy(){var i=Fr.current;return i===null?!0:(ft&4194048)===ft?si===null:(ft&62914560)===ft||(ft&536870912)!==0?i===si:!1}function Wy(){var i=pe.H;return pe.H=pu,i===null?pu:i}function Ky(){var i=pe.A;return pe.A=Cb,i}function jh(){sn=4,As||(ft&4194048)!==ft&&Fr.current!==null||(Wo=!0),(bs&134217727)===0&&(jl&134217727)===0||Gt===null||Cs(Gt,ft,Vr,!1)}function vp(i,s,o){var u=wt;wt|=2;var p=Wy(),v=Ky();(Gt!==i||ft!==s)&&(Lh=null,Yo(i,s)),s=!1;var S=sn;e:do try{if(Dt!==0&&ct!==null){var O=ct,Y=Ur;switch(Dt){case 8:gp(),S=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(s=!0);var oe=Dt;if(Dt=0,Ur=null,$o(i,O,Y,oe),o&&Wo){S=0;break e}break;default:oe=Dt,Dt=0,Ur=null,$o(i,O,Y,oe)}}Ob(),S=sn;break}catch(ye){Gy(i,ye)}while(!0);return s&&i.shellSuspendCounter++,Ra=Cl=null,wt=u,pe.H=p,pe.A=v,ct===null&&(Gt=null,ft=0,ih()),S}function Ob(){for(;ct!==null;)Xy(ct)}function kb(i,s){var o=wt;wt|=2;var u=Wy(),p=Ky();Gt!==i||ft!==s?(Lh=null,Ph=qt()+500,Yo(i,s)):Wo=Or(i,s);e:do try{if(Dt!==0&&ct!==null){s=ct;var v=Ur;t:switch(Dt){case 1:Dt=0,Ur=null,$o(i,s,v,1);break;case 2:case 9:if(ix(v)){Dt=0,Ur=null,Yy(s);break}s=function(){Dt!==2&&Dt!==9||Gt!==i||(Dt=7),$i(i)},v.then(s,s);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:ix(v)?(Dt=0,Ur=null,Yy(s)):(Dt=0,Ur=null,$o(i,s,v,7));break;case 5:var S=null;switch(ct.tag){case 26:S=ct.memoizedState;case 5:case 27:var O=ct;if(S?M_(S):O.stateNode.complete){Dt=0,Ur=null;var Y=O.sibling;if(Y!==null)ct=Y;else{var oe=O.return;oe!==null?(ct=oe,Uh(oe)):ct=null}break t}}Dt=0,Ur=null,$o(i,s,v,5);break;case 6:Dt=0,Ur=null,$o(i,s,v,6);break;case 8:gp(),sn=6;break e;default:throw Error(r(462))}}Mb();break}catch(ye){Gy(i,ye)}while(!0);return Ra=Cl=null,pe.H=u,pe.A=p,wt=o,ct!==null?0:(Gt=null,ft=0,ih(),sn)}function Mb(){for(;ct!==null&&!go();)Xy(ct)}function Xy(i){var s=xy(i.alternate,i,ja);i.memoizedProps=i.pendingProps,s===null?Uh(i):ct=s}function Yy(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=hy(o,s,s.pendingProps,s.type,void 0,ft);break;case 11:s=hy(o,s,s.pendingProps,s.type.render,s.ref,ft);break;case 5:Om(s);default:_y(o,s),s=ct=Kv(s,ja),s=xy(o,s,ja)}i.memoizedProps=i.pendingProps,s===null?Uh(i):ct=s}function $o(i,s,o,u){Ra=Cl=null,Om(s),Uo=null,lu=0;var p=s.return;try{if(Tb(i,p,s,o,ft)){sn=1,bh(i,ni(o,i.current)),ct=null;return}}catch(v){if(p!==null)throw ct=p,v;sn=1,bh(i,ni(o,i.current)),ct=null;return}s.flags&32768?(gt||u===1?i=!0:Wo||(ft&536870912)!==0?i=!1:(As=i=!0,(u===2||u===9||u===3||u===6)&&(u=Fr.current,u!==null&&u.tag===13&&(u.flags|=16384))),$y(s,i)):Uh(s)}function Uh(i){var s=i;do{if((s.flags&32768)!==0){$y(s,As);return}i=s.return;var o=Ab(s.alternate,s,ja);if(o!==null){ct=o;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=i}while(s!==null);sn===0&&(sn=5)}function $y(i,s){do{var o=bb(i.alternate,i);if(o!==null){o.flags&=32767,ct=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){ct=i;return}ct=i=o}while(i!==null);sn=6,ct=null}function Qy(i,s,o,u,p,v,S,O,Y){i.cancelPendingCommit=null;do Vh();while(Nn!==0);if((wt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=am,zc(i,o,v,S,O,Y),i===Gt&&(ct=Gt=null,ft=0),Xo=s,Rs=i,Ua=o,dp=v,mp=p,Vy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jb(Zn,function(){return n_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=pe.T,pe.T=null,p=Ne.p,Ne.p=2,S=wt,wt|=4;try{Nb(i,s,o)}finally{wt=S,Ne.p=p,pe.T=u}}Nn=1,Jy(),Zy(),e_()}}function Jy(){if(Nn===1){Nn=0;var i=Rs,s=Xo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=pe.T,pe.T=null;var u=Ne.p;Ne.p=2;var p=wt;wt|=4;try{Oy(s,i);var v=Cp,S=jv(i.containerInfo),O=v.focusedElem,Y=v.selectionRange;if(S!==O&&O&&O.ownerDocument&&Fv(O.ownerDocument.documentElement,O)){if(Y!==null&&em(O)){var oe=Y.start,ye=Y.end;if(ye===void 0&&(ye=oe),"selectionStart"in O)O.selectionStart=oe,O.selectionEnd=Math.min(ye,O.value.length);else{var Ee=O.ownerDocument||document,fe=Ee&&Ee.defaultView||window;if(fe.getSelection){var ge=fe.getSelection(),ze=O.textContent.length,$e=Math.min(Y.start,ze),Vt=Y.end===void 0?$e:Math.min(Y.end,ze);!ge.extend&&$e>Vt&&(S=Vt,Vt=$e,$e=S);var te=Lv(O,$e),ee=Lv(O,Vt);if(te&&ee&&(ge.rangeCount!==1||ge.anchorNode!==te.node||ge.anchorOffset!==te.offset||ge.focusNode!==ee.node||ge.focusOffset!==ee.offset)){var ae=Ee.createRange();ae.setStart(te.node,te.offset),ge.removeAllRanges(),$e>Vt?(ge.addRange(ae),ge.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),ge.addRange(ae))}}}}for(Ee=[],ge=O;ge=ge.parentNode;)ge.nodeType===1&&Ee.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<Ee.length;O++){var _e=Ee[O];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Jh=!!Rp,Cp=Rp=null}finally{wt=p,Ne.p=u,pe.T=o}}i.current=s,Nn=2}}function Zy(){if(Nn===2){Nn=0;var i=Rs,s=Xo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=pe.T,pe.T=null;var u=Ne.p;Ne.p=2;var p=wt;wt|=4;try{Ny(i,s.alternate,s)}finally{wt=p,Ne.p=u,pe.T=o}}Nn=3}}function e_(){if(Nn===4||Nn===3){Nn=0,is();var i=Rs,s=Xo,o=Ua,u=Vy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Nn=5:(Nn=0,Xo=Rs=null,t_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ns=null),pi(o),s=s.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(xr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=pe.T,p=Ne.p,Ne.p=2,pe.T=null;try{for(var v=i.onRecoverableError,S=0;S<u.length;S++){var O=u[S];v(O.value,{componentStack:O.stack})}}finally{pe.T=s,Ne.p=p}}(Ua&3)!==0&&Vh(),$i(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===pp?Su++:(Su=0,pp=i):Su=0,Au(0)}}function t_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,au(s)))}function Vh(){return Jy(),Zy(),e_(),n_()}function n_(){if(Nn!==5)return!1;var i=Rs,s=dp;dp=0;var o=pi(Ua),u=pe.T,p=Ne.p;try{Ne.p=32>o?32:o,pe.T=null,o=mp,mp=null;var v=Rs,S=Ua;if(Nn=0,Xo=Rs=null,Ua=0,(wt&6)!==0)throw Error(r(331));var O=wt;if(wt|=4,Fy(v.current),My(v,v.current,S,o),wt=O,Au(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(xr,v)}catch{}return!0}finally{Ne.p=p,pe.T=u,t_(i,s)}}function r_(i,s,o){s=ni(o,s),s=Km(i.stateNode,s,2),i=Es(i,s,2),i!==null&&(ya(i,2),$i(i))}function Ot(i,s,o){if(i.tag===3)r_(i,i,o);else for(;s!==null;){if(s.tag===3){r_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ns===null||!Ns.has(u))){i=ni(o,i),o=iy(2),u=Es(s,o,2),u!==null&&(ay(o,u,s,i),ya(u,2),$i(u));break}}s=s.return}}function xp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Ib;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(up=!0,p.add(o),i=Pb.bind(null,i,s,o),s.then(i,i))}function Pb(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Gt===i&&(ft&o)===o&&(sn===4||sn===3&&(ft&62914560)===ft&&300>qt()-Mh?(wt&2)===0&&Yo(i,0):fp|=o,Ko===ft&&(Ko=0)),$i(i)}function i_(i,s){s===0&&(s=xo()),i=bl(i,s),i!==null&&(ya(i,s),$i(i))}function Lb(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),i_(i,o)}function Fb(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),i_(i,o)}function jb(i,s){return zt(i,s)}var Bh=null,Qo=null,yp=!1,zh=!1,_p=!1,Is=0;function $i(i){i!==Qo&&i.next===null&&(Qo===null?Bh=Qo=i:Qo=Qo.next=i),zh=!0,yp||(yp=!0,Vb())}function Au(i,s){if(!_p&&zh){_p=!0;do for(var o=!1,u=Bh;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var S=u.suspendedLanes,O=u.pingedLanes;v=(1<<31-en(42|i)+1)-1,v&=p&~(S&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,o_(u,v))}else v=ft,v=$r(u,u===Gt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Or(u,v)||(o=!0,o_(u,v));u=u.next}while(o);_p=!1}}function Ub(){a_()}function a_(){zh=yp=!1;var i=0;Is!==0&&$b()&&(i=Is);for(var s=qt(),o=null,u=Bh;u!==null;){var p=u.next,v=s_(u,s);v===0?(u.next=null,o===null?Bh=p:o.next=p,p===null&&(Qo=o)):(o=u,(i!==0||(v&3)!==0)&&(zh=!0)),u=p}Nn!==0&&Nn!==5||Au(i),Is!==0&&(Is=0)}function s_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var S=31-en(v),O=1<<S,Y=p[S];Y===-1?((O&o)===0||(O&u)!==0)&&(p[S]=Bc(O,s)):Y<=s&&(i.expiredLanes|=O),v&=~O}if(s=Gt,o=ft,o=$r(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ur(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Or(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&ur(u),pi(o)){case 2:case 8:o=ga;break;case 32:o=Zn;break;case 268435456:o=ul;break;default:o=Zn}return u=l_.bind(null,i),o=zt(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&ur(u),i.callbackPriority=2,i.callbackNode=null,2}function l_(i,s){if(Nn!==0&&Nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Vh()&&i.callbackNode!==o)return null;var u=ft;return u=$r(i,i===Gt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(zy(i,u,s),s_(i,qt()),i.callbackNode!=null&&i.callbackNode===o?l_.bind(null,i):null)}function o_(i,s){if(Vh())return null;zy(i,s,!0)}function Vb(){Jb(function(){(wt&6)!==0?zt(pa,Ub):a_()})}function Ep(){if(Is===0){var i=Lo;i===0&&(i=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),Is=i}return Is}function c_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Eo(""+i)}function u_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function Bb(i,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var v=c_((p[V]||null).action),S=u.submitter;S&&(s=(s=S[V]||null)?c_(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var O=new Hi("action","action",null,u,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Is!==0){var Y=S?u_(p,S):new FormData(p);Bm(o,{pending:!0,data:Y,method:p.method,action:v},null,Y)}}else typeof v=="function"&&(O.preventDefault(),Y=S?u_(p,S):new FormData(p),Bm(o,{pending:!0,data:Y,method:p.method,action:v},v,Y))},currentTarget:p}]})}}for(var Tp=0;Tp<im.length;Tp++){var wp=im[Tp],zb=wp.toLowerCase(),Hb=wp[0].toUpperCase()+wp.slice(1);wi(zb,"on"+Hb)}wi(Bv,"onAnimationEnd"),wi(zv,"onAnimationIteration"),wi(Hv,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(ab,"onTransitionRun"),wi(sb,"onTransitionStart"),wi(lb,"onTransitionCancel"),wi(Gv,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function f_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var S=u.length-1;0<=S;S--){var O=u[S],Y=O.instance,oe=O.currentTarget;if(O=O.listener,Y!==v&&p.isPropagationStopped())break e;v=O,p.currentTarget=oe;try{v(p)}catch(ye){rh(ye)}p.currentTarget=null,v=Y}else for(S=0;S<u.length;S++){if(O=u[S],Y=O.instance,oe=O.currentTarget,O=O.listener,Y!==v&&p.isPropagationStopped())break e;v=O,p.currentTarget=oe;try{v(p)}catch(ye){rh(ye)}p.currentTarget=null,v=Y}}}}function ut(i,s){var o=s[se];o===void 0&&(o=s[se]=new Set);var u=i+"__bubble";o.has(u)||(h_(s,i,2,!1),o.add(u))}function Sp(i,s,o){var u=0;s&&(u|=4),h_(o,i,u,s)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function Ap(i){if(!i[Hh]){i[Hh]=!0,Rt.forEach(function(o){o!=="selectionchange"&&(Gb.has(o)||Sp(o,!1,i),Sp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hh]||(s[Hh]=!0,Sp("selectionchange",!1,s))}}function h_(i,s,o,u){switch(B_(s)){case 2:var p=x3;break;case 8:p=y3;break;default:p=Vp}o=p.bind(null,s,o,i),p=void 0,!xl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function bp(i,s,o,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var O=u.stateNode.containerInfo;if(O===p)break;if(S===4)for(S=u.return;S!==null;){var Y=S.tag;if((Y===3||Y===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;O!==null;){if(S=Ce(O),S===null)return;if(Y=S.tag,Y===5||Y===6||Y===26||Y===27){u=v=S;continue e}O=O.parentNode}}u=u.return}fs(function(){var oe=v,ye=Jr(o),Ee=[];e:{var fe=qv.get(i);if(fe!==void 0){var ge=Hi,ze=i;switch(i){case"keypress":if(_l(o)===0)break e;case"keydown":case"keyup":ge=eh;break;case"focusin":ze="focus",ge=Tl;break;case"focusout":ze="blur",ge=Tl;break;case"beforeblur":case"afterblur":ge=Tl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=E;break;case Bv:case zv:case Hv:ge=Kf;break;case Gv:ge=L;break;case"scroll":case"scrollend":ge=$c;break;case"wheel":ge=me;break;case"copy":case"cut":case"paste":ge=Xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Aa;break;case"toggle":case"beforetoggle":ge=rt}var $e=(s&4)!==0,Vt=!$e&&(i==="scroll"||i==="scrollend"),te=$e?fe!==null?fe+"Capture":null:fe;$e=[];for(var ee=oe,ae;ee!==null;){var _e=ee;if(ae=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ae===null||te===null||(_e=yi(ee,te),_e!=null&&$e.push(Nu(ee,_e,ae))),Vt)break;ee=ee.return}0<$e.length&&(fe=new ge(fe,ze,null,o,ye),Ee.push({event:fe,listeners:$e}))}}if((s&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",fe&&o!==Kc&&(ze=o.relatedTarget||o.fromElement)&&(Ce(ze)||ze[W]))break e;if((ge||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,ge?(ze=o.relatedTarget||o.toElement,ge=oe,ze=ze?Ce(ze):null,ze!==null&&(Vt=l(ze),$e=ze.tag,ze!==Vt||$e!==5&&$e!==27&&$e!==6)&&(ze=null)):(ge=null,ze=oe),ge!==ze)){if($e=Qc,_e="onMouseLeave",te="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&($e=Aa,_e="onPointerLeave",te="onPointerEnter",ee="pointer"),Vt=ge==null?fe:Ae(ge),ae=ze==null?fe:Ae(ze),fe=new $e(_e,ee+"leave",ge,o,ye),fe.target=Vt,fe.relatedTarget=ae,_e=null,Ce(ye)===oe&&($e=new $e(te,ee+"enter",ze,o,ye),$e.target=ae,$e.relatedTarget=Vt,_e=$e),Vt=_e,ge&&ze)t:{for($e=qb,te=ge,ee=ze,ae=0,_e=te;_e;_e=$e(_e))ae++;_e=0;for(var Ke=ee;Ke;Ke=$e(Ke))_e++;for(;0<ae-_e;)te=$e(te),ae--;for(;0<_e-ae;)ee=$e(ee),_e--;for(;ae--;){if(te===ee||ee!==null&&te===ee.alternate){$e=te;break t}te=$e(te),ee=$e(ee)}$e=null}else $e=null;ge!==null&&d_(Ee,fe,ge,$e,!1),ze!==null&&Vt!==null&&d_(Ee,Vt,ze,$e,!0)}}e:{if(fe=oe?Ae(oe):window,ge=fe.nodeName&&fe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&fe.type==="file")var yt=Iv;else if(Rv(fe))if(Dv)yt=nb;else{yt=eb;var qe=Z4}else ge=fe.nodeName,!ge||ge.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?oe&&_o(oe.elementType)&&(yt=Iv):yt=tb;if(yt&&(yt=yt(i,oe))){Cv(Ee,yt,o,ye);break e}qe&&qe(i,fe,oe),i==="focusout"&&oe&&fe.type==="number"&&oe.memoizedProps.value!=null&&Gc(fe,"number",fe.value)}switch(qe=oe?Ae(oe):window,i){case"focusin":(Rv(qe)||qe.contentEditable==="true")&&(Ro=qe,tm=oe,nu=null);break;case"focusout":nu=tm=Ro=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,Uv(Ee,o,ye);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":Uv(Ee,o,ye)}var st;if(Tt)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else No?wl(i,o)&&(ht="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ht="onCompositionStart");ht&&(Wi&&o.locale!=="ko"&&(No||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&No&&(st=Yc()):(zi=ye,Xc="value"in zi?zi.value:zi.textContent,No=!0)),qe=Gh(oe,ht),0<qe.length&&(ht=new qi(ht,i,null,o,ye),Ee.push({event:ht,listeners:qe}),st?ht.data=st:(st=bo(o),st!==null&&(ht.data=st)))),(st=ei?Y4(i,o):$4(i,o))&&(ht=Gh(oe,"onBeforeInput"),0<ht.length&&(qe=new qi("onBeforeInput","beforeinput",null,o,ye),Ee.push({event:qe,listeners:ht}),qe.data=st)),Bb(Ee,i,oe,o,ye)}f_(Ee,s)})}function Nu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Gh(i,s){for(var o=s+"Capture",u=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=yi(i,o),p!=null&&u.unshift(Nu(i,p,v)),p=yi(i,s),p!=null&&u.push(Nu(i,p,v))),i.tag===3)return u;i=i.return}return[]}function qb(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function d_(i,s,o,u,p){for(var v=s._reactName,S=[];o!==null&&o!==u;){var O=o,Y=O.alternate,oe=O.stateNode;if(O=O.tag,Y!==null&&Y===u)break;O!==5&&O!==26&&O!==27||oe===null||(Y=oe,p?(oe=yi(o,v),oe!=null&&S.unshift(Nu(o,oe,Y))):p||(oe=yi(o,v),oe!=null&&S.push(Nu(o,oe,Y)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var Wb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function m_(i){return(typeof i=="string"?i:""+i).replace(Wb,`
`).replace(Kb,"")}function p_(i,s){return s=m_(s),m_(i)===s}function Ut(i,s,o,u,p,v){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_r(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_r(i,""+u);break;case"className":Mr(i,"class",u);break;case"tabIndex":Mr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(i,o,u);break;case"style":Wc(i,u,v);break;case"data":if(s!=="object"){Mr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Eo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&Ut(i,s,"name",p.name,p,null),Ut(i,s,"formEncType",p.formEncType,p,null),Ut(i,s,"formMethod",p.formMethod,p,null),Ut(i,s,"formTarget",p.formTarget,p,null)):(Ut(i,s,"encType",p.encType,p,null),Ut(i,s,"method",p.method,p,null),Ut(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Eo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=xi);break;case"onScroll":u!=null&&ut("scroll",i);break;case"onScrollEnd":u!=null&&ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Eo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ut("beforetoggle",i),ut("toggle",i),tr(i,"popover",u);break;case"xlinkActuate":gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":tr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Gf.get(o)||o,tr(i,o,u))}}function Np(i,s,o,u,p,v){switch(o){case"style":Wc(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_r(i,u):(typeof u=="number"||typeof u=="bigint")&&_r(i,""+u);break;case"onScroll":u!=null&&ut("scroll",i);break;case"onScrollEnd":u!=null&&ut("scrollend",i);break;case"onClick":u!=null&&(i.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ct.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),v=i[V]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(s,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):tr(i,o,u)}}}function Hn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",i),ut("load",i);var u=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var S=o[v];if(S!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ut(i,s,v,S,o,null)}}p&&Ut(i,s,"srcSet",o.srcSet,o,null),u&&Ut(i,s,"src",o.src,o,null);return;case"input":ut("invalid",i);var O=v=S=p=null,Y=null,oe=null;for(u in o)if(o.hasOwnProperty(u)){var ye=o[u];if(ye!=null)switch(u){case"name":p=ye;break;case"type":S=ye;break;case"checked":Y=ye;break;case"defaultChecked":oe=ye;break;case"value":v=ye;break;case"defaultValue":O=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,s));break;default:Ut(i,s,u,ye,o,null)}}Bf(i,v,O,Y,oe,S,p,!1);return;case"select":ut("invalid",i),u=S=v=null;for(p in o)if(o.hasOwnProperty(p)&&(O=o[p],O!=null))switch(p){case"value":v=O;break;case"defaultValue":S=O;break;case"multiple":u=O;default:Ut(i,s,p,O,o,null)}s=v,o=S,i.multiple=!!u,s!=null?ls(i,!!u,s,!1):o!=null&&ls(i,!!u,o,!0);return;case"textarea":ut("invalid",i),v=p=u=null;for(S in o)if(o.hasOwnProperty(S)&&(O=o[S],O!=null))switch(S){case"value":u=O;break;case"defaultValue":p=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Ut(i,s,S,O,o,null)}os(i,u,p,v);return;case"option":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ut(i,s,Y,u,o,null)}return;case"dialog":ut("beforetoggle",i),ut("toggle",i),ut("cancel",i),ut("close",i);break;case"iframe":case"object":ut("load",i);break;case"video":case"audio":for(u=0;u<bu.length;u++)ut(bu[u],i);break;case"image":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"embed":case"source":case"link":ut("error",i),ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in o)if(o.hasOwnProperty(oe)&&(u=o[oe],u!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ut(i,s,oe,u,o,null)}return;default:if(_o(s)){for(ye in o)o.hasOwnProperty(ye)&&(u=o[ye],u!==void 0&&Np(i,s,ye,u,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null&&Ut(i,s,O,u,o,null))}function Xb(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,S=null,O=null,Y=null,oe=null,ye=null;for(ge in o){var Ee=o[ge];if(o.hasOwnProperty(ge)&&Ee!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Y=Ee;default:u.hasOwnProperty(ge)||Ut(i,s,ge,null,u,Ee)}}for(var fe in u){var ge=u[fe];if(Ee=o[fe],u.hasOwnProperty(fe)&&(ge!=null||Ee!=null))switch(fe){case"type":v=ge;break;case"name":p=ge;break;case"checked":oe=ge;break;case"defaultChecked":ye=ge;break;case"value":S=ge;break;case"defaultValue":O=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,s));break;default:ge!==Ee&&Ut(i,s,fe,ge,u,Ee)}}yo(i,S,O,Y,oe,ye,v,p);return;case"select":ge=S=O=fe=null;for(v in o)if(Y=o[v],o.hasOwnProperty(v)&&Y!=null)switch(v){case"value":break;case"multiple":ge=Y;default:u.hasOwnProperty(v)||Ut(i,s,v,null,u,Y)}for(p in u)if(v=u[p],Y=o[p],u.hasOwnProperty(p)&&(v!=null||Y!=null))switch(p){case"value":fe=v;break;case"defaultValue":O=v;break;case"multiple":S=v;default:v!==Y&&Ut(i,s,p,v,u,Y)}s=O,o=S,u=ge,fe!=null?ls(i,!!o,fe,!1):!!u!=!!o&&(s!=null?ls(i,!!o,s,!0):ls(i,!!o,o?[]:"",!1));return;case"textarea":ge=fe=null;for(O in o)if(p=o[O],o.hasOwnProperty(O)&&p!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ut(i,s,O,null,u,p)}for(S in u)if(p=u[S],v=o[S],u.hasOwnProperty(S)&&(p!=null||v!=null))switch(S){case"value":fe=p;break;case"defaultValue":ge=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&Ut(i,s,S,p,u,v)}zf(i,fe,ge);return;case"option":for(var ze in o)if(fe=o[ze],o.hasOwnProperty(ze)&&fe!=null&&!u.hasOwnProperty(ze))switch(ze){case"selected":i.selected=!1;break;default:Ut(i,s,ze,null,u,fe)}for(Y in u)if(fe=u[Y],ge=o[Y],u.hasOwnProperty(Y)&&fe!==ge&&(fe!=null||ge!=null))switch(Y){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ut(i,s,Y,fe,u,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in o)fe=o[$e],o.hasOwnProperty($e)&&fe!=null&&!u.hasOwnProperty($e)&&Ut(i,s,$e,null,u,fe);for(oe in u)if(fe=u[oe],ge=o[oe],u.hasOwnProperty(oe)&&fe!==ge&&(fe!=null||ge!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:Ut(i,s,oe,fe,u,ge)}return;default:if(_o(s)){for(var Vt in o)fe=o[Vt],o.hasOwnProperty(Vt)&&fe!==void 0&&!u.hasOwnProperty(Vt)&&Np(i,s,Vt,void 0,u,fe);for(ye in u)fe=u[ye],ge=o[ye],!u.hasOwnProperty(ye)||fe===ge||fe===void 0&&ge===void 0||Np(i,s,ye,fe,u,ge);return}}for(var te in o)fe=o[te],o.hasOwnProperty(te)&&fe!=null&&!u.hasOwnProperty(te)&&Ut(i,s,te,null,u,fe);for(Ee in u)fe=u[Ee],ge=o[Ee],!u.hasOwnProperty(Ee)||fe===ge||fe==null&&ge==null||Ut(i,s,Ee,fe,u,ge)}function g_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yb(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],v=p.transferSize,S=p.initiatorType,O=p.duration;if(v&&O&&g_(S)){for(S=0,O=p.responseEnd,u+=1;u<o.length;u++){var Y=o[u],oe=Y.startTime;if(oe>O)break;var ye=Y.transferSize,Ee=Y.initiatorType;ye&&g_(Ee)&&(Y=Y.responseEnd,S+=ye*(Y<O?1:(O-oe)/(Y-oe)))}if(--u,s+=8*(v+S)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Rp=null,Cp=null;function qh(i){return i.nodeType===9?i:i.ownerDocument}function v_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ip(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dp=null;function $b(){var i=window.event;return i&&i.type==="popstate"?i===Dp?!1:(Dp=i,!0):(Dp=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(i){return __.resolve(null).then(i).catch(Zb)}:y_;function Zb(i){setTimeout(function(){throw i})}function Ds(i){return i==="head"}function E_(i,s){var o=s,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),tc(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ru(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ru(o);for(var v=o.firstChild;v;){var S=v.nextSibling,O=v.nodeName;v[ce]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=S}}else o==="body"&&Ru(i.ownerDocument.body);o=p}while(o);tc(s)}function T_(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Op(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),be(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function e3(i,s,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ce])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function t3(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=li(i.nextSibling),i===null))return null;return i}function w_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=li(i.nextSibling),i===null))return null;return i}function kp(i){return i.data==="$?"||i.data==="$~"}function Mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function n3(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function li(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Pp=null;function S_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return li(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function A_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function b_(i,s,o){switch(s=qh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ru(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);be(i)}var oi=new Map,N_=new Set;function Wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Va=Ne.d;Ne.d={f:r3,r:i3,D:a3,C:s3,L:l3,m:o3,X:u3,S:c3,M:f3};function r3(){var i=Va.f(),s=Fh();return i||s}function i3(i){var s=Le(i);s!==null&&s.tag===5&&s.type==="form"?Gx(s):Va.r(i)}var Jo=typeof document>"u"?null:document;function R_(i,s,o){var u=Jo;if(u&&typeof s=="string"&&s){var p=yr(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),N_.has(p)||(N_.add(p),i={rel:i,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Hn(s,"link",i),He(s),u.head.appendChild(s)))}}function a3(i){Va.D(i),R_("dns-prefetch",i,null)}function s3(i,s){Va.C(i,s),R_("preconnect",i,s)}function l3(i,s,o){Va.L(i,s,o);var u=Jo;if(u&&i&&s){var p='link[rel="preload"][as="'+yr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+yr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+yr(o.imageSizes)+'"]')):p+='[href="'+yr(i)+'"]';var v=p;switch(s){case"style":v=Zo(i);break;case"script":v=ec(i)}oi.has(v)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),oi.set(v,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(Cu(v))||s==="script"&&u.querySelector(Iu(v))||(s=u.createElement("link"),Hn(s,"link",i),He(s),u.head.appendChild(s)))}}function o3(i,s){Va.m(i,s);var o=Jo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+yr(u)+'"][href="'+yr(i)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ec(i)}if(!oi.has(v)&&(i=y({rel:"modulepreload",href:i},s),oi.set(v,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(v)))return}u=o.createElement("link"),Hn(u,"link",i),He(u),o.head.appendChild(u)}}}function c3(i,s,o){Va.S(i,s,o);var u=Jo;if(u&&i){var p=Me(u).hoistableStyles,v=Zo(i);s=s||"default";var S=p.get(v);if(!S){var O={loading:0,preload:null};if(S=u.querySelector(Cu(v)))O.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=oi.get(v))&&Lp(i,o);var Y=S=u.createElement("link");He(Y),Hn(Y,"link",i),Y._p=new Promise(function(oe,ye){Y.onload=oe,Y.onerror=ye}),Y.addEventListener("load",function(){O.loading|=1}),Y.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Kh(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:O},p.set(v,S)}}}function u3(i,s){Va.X(i,s);var o=Jo;if(o&&i){var u=Me(o).hoistableScripts,p=ec(i),v=u.get(p);v||(v=o.querySelector(Iu(p)),v||(i=y({src:i,async:!0},s),(s=oi.get(p))&&Fp(i,s),v=o.createElement("script"),He(v),Hn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function f3(i,s){Va.M(i,s);var o=Jo;if(o&&i){var u=Me(o).hoistableScripts,p=ec(i),v=u.get(p);v||(v=o.querySelector(Iu(p)),v||(i=y({src:i,async:!0,type:"module"},s),(s=oi.get(p))&&Fp(i,s),v=o.createElement("script"),He(v),Hn(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function C_(i,s,o,u){var p=(p=de.current)?Wh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Zo(o.href),o=Me(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Zo(o.href);var v=Me(p).hoistableStyles,S=v.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,S),(v=p.querySelector(Cu(i)))&&!v._p&&(S.instance=v,S.state.loading=5),oi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(i,o),v||h3(p,i,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ec(o),o=Me(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zo(i){return'href="'+yr(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function I_(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function h3(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Hn(s,"link",o),He(s),i.head.appendChild(s))}function ec(i){return'[src="'+yr(i)+'"]'}function Iu(i){return"script[async]"+i}function D_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+yr(o.href)+'"]');if(u)return s.instance=u,He(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),He(u),Hn(u,"style",p),Kh(u,o.precedence,i),s.instance=u;case"stylesheet":p=Zo(o.href);var v=i.querySelector(Cu(p));if(v)return s.state.loading|=4,s.instance=v,He(v),v;u=I_(o),(p=oi.get(p))&&Lp(u,p),v=(i.ownerDocument||i).createElement("link"),He(v);var S=v;return S._p=new Promise(function(O,Y){S.onload=O,S.onerror=Y}),Hn(v,"link",u),s.state.loading|=4,Kh(v,o.precedence,i),s.instance=v;case"script":return v=ec(o.src),(p=i.querySelector(Iu(v)))?(s.instance=p,He(p),p):(u=o,(p=oi.get(v))&&(u=y({},o),Fp(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),He(p),Hn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Kh(u,o.precedence,i));return s.instance}function Kh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,S=0;S<u.length;S++){var O=u[S];if(O.dataset.precedence===s)v=O;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Fp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xh=null;function O_(i,s,o){if(Xh===null){var u=new Map,p=Xh=new Map;p.set(o,u)}else p=Xh,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var v=o[p];if(!(v[ce]||v[j]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=i+S;var O=u.get(S);O?O.push(v):u.set(S,[v])}}return u}function k_(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function d3(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function M_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function m3(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Zo(u.href),v=s.querySelector(Cu(p));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Yh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=v,He(v);return}v=s.ownerDocument||s,u=I_(u),(p=oi.get(p))&&Lp(u,p),v=v.createElement("link"),He(v);var S=v;S._p=new Promise(function(O,Y){S.onload=O,S.onerror=Y}),Hn(v,"link",u),o.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Yh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var jp=0;function p3(i,s){return i.stylesheets&&i.count===0&&Qh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Qh(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&jp===0&&(jp=62500*Yb());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Qh(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>jp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var $h=null;function Qh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,$h=new Map,s.forEach(g3,i),$h=null,Yh.call(i))}function g3(i,s){if(!(s.state.loading&4)){var o=$h.get(i);if(o)var u=o.get(null);else{o=new Map,$h.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var S=p[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}p=s.instance,S=p.getAttribute("data-precedence"),v=o.get(S)||u,v===u&&o.set(null,p),o.set(S,p),this.count++,u=Yh.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Du={$$typeof:B,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function v3(i,s,o,u,p,v,S,O,Y){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function P_(i,s,o,u,p,v,S,O,Y,oe,ye,Ee){return i=new v3(i,s,o,S,Y,oe,ye,Ee,O),s=1,v===!0&&(s|=24),v=Lr(3,null,null,s),i.current=v,v.stateNode=i,s=vm(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:s},Em(v),i}function L_(i){return i?(i=Do,i):Do}function F_(i,s,o,u,p,v){p=L_(p),u.context===null?u.context=p:u.pendingContext=p,u=_s(s),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=Es(i,u,s),o!==null&&(Ar(o,i,s),cu(o,i,s))}function j_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Up(i,s){j_(i,s),(i=i.alternate)&&j_(i,s)}function U_(i){if(i.tag===13||i.tag===31){var s=bl(i,67108864);s!==null&&Ar(s,i,67108864),Up(i,67108864)}}function V_(i){if(i.tag===13||i.tag===31){var s=Br();s=Ta(s);var o=bl(i,s);o!==null&&Ar(o,i,s),Up(i,s)}}var Jh=!0;function x3(i,s,o,u){var p=pe.T;pe.T=null;var v=Ne.p;try{Ne.p=2,Vp(i,s,o,u)}finally{Ne.p=v,pe.T=p}}function y3(i,s,o,u){var p=pe.T;pe.T=null;var v=Ne.p;try{Ne.p=8,Vp(i,s,o,u)}finally{Ne.p=v,pe.T=p}}function Vp(i,s,o,u){if(Jh){var p=Bp(u);if(p===null)bp(i,s,u,Zh,o),z_(i,u);else if(E3(p,i,s,o,u))u.stopPropagation();else if(z_(i,u),s&4&&-1<_3.indexOf(i)){for(;p!==null;){var v=Le(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=hr(v.pendingLanes);if(S!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var Y=1<<31-en(S);O.entanglements[1]|=Y,S&=~Y}$i(v),(wt&6)===0&&(Ph=qt()+500,Au(0))}}break;case 31:case 13:O=bl(v,2),O!==null&&Ar(O,v,2),Fh(),Up(v,2)}if(v=Bp(u),v===null&&bp(i,s,u,Zh,o),v===p)break;p=v}p!==null&&u.stopPropagation()}else bp(i,s,u,null,o)}}function Bp(i){return i=Jr(i),zp(i)}var Zh=null;function zp(i){if(Zh=null,i=Ce(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Zh=i,null}function B_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case pa:return 2;case ga:return 8;case Zn:case Vc:return 32;case ul:return 268435456;default:return 32}default:return 32}}var Hp=!1,Os=null,ks=null,Ms=null,Ou=new Map,ku=new Map,Ps=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(i,s){switch(i){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(s.pointerId)}}function Mu(i,s,o,u,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Le(s),s!==null&&U_(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function E3(i,s,o,u,p){switch(s){case"focusin":return Os=Mu(Os,i,s,o,u,p),!0;case"dragenter":return ks=Mu(ks,i,s,o,u,p),!0;case"mouseover":return Ms=Mu(Ms,i,s,o,u,p),!0;case"pointerover":var v=p.pointerId;return Ou.set(v,Mu(Ou.get(v)||null,i,s,o,u,p)),!0;case"gotpointercapture":return v=p.pointerId,ku.set(v,Mu(ku.get(v)||null,i,s,o,u,p)),!0}return!1}function H_(i){var s=Ce(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,z(i.priority,function(){V_(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,z(i.priority,function(){V_(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function e0(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Bp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Kc=u,o.target.dispatchEvent(u),Kc=null}else return s=Le(o),s!==null&&U_(s),i.blockedOn=o,!1;s.shift()}return!0}function G_(i,s,o){e0(i)&&o.delete(s)}function T3(){Hp=!1,Os!==null&&e0(Os)&&(Os=null),ks!==null&&e0(ks)&&(ks=null),Ms!==null&&e0(Ms)&&(Ms=null),Ou.forEach(G_),ku.forEach(G_)}function t0(i,s){i.blockedOn===s&&(i.blockedOn=null,Hp||(Hp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,T3)))}var n0=null;function q_(i){n0!==i&&(n0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){n0===i&&(n0=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(zp(u||o)===null)continue;break}var v=Le(o);v!==null&&(i.splice(s,3),s-=3,Bm(v,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function tc(i){function s(Y){return t0(Y,i)}Os!==null&&t0(Os,i),ks!==null&&t0(ks,i),Ms!==null&&t0(Ms,i),Ou.forEach(s),ku.forEach(s);for(var o=0;o<Ps.length;o++){var u=Ps[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ps.length&&(o=Ps[0],o.blockedOn===null);)H_(o),o.blockedOn===null&&Ps.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],S=p[V]||null;if(typeof v=="function")S||q_(o);else if(S){var O=null;if(v&&v.hasAttribute("formAction")){if(p=v,S=v[V]||null)O=S.formAction;else if(zp(p)!==null)continue}else O=S.action;typeof O=="function"?o[u+1]=O:(o.splice(u,3),u-=3),q_(o)}}}function W_(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Gp(i){this._internalRoot=i}r0.prototype.render=Gp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Br();F_(o,u,i,s,null,null)},r0.prototype.unmount=Gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;F_(i.current,2,null,i,null,null),Fh(),s[W]=null}};function r0(i){this._internalRoot=i}r0.prototype.unstable_scheduleHydration=function(i){if(i){var s=D();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ps.length&&s!==0&&s<Ps[o].priority;o++);Ps.splice(o,0,i),o===0&&H_(i)}};var K_=e.version;if(K_!=="19.2.0")throw Error(r(527,K_,"19.2.0"));Ne.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var w3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:pe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{xr=i0.inject(w3),pn=i0}catch{}}return Lu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",p=ey,v=ty,S=ny;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=P_(i,1,!1,null,null,o,u,null,p,v,S,W_),i[W]=s.current,Ap(i),new Gp(s)},Lu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,p="",v=ey,S=ty,O=ny,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(Y=o.formState)),s=P_(i,1,!0,s,o??null,u,p,Y,v,S,O,W_),s.context=L_(null),o=s.current,u=Br(),u=Ta(u),p=_s(u),p.callback=null,Es(o,p,u),o=u,s.current.lanes=o,ya(s,o),$i(s),i[W]=s.current,Ap(i),new r0(s)},Lu.version="19.2.0",Lu}var r2;function k3(){if(r2)return Kp.exports;r2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=O3(),Kp.exports}var M3=k3();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i2="popstate";function P3(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return Eg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:nf(a)}return F3(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L3(){return Math.random().toString(36).substring(2,10)}function a2(n,e){return{usr:n.state,key:n.key,idx:e}}function Eg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:t,key:e&&e.key||r||L3()}}function nf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function F3(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",h=null,d=g();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function g(){return(c.state||{idx:null}).idx}function y(){f="POP";let b=g(),H=b==null?null:b-d;d=b,h&&h({action:f,location:T.location,delta:H})}function _(b,H){f="PUSH";let q=Eg(T.location,b,H);d=g()+1;let B=a2(q,d),X=T.createHref(q);try{c.pushState(B,"",X)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(X)}l&&h&&h({action:f,location:T.location,delta:1})}function w(b,H){f="REPLACE";let q=Eg(T.location,b,H);d=g();let B=a2(q,d),X=T.createHref(q);c.replaceState(B,"",X),l&&h&&h({action:f,location:T.location,delta:0})}function R(b){return j3(b)}let T={get action(){return f},get location(){return n(a,c)},listen(b){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(i2,y),h=b,()=>{a.removeEventListener(i2,y),h=null}},createHref(b){return e(a,b)},createURL:R,encodeLocation(b){let H=R(b);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:_,replace:w,go(b){return c.go(b)}};return T}function j3(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:nf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function RT(n,e,t="/"){return U3(n,e,t,!1)}function U3(n,e,t,r){let a=typeof e=="string"?Nc(e):e,l=$a(a.pathname||"/",t);if(l==null)return null;let c=CT(n);V3(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let d=Q3(l);f=Y3(c[h],d,r)}return f}function CT(n,e=[],t=[],r="",a=!1){let l=(c,f,h=a,d)=>{let g={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;Zt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=qa([r,g.relativePath]),_=t.concat(g);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),CT(c.children,e,_,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:K3(y,c.index),routesMeta:_})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of IT(c.path))l(c,f,!0,h)}),e}function IT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=IT(r.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function V3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:X3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var B3=/^:[\w-]+$/,z3=3,H3=2,G3=1,q3=10,W3=-2,s2=n=>n==="*";function K3(n,e){let t=n.split("/"),r=t.length;return t.some(s2)&&(r+=W3),e&&(r+=H3),t.filter(a=>!s2(a)).reduce((a,l)=>a+(B3.test(l)?z3:l===""?G3:q3),r)}function X3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function Y3(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],d=f===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=M0({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),_=h.route;if(!y&&d&&t&&!r[r.length-1].route.index&&(y=M0({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:qa([l,y.pathname]),pathnameBase:tN(qa([l,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(l=qa([l,y.pathnameBase]))}return c}function M0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$3(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:y},_)=>{if(g==="*"){let R=f[_]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const w=f[_];return y&&!w?d[g]=void 0:d[g]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:c,pattern:n}}function $3(n,e=!1,t=!0){Li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Q3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function J3(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Nc(n):n;return{pathname:t?t.startsWith("/")?t:Z3(t,e):e,search:nN(r),hash:rN(a)}}function Z3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Qp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function e1(n){let e=eN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function t1(n,e,t,r=!1){let a;typeof n=="string"?a=Nc(n):(a={...n},Zt(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}f=y>=0?e[y]:"/"}let h=J3(a,f),d=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var qa=n=>n.join("/").replace(/\/\/+/g,"/"),tN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var aN=["GET",...DT];new Set(aN);var Rc=re.createContext(null);Rc.displayName="DataRouter";var _d=re.createContext(null);_d.displayName="DataRouterState";re.createContext(!1);var OT=re.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var sN=re.createContext(new Map);sN.displayName="Fetchers";var lN=re.createContext(null);lN.displayName="Await";var ji=re.createContext(null);ji.displayName="Navigation";var _f=re.createContext(null);_f.displayName="Location";var Ui=re.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var n1=re.createContext(null);n1.displayName="RouteError";function oN(n,{relative:e}={}){Zt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=re.useContext(ji),{hash:a,pathname:l,search:c}=Ef(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:qa([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Cc(){return re.useContext(_f)!=null}function di(){return Zt(Cc(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(_f).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MT(n){re.useContext(ji).static||re.useLayoutEffect(n)}function sl(){let{isDataRoute:n}=re.useContext(Ui);return n?EN():cN()}function cN(){Zt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let n=re.useContext(Rc),{basename:e,navigator:t}=re.useContext(ji),{matches:r}=re.useContext(Ui),{pathname:a}=di(),l=JSON.stringify(e1(r)),c=re.useRef(!1);return MT(()=>{c.current=!0}),re.useCallback((h,d={})=>{if(Li(c.current,kT),!c.current)return;if(typeof h=="number"){t.go(h);return}let g=t1(h,JSON.parse(l),a,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:qa([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,l,a,n])}re.createContext(null);function r1(){let{matches:n}=re.useContext(Ui),e=n[n.length-1];return e?e.params:{}}function Ef(n,{relative:e}={}){let{matches:t}=re.useContext(Ui),{pathname:r}=di(),a=JSON.stringify(e1(t));return re.useMemo(()=>t1(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function uN(n,e){return PT(n,e)}function PT(n,e,t,r,a){Zt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=re.useContext(ji),{matches:c}=re.useContext(Ui),f=c[c.length-1],h=f?f.params:{},d=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let q=y&&y.path||"";LT(d,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let _=di(),w;if(e){let q=typeof e=="string"?Nc(e):e;Zt(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),w=q}else w=_;let R=w.pathname||"/",T=R;if(g!=="/"){let q=g.replace(/^\//,"").split("/");T="/"+R.replace(/^\//,"").split("/").slice(q.length).join("/")}let b=RT(n,{pathname:T});Li(y||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Li(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=pN(b&&b.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:qa([g,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:qa([g,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,t,r,a);return e&&H?re.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},H):H}function fN(){let n=_N(),e=iN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:l},"ErrorBoundary")," or"," ",re.createElement("code",{style:l},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:a},t):null,c)}var hN=re.createElement(fN,null),dN=class extends re.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?re.createElement(Ui.Provider,{value:this.props.routeContext},re.createElement(n1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mN({routeContext:n,match:e,children:t}){let r=re.useContext(Rc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),re.createElement(Ui.Provider,{value:n},t)}function pN(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let d=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Zt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let f=!1,h=-1;if(t)for(let d=0;d<l.length;d++){let g=l[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:y,errors:_}=t,w=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||w){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((d,g,y)=>{let _,w=!1,R=null,T=null;t&&(_=c&&g.route.id?c[g.route.id]:void 0,R=g.route.errorElement||hN,f&&(h<0&&y===0?(LT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):h===y&&(w=!0,T=g.route.hydrateFallbackElement||null)));let b=e.concat(l.slice(0,y+1)),H=()=>{let q;return _?q=R:w?q=T:g.route.Component?q=re.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=d,re.createElement(mN,{match:g,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?re.createElement(dN,{location:t.location,revalidation:t.revalidation,component:R,error:_,children:H(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):H()},null)}function i1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gN(n){let e=re.useContext(Rc);return Zt(e,i1(n)),e}function vN(n){let e=re.useContext(_d);return Zt(e,i1(n)),e}function xN(n){let e=re.useContext(Ui);return Zt(e,i1(n)),e}function a1(n){let e=xN(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function yN(){return a1("useRouteId")}function _N(){let n=re.useContext(n1),e=vN("useRouteError"),t=a1("useRouteError");return n!==void 0?n:e.errors?.[t]}function EN(){let{router:n}=gN("useNavigate"),e=a1("useNavigate"),t=re.useRef(!1);return MT(()=>{t.current=!0}),re.useCallback(async(a,l={})=>{Li(t.current,kT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var l2={};function LT(n,e,t){!e&&!l2[n]&&(l2[n]=!0,Li(!1,t))}re.memo(TN);function TN({routes:n,future:e,state:t,unstable_onError:r}){return PT(n,void 0,t,r,e)}function Tg({to:n,replace:e,state:t,relative:r}){Zt(Cc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=re.useContext(ji);Li(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=re.useContext(Ui),{pathname:c}=di(),f=sl(),h=t1(n,e1(l),c,r==="path"),d=JSON.stringify(h);return re.useEffect(()=>{f(JSON.parse(d),{replace:e,state:t,relative:r})},[f,d,r,e,t]),null}function Ri(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){Zt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=re.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Nc(t));let{pathname:h="/",search:d="",hash:g="",state:y=null,key:_="default"}=t,w=re.useMemo(()=>{let R=$a(h,c);return R==null?null:{location:{pathname:R,search:d,hash:g,state:y,key:_},navigationType:r}},[c,h,d,g,y,_,r]);return Li(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:re.createElement(ji.Provider,{value:f},re.createElement(_f.Provider,{children:e,value:w}))}function SN({children:n,location:e}){return uN(wg(n),e)}function wg(n,e=[]){let t=[];return re.Children.forEach(n,(r,a)=>{if(!re.isValidElement(r))return;let l=[...e,a];if(r.type===re.Fragment){t.push.apply(t,wg(r.props.children,l));return}Zt(r.type===Ri,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=wg(r.props.children,l)),t.push(c)}),t}var T0="get",w0="application/x-www-form-urlencoded";function Ed(n){return n!=null&&typeof n.tagName=="string"}function AN(n){return Ed(n)&&n.tagName.toLowerCase()==="button"}function bN(n){return Ed(n)&&n.tagName.toLowerCase()==="form"}function NN(n){return Ed(n)&&n.tagName.toLowerCase()==="input"}function RN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CN(n,e){return n.button===0&&(!e||e==="_self")&&!RN(n)}var a0=null;function IN(){if(a0===null)try{new FormData(document.createElement("form"),0),a0=!1}catch{a0=!0}return a0}var DN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jp(n){return n!=null&&!DN.has(n)?(Li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w0}"`),null):n}function ON(n,e){let t,r,a,l,c;if(bN(n)){let f=n.getAttribute("action");r=f?$a(f,e):null,t=n.getAttribute("method")||T0,a=Jp(n.getAttribute("enctype"))||w0,l=new FormData(n)}else if(AN(n)||NN(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?$a(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||T0,a=Jp(n.getAttribute("formenctype"))||Jp(f.getAttribute("enctype"))||w0,l=new FormData(f,n),!IN()){let{name:d,type:g,value:y}=n;if(g==="image"){let _=d?`${d}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else d&&l.append(d,y)}}else{if(Ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=T0,r=null,a=w0,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kN(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&$a(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function MN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LN(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await MN(l,t);return c.links?c.links():[]}return[]}));return VN(r.flat(1).filter(PN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function o2(n,e,t,r,a,l){let c=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,f=(h,d)=>t[d].pathname!==h.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,d)=>c(h,d)||f(h,d)):l==="data"?e.filter((h,d)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,d)||f(h,d))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function FN(n,e,{includeHydrateFallback:t}={}){return jN(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function jN(n){return[...new Set(n)]}function UN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function VN(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(UN(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function FT(){let n=re.useContext(Rc);return s1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BN(){let n=re.useContext(_d);return s1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var l1=re.createContext(void 0);l1.displayName="FrameworkContext";function jT(){let n=re.useContext(l1);return s1(n,"You must render this element inside a <HydratedRouter> element"),n}function zN(n,e){let t=re.useContext(l1),[r,a]=re.useState(!1),[l,c]=re.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=e,_=re.useRef(null);re.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=H=>{H.forEach(q=>{c(q.isIntersecting)})},b=new IntersectionObserver(T,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),re.useEffect(()=>{if(r){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[r]);let w=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,_,{}]:[l,_,{onFocus:Fu(f,w),onBlur:Fu(h,R),onMouseEnter:Fu(d,w),onMouseLeave:Fu(g,R),onTouchStart:Fu(y,w)}]:[!1,_,{}]}function Fu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HN({page:n,...e}){let{router:t}=FT(),r=re.useMemo(()=>RT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?re.createElement(qN,{page:n,matches:r,...e}):null}function GN(n){let{manifest:e,routeModules:t}=jT(),[r,a]=re.useState([]);return re.useEffect(()=>{let l=!1;return LN(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function qN({page:n,matches:e,...t}){let r=di(),{manifest:a,routeModules:l}=jT(),{basename:c}=FT(),{loaderData:f,matches:h}=BN(),d=re.useMemo(()=>o2(n,e,h,a,r,"data"),[n,e,h,a,r]),g=re.useMemo(()=>o2(n,e,h,a,r,"assets"),[n,e,h,a,r]),y=re.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,T=!1;if(e.forEach(H=>{let q=a.routes[H.route.id];!q||!q.hasLoader||(!d.some(B=>B.route.id===H.route.id)&&H.route.id in f&&l[H.route.id]?.shouldRevalidate||q.hasClientLoader?T=!0:R.add(H.route.id))}),R.size===0)return[];let b=kN(n,c,"data");return T&&R.size>0&&b.searchParams.set("_routes",e.filter(H=>R.has(H.route.id)).map(H=>H.route.id).join(",")),[b.pathname+b.search]},[c,f,r,a,d,e,n,l]),_=re.useMemo(()=>FN(g,a),[g,a]),w=GN(g);return re.createElement(re.Fragment,null,y.map(R=>re.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),_.map(R=>re.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),w.map(({key:R,link:T})=>re.createElement("link",{key:R,nonce:t.nonce,...T})))}function WN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var UT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UT&&(window.__reactRouterVersion="7.9.4")}catch{}function KN({basename:n,children:e,window:t}){let r=re.useRef();r.current==null&&(r.current=P3({window:t,v5Compat:!0}));let a=r.current,[l,c]=re.useState({action:a.action,location:a.location}),f=re.useCallback(h=>{re.startTransition(()=>c(h))},[c]);return re.useLayoutEffect(()=>a.listen(f),[a,f]),re.createElement(wN,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var VT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=re.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:d,preventScrollReset:g,viewTransition:y,..._},w){let{basename:R}=re.useContext(ji),T=typeof d=="string"&&VT.test(d),b,H=!1;if(typeof d=="string"&&T&&(b=d,UT))try{let C=new URL(window.location.href),F=d.startsWith("//")?new URL(C.protocol+d):new URL(d),M=$a(F.pathname,R);F.origin===C.origin&&M!=null?d=M+F.search+F.hash:H=!0}catch{Li(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=oN(d,{relative:a}),[B,X,he]=zN(r,_),ne=QN(d,{replace:c,state:f,target:h,preventScrollReset:g,relative:a,viewTransition:y});function N(C){e&&e(C),C.defaultPrevented||ne(C)}let I=re.createElement("a",{..._,...he,href:b||q,onClick:H||l?e:N,ref:WN(w,X),target:h,"data-discover":!T&&t==="render"?"true":void 0});return B&&!T?re.createElement(re.Fragment,null,I,re.createElement(HN,{page:q})):I});Cn.displayName="Link";var XN=re.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...d},g){let y=Ef(c,{relative:d.relative}),_=di(),w=re.useContext(_d),{navigator:R,basename:T}=re.useContext(ji),b=w!=null&&nR(y)&&f===!0,H=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,q=_.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(q=q.toLowerCase(),B=B?B.toLowerCase():null,H=H.toLowerCase()),B&&T&&(B=$a(B,T)||B);const X=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=q===H||!a&&q.startsWith(H)&&q.charAt(X)==="/",ne=B!=null&&(B===H||!a&&B.startsWith(H)&&B.charAt(H.length)==="/"),N={isActive:he,isPending:ne,isTransitioning:b},I=he?e:void 0,C;typeof r=="function"?C=r(N):C=[r,he?"active":null,ne?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(N):l;return re.createElement(Cn,{...d,"aria-current":I,className:C,ref:g,style:F,to:c,viewTransition:f},typeof h=="function"?h(N):h)});XN.displayName="NavLink";var YN=re.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=T0,action:f,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:y,..._},w)=>{let R=eR(),T=tR(f,{relative:d}),b=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&VT.test(f),q=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let X=B.nativeEvent.submitter,he=X?.getAttribute("formmethod")||c;R(X||B.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:a,state:l,relative:d,preventScrollReset:g,viewTransition:y})};return re.createElement("form",{ref:w,method:b,action:T,onSubmit:r?h:q,..._,"data-discover":!H&&n==="render"?"true":void 0})});YN.displayName="Form";function $N(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(n){let e=re.useContext(Rc);return Zt(e,$N(n)),e}function QN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=sl(),h=di(),d=Ef(n,{relative:l});return re.useCallback(g=>{if(CN(g,e)){g.preventDefault();let y=t!==void 0?t:nf(h)===nf(d);f(n,{replace:y,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,d,t,r,e,n,a,l,c])}var JN=0,ZN=()=>`__${String(++JN)}__`;function eR(){let{router:n}=BT("useSubmit"),{basename:e}=re.useContext(ji),t=yN();return re.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:h,body:d}=ON(r,e);if(a.navigate===!1){let g=a.fetcherKey||ZN();await n.fetch(g,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:d,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:d,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function tR(n,{relative:e}={}){let{basename:t}=re.useContext(ji),r=re.useContext(Ui);Zt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Ef(n||".",{relative:e})},c=di();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();l.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qa([t,l.pathname])),nf(l)}function nR(n,{relative:e}={}){let t=re.useContext(OT);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BT("useViewTransitionState"),a=Ef(n,{relative:e});if(!t.isTransitioning)return!1;let l=$a(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=$a(t.nextLocation.pathname,r)||t.nextLocation.pathname;return M0(a.pathname,c)!=null||M0(a.pathname,l)!=null}const rR=()=>{};var c2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},iR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},HT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,d=h?n[a+2]:0,g=l>>2,y=(l&3)<<4|f>>4;let _=(f&15)<<2|d>>6,w=d&63;h||(w=64,c||(_=64)),r.push(t[g],t[y],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||d==null||y==null)throw new aR;const _=l<<2|f>>4;if(r.push(_),d!==64){const w=f<<4&240|d>>2;if(r.push(w),y!==64){const R=d<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(n){const e=zT(n);return HT.encodeByteArray(e,!0)},P0=function(n){return sR(n).replace(/\./g,"")},GT=function(n){try{return HT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>lR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof c2>"u")return;const n=c2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&GT(n[1]);return e&&JSON.parse(e)},Td=()=>{try{return rR()||oR()||cR()||uR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qT=n=>Td()?.emulatorHosts?.[n],WT=n=>{const e=qT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},KT=()=>Td()?.config,XT=n=>Td()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[P0(JSON.stringify(t)),P0(JSON.stringify(c)),""].join(".")}const Gu={};function hR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?n.emulator.push(e):n.prod.push(e);return n}function dR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let u2=!1;function c1(n,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Gu[n]===e||Gu[n]||u2)return;Gu[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=hR().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{u2=!0,c()},_}function g(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=dR(r),w=t("text"),R=document.getElementById(w)||document.createElement("span"),T=t("learnmore"),b=document.getElementById(T)||document.createElement("a"),H=t("preprendIcon"),q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;f(B),g(b,T);const X=d();h(q,H),B.append(q,R,b,X),document.body.appendChild(B)}l?(R.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function pR(){const n=Td()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const n=or();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _R(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="FirebaseError";class da extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wR,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tf.prototype.create)}}class Tf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?SR(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new da(a,f,r)}}function SR(n,e){return n.replace(AR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const AR=/\{\$([^}]+)}/g;function bR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $l(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(f2(l)&&f2(c)){if(!$l(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function f2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NR(n,e){const t=new RR(n,e);return t.subscribe.bind(t)}class RR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new fR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(n){return n===Ul?void 0:n}function OR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const MR={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},PR=dt.INFO,LR={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},FR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=LR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=FR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const jR=(n,e)=>e.some(t=>n instanceof t);let h2,d2;function UR(){return h2||(h2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return d2||(d2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $T=new WeakMap,Sg=new WeakMap,QT=new WeakMap,eg=new WeakMap,f1=new WeakMap;function BR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ws(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&$T.set(t,n)}).catch(()=>{}),f1.set(e,n),e}function zR(n){if(Sg.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Sg.set(n,e)}let Ag={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HR(n){Ag=n(Ag)}function GR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(tg(this),e,...t);return QT.set(r,e.sort?e.sort():[e]),Ws(r)}:VR().includes(n)?function(...e){return n.apply(tg(this),e),Ws($T.get(this))}:function(...e){return Ws(n.apply(tg(this),e))}}function qR(n){return typeof n=="function"?GR(n):(n instanceof IDBTransaction&&zR(n),jR(n,UR())?new Proxy(n,Ag):n)}function Ws(n){if(n instanceof IDBRequest)return BR(n);if(eg.has(n))return eg.get(n);const e=qR(n);return e!==n&&(eg.set(n,e),f1.set(e,n)),e}const tg=n=>f1.get(n);function WR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Ws(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Ws(c.result),h.oldVersion,h.newVersion,Ws(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const KR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],ng=new Map;function m2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=XR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||KR.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[t](...f),a&&h.done]))[0]};return ng.set(e,l),l}HR(n=>({...n,get:(e,t,r)=>m2(e,t)||n.get(e,t,r),has:(e,t)=>!!m2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($R(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $R(n){return n.getComponent()?.type==="VERSION"}const bg="@firebase/app",p2="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new u1("@firebase/app"),QR="@firebase/app-compat",JR="@firebase/analytics-compat",ZR="@firebase/analytics",eC="@firebase/app-check-compat",tC="@firebase/app-check",nC="@firebase/auth",rC="@firebase/auth-compat",iC="@firebase/database",aC="@firebase/data-connect",sC="@firebase/database-compat",lC="@firebase/functions",oC="@firebase/functions-compat",cC="@firebase/installations",uC="@firebase/installations-compat",fC="@firebase/messaging",hC="@firebase/messaging-compat",dC="@firebase/performance",mC="@firebase/performance-compat",pC="@firebase/remote-config",gC="@firebase/remote-config-compat",vC="@firebase/storage",xC="@firebase/storage-compat",yC="@firebase/firestore",_C="@firebase/ai",EC="@firebase/firestore-compat",TC="firebase",wC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",SC={[bg]:"fire-core",[QR]:"fire-core-compat",[ZR]:"fire-analytics",[JR]:"fire-analytics-compat",[tC]:"fire-app-check",[eC]:"fire-app-check-compat",[nC]:"fire-auth",[rC]:"fire-auth-compat",[iC]:"fire-rtdb",[aC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[lC]:"fire-fn",[oC]:"fire-fn-compat",[cC]:"fire-iid",[uC]:"fire-iid-compat",[fC]:"fire-fcm",[hC]:"fire-fcm-compat",[dC]:"fire-perf",[mC]:"fire-perf-compat",[pC]:"fire-rc",[gC]:"fire-rc-compat",[vC]:"fire-gcs",[xC]:"fire-gcs-compat",[yC]:"fire-fst",[EC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[TC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map,AC=new Map,Rg=new Map;function g2(n,e){try{n.container.addComponent(e)}catch(t){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ql(n){const e=n.name;if(Rg.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,n);for(const t of L0.values())g2(t,n);for(const t of AC.values())g2(t,n);return!0}function wd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Tf("app","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=wC;function JT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ng,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ks.create("bad-app-name",{appName:String(a)});if(t||(t=KT()),!t)throw Ks.create("no-options");const l=L0.get(a);if(l){if($l(t,l.options)&&$l(r,l.config))return l;throw Ks.create("duplicate-app",{appName:a})}const c=new kR(a);for(const h of Rg.values())c.addComponent(h);const f=new NC(t,r,c);return L0.set(a,f),f}function h1(n=Ng){const e=L0.get(n);if(!e&&n===Ng&&KT())return JT();if(!e)throw Ks.create("no-app",{appName:n});return e}function ea(n,e,t){let r=SC[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(c.join(" "));return}Ql(new $s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-heartbeat-database",CC=1,rf="firebase-heartbeat-store";let rg=null;function ZT(){return rg||(rg=WR(RC,CC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ks.create("idb-open",{originalErrorMessage:n.message})})),rg}async function IC(n){try{const t=(await ZT()).transaction(rf),r=await t.objectStore(rf).get(ew(n));return await t.done,r}catch(e){if(e instanceof da)Qa.warn(e.message);else{const t=Ks.create("idb-get",{originalErrorMessage:e?.message});Qa.warn(t.message)}}}async function v2(n,e){try{const r=(await ZT()).transaction(rf,"readwrite");await r.objectStore(rf).put(e,ew(n)),await r.done}catch(t){if(t instanceof da)Qa.warn(t.message);else{const r=Ks.create("idb-set",{originalErrorMessage:t?.message});Qa.warn(r.message)}}}function ew(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1024,OC=30;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>OC){const a=LC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x2(),{heartbeatsToSend:t,unsentEntries:r}=MC(this._heartbeatsCache.heartbeats),a=P0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qa.warn(e),""}}}function x2(){return new Date().toISOString().substring(0,10)}function MC(n,e=DC){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),y2(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),y2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class PC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return v2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function y2(n){return P0(JSON.stringify({version:2,heartbeats:n})).length}function LC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){Ql(new $s("platform-logger",e=>new YR(e),"PRIVATE")),Ql(new $s("heartbeat",e=>new kC(e),"PRIVATE")),ea(bg,p2,n),ea(bg,p2,"esm2020"),ea("fire-js","")}FC("");var jC="firebase",UC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(jC,UC,"app");var _2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,tw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function C(){}C.prototype=I.prototype,N.F=I.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(F,M,G){for(var U=Array(arguments.length-2),We=2;We<arguments.length;We++)U[We-2]=arguments[We];return I.prototype[M].apply(F,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,C){C||(C=0);const F=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)F[M]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(M=0;M<16;++M)F[M]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=N.g[0],C=N.g[1],M=N.g[2];let G=N.g[3],U;U=I+(G^C&(M^G))+F[0]+3614090360&4294967295,I=C+(U<<7&4294967295|U>>>25),U=G+(M^I&(C^M))+F[1]+3905402710&4294967295,G=I+(U<<12&4294967295|U>>>20),U=M+(C^G&(I^C))+F[2]+606105819&4294967295,M=G+(U<<17&4294967295|U>>>15),U=C+(I^M&(G^I))+F[3]+3250441966&4294967295,C=M+(U<<22&4294967295|U>>>10),U=I+(G^C&(M^G))+F[4]+4118548399&4294967295,I=C+(U<<7&4294967295|U>>>25),U=G+(M^I&(C^M))+F[5]+1200080426&4294967295,G=I+(U<<12&4294967295|U>>>20),U=M+(C^G&(I^C))+F[6]+2821735955&4294967295,M=G+(U<<17&4294967295|U>>>15),U=C+(I^M&(G^I))+F[7]+4249261313&4294967295,C=M+(U<<22&4294967295|U>>>10),U=I+(G^C&(M^G))+F[8]+1770035416&4294967295,I=C+(U<<7&4294967295|U>>>25),U=G+(M^I&(C^M))+F[9]+2336552879&4294967295,G=I+(U<<12&4294967295|U>>>20),U=M+(C^G&(I^C))+F[10]+4294925233&4294967295,M=G+(U<<17&4294967295|U>>>15),U=C+(I^M&(G^I))+F[11]+2304563134&4294967295,C=M+(U<<22&4294967295|U>>>10),U=I+(G^C&(M^G))+F[12]+1804603682&4294967295,I=C+(U<<7&4294967295|U>>>25),U=G+(M^I&(C^M))+F[13]+4254626195&4294967295,G=I+(U<<12&4294967295|U>>>20),U=M+(C^G&(I^C))+F[14]+2792965006&4294967295,M=G+(U<<17&4294967295|U>>>15),U=C+(I^M&(G^I))+F[15]+1236535329&4294967295,C=M+(U<<22&4294967295|U>>>10),U=I+(M^G&(C^M))+F[1]+4129170786&4294967295,I=C+(U<<5&4294967295|U>>>27),U=G+(C^M&(I^C))+F[6]+3225465664&4294967295,G=I+(U<<9&4294967295|U>>>23),U=M+(I^C&(G^I))+F[11]+643717713&4294967295,M=G+(U<<14&4294967295|U>>>18),U=C+(G^I&(M^G))+F[0]+3921069994&4294967295,C=M+(U<<20&4294967295|U>>>12),U=I+(M^G&(C^M))+F[5]+3593408605&4294967295,I=C+(U<<5&4294967295|U>>>27),U=G+(C^M&(I^C))+F[10]+38016083&4294967295,G=I+(U<<9&4294967295|U>>>23),U=M+(I^C&(G^I))+F[15]+3634488961&4294967295,M=G+(U<<14&4294967295|U>>>18),U=C+(G^I&(M^G))+F[4]+3889429448&4294967295,C=M+(U<<20&4294967295|U>>>12),U=I+(M^G&(C^M))+F[9]+568446438&4294967295,I=C+(U<<5&4294967295|U>>>27),U=G+(C^M&(I^C))+F[14]+3275163606&4294967295,G=I+(U<<9&4294967295|U>>>23),U=M+(I^C&(G^I))+F[3]+4107603335&4294967295,M=G+(U<<14&4294967295|U>>>18),U=C+(G^I&(M^G))+F[8]+1163531501&4294967295,C=M+(U<<20&4294967295|U>>>12),U=I+(M^G&(C^M))+F[13]+2850285829&4294967295,I=C+(U<<5&4294967295|U>>>27),U=G+(C^M&(I^C))+F[2]+4243563512&4294967295,G=I+(U<<9&4294967295|U>>>23),U=M+(I^C&(G^I))+F[7]+1735328473&4294967295,M=G+(U<<14&4294967295|U>>>18),U=C+(G^I&(M^G))+F[12]+2368359562&4294967295,C=M+(U<<20&4294967295|U>>>12),U=I+(C^M^G)+F[5]+4294588738&4294967295,I=C+(U<<4&4294967295|U>>>28),U=G+(I^C^M)+F[8]+2272392833&4294967295,G=I+(U<<11&4294967295|U>>>21),U=M+(G^I^C)+F[11]+1839030562&4294967295,M=G+(U<<16&4294967295|U>>>16),U=C+(M^G^I)+F[14]+4259657740&4294967295,C=M+(U<<23&4294967295|U>>>9),U=I+(C^M^G)+F[1]+2763975236&4294967295,I=C+(U<<4&4294967295|U>>>28),U=G+(I^C^M)+F[4]+1272893353&4294967295,G=I+(U<<11&4294967295|U>>>21),U=M+(G^I^C)+F[7]+4139469664&4294967295,M=G+(U<<16&4294967295|U>>>16),U=C+(M^G^I)+F[10]+3200236656&4294967295,C=M+(U<<23&4294967295|U>>>9),U=I+(C^M^G)+F[13]+681279174&4294967295,I=C+(U<<4&4294967295|U>>>28),U=G+(I^C^M)+F[0]+3936430074&4294967295,G=I+(U<<11&4294967295|U>>>21),U=M+(G^I^C)+F[3]+3572445317&4294967295,M=G+(U<<16&4294967295|U>>>16),U=C+(M^G^I)+F[6]+76029189&4294967295,C=M+(U<<23&4294967295|U>>>9),U=I+(C^M^G)+F[9]+3654602809&4294967295,I=C+(U<<4&4294967295|U>>>28),U=G+(I^C^M)+F[12]+3873151461&4294967295,G=I+(U<<11&4294967295|U>>>21),U=M+(G^I^C)+F[15]+530742520&4294967295,M=G+(U<<16&4294967295|U>>>16),U=C+(M^G^I)+F[2]+3299628645&4294967295,C=M+(U<<23&4294967295|U>>>9),U=I+(M^(C|~G))+F[0]+4096336452&4294967295,I=C+(U<<6&4294967295|U>>>26),U=G+(C^(I|~M))+F[7]+1126891415&4294967295,G=I+(U<<10&4294967295|U>>>22),U=M+(I^(G|~C))+F[14]+2878612391&4294967295,M=G+(U<<15&4294967295|U>>>17),U=C+(G^(M|~I))+F[5]+4237533241&4294967295,C=M+(U<<21&4294967295|U>>>11),U=I+(M^(C|~G))+F[12]+1700485571&4294967295,I=C+(U<<6&4294967295|U>>>26),U=G+(C^(I|~M))+F[3]+2399980690&4294967295,G=I+(U<<10&4294967295|U>>>22),U=M+(I^(G|~C))+F[10]+4293915773&4294967295,M=G+(U<<15&4294967295|U>>>17),U=C+(G^(M|~I))+F[1]+2240044497&4294967295,C=M+(U<<21&4294967295|U>>>11),U=I+(M^(C|~G))+F[8]+1873313359&4294967295,I=C+(U<<6&4294967295|U>>>26),U=G+(C^(I|~M))+F[15]+4264355552&4294967295,G=I+(U<<10&4294967295|U>>>22),U=M+(I^(G|~C))+F[6]+2734768916&4294967295,M=G+(U<<15&4294967295|U>>>17),U=C+(G^(M|~I))+F[13]+1309151649&4294967295,C=M+(U<<21&4294967295|U>>>11),U=I+(M^(C|~G))+F[4]+4149444226&4294967295,I=C+(U<<6&4294967295|U>>>26),U=G+(C^(I|~M))+F[11]+3174756917&4294967295,G=I+(U<<10&4294967295|U>>>22),U=M+(I^(G|~C))+F[2]+718787259&4294967295,M=G+(U<<15&4294967295|U>>>17),U=C+(G^(M|~I))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+G&4294967295}r.prototype.v=function(N,I){I===void 0&&(I=N.length);const C=I-this.blockSize,F=this.C;let M=this.h,G=0;for(;G<I;){if(M==0)for(;G<=C;)a(this,N,G),G+=this.blockSize;if(typeof N=="string"){for(;G<I;)if(F[M++]=N.charCodeAt(G++),M==this.blockSize){a(this,F),M=0;break}}else for(;G<I;)if(F[M++]=N[G++],M==this.blockSize){a(this,F),M=0;break}}this.h=M,this.o+=I},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,C=0;C<4;++C)for(let F=0;F<32;F+=8)N[I++]=this.g[C]>>>F&255;return N};function l(N,I){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=I(N)}function c(N,I){this.h=I;const C=[];let F=!0;for(let M=N.length-1;M>=0;M--){const G=N[M]|0;F&&G==I||(C[M]=G,F=!1)}this.g=C}var f={};function h(N){return-128<=N&&N<128?l(N,function(I){return new c([I|0],I<0?-1:0)}):new c([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return b(d(-N));const I=[];let C=1;for(let F=0;N>=C;F++)I[F]=N/C|0,C*=4294967296;return new c(I,0)}function g(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return b(g(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(I,8));let F=y;for(let G=0;G<N.length;G+=8){var M=Math.min(8,N.length-G);const U=parseInt(N.substring(G,G+M),I);M<8?(M=d(Math.pow(I,M)),F=F.j(M).add(d(U))):(F=F.j(C),F=F.add(d(U)))}return F}var y=h(0),_=h(1),w=h(16777216);n=c.prototype,n.m=function(){if(T(this))return-b(this).m();let N=0,I=1;for(let C=0;C<this.g.length;C++){const F=this.i(C);N+=(F>=0?F:4294967296+F)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(T(this))return"-"+b(this).toString(N);const I=d(Math.pow(N,6));var C=this;let F="";for(;;){const M=X(C,I).g;C=H(C,M.j(I));let G=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=M,R(C))return G+F;for(;G.length<6;)G="0"+G;F=G+F}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function T(N){return N.h==-1}n.l=function(N){return N=H(this,N),T(N)?-1:R(N)?0:1};function b(N){const I=N.g.length,C=[];for(let F=0;F<I;F++)C[F]=~N.g[F];return new c(C,~N.h).add(_)}n.abs=function(){return T(this)?b(this):this},n.add=function(N){const I=Math.max(this.g.length,N.g.length),C=[];let F=0;for(let M=0;M<=I;M++){let G=F+(this.i(M)&65535)+(N.i(M)&65535),U=(G>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);F=U>>>16,G&=65535,U&=65535,C[M]=U<<16|G}return new c(C,C[C.length-1]&-2147483648?-1:0)};function H(N,I){return N.add(b(I))}n.j=function(N){if(R(this)||R(N))return y;if(T(this))return T(N)?b(this).j(b(N)):b(b(this).j(N));if(T(N))return b(this.j(b(N)));if(this.l(w)<0&&N.l(w)<0)return d(this.m()*N.m());const I=this.g.length+N.g.length,C=[];for(var F=0;F<2*I;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(let M=0;M<N.g.length;M++){const G=this.i(F)>>>16,U=this.i(F)&65535,We=N.i(M)>>>16,Ge=N.i(M)&65535;C[2*F+2*M]+=U*Ge,q(C,2*F+2*M),C[2*F+2*M+1]+=G*Ge,q(C,2*F+2*M+1),C[2*F+2*M+1]+=U*We,q(C,2*F+2*M+1),C[2*F+2*M+2]+=G*We,q(C,2*F+2*M+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new c(C,0)};function q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function B(N,I){this.g=N,this.h=I}function X(N,I){if(R(I))throw Error("division by zero");if(R(N))return new B(y,y);if(T(N))return I=X(b(N),I),new B(b(I.g),b(I.h));if(T(I))return I=X(N,b(I)),new B(b(I.g),I.h);if(N.g.length>30){if(T(N)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var C=_,F=I;F.l(N)<=0;)C=he(C),F=he(F);var M=ne(C,1),G=ne(F,1);for(F=ne(F,2),C=ne(C,2);!R(F);){var U=G.add(F);U.l(N)<=0&&(M=M.add(C),G=U),F=ne(F,1),C=ne(C,1)}return I=H(N,M.j(I)),new B(M,I)}for(M=y;N.l(I)>=0;){for(C=Math.max(1,Math.floor(N.m()/I.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),G=d(C),U=G.j(I);T(U)||U.l(N)>0;)C-=F,G=d(C),U=G.j(I);R(G)&&(G=_),M=M.add(G),N=H(N,U)}return new B(M,N)}n.B=function(N){return X(this,N).h},n.and=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let F=0;F<I;F++)C[F]=this.i(F)&N.i(F);return new c(C,this.h&N.h)},n.or=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let F=0;F<I;F++)C[F]=this.i(F)|N.i(F);return new c(C,this.h|N.h)},n.xor=function(N){const I=Math.max(this.g.length,N.g.length),C=[];for(let F=0;F<I;F++)C[F]=this.i(F)^N.i(F);return new c(C,this.h^N.h)};function he(N){const I=N.g.length+1,C=[];for(let F=0;F<I;F++)C[F]=N.i(F)<<1|N.i(F-1)>>>31;return new c(C,N.h)}function ne(N,I){const C=I>>5;I%=32;const F=N.g.length-C,M=[];for(let G=0;G<F;G++)M[G]=I>0?N.i(G+C)>>>I|N.i(G+C+1)<<32-I:N.i(G+C);return new c(M,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=g,Xs=c}).apply(typeof _2<"u"?_2:typeof self<"u"?self:typeof window<"u"?window:{});var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nw,Uu,rw,S0,Cg,iw,aw,sw;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof s0=="object"&&s0];for(var E=0;E<m.length;++E){var A=m[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(m,E){if(E)e:{var A=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var ie=m[L];if(!(ie in A))break e;A=A[ie]}m=m[m.length-1],L=A[m],E=E(L),E!=L&&E!=null&&e(A,m,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(E){var A=[],L;for(L in E)Object.prototype.hasOwnProperty.call(E,L)&&A.push([L,E[L]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function h(m,E,A){return m.call.apply(m.bind,arguments)}function d(m,E,A){return d=h,d.apply(null,arguments)}function g(m,E){var A=Array.prototype.slice.call(arguments,1);return function(){var L=A.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function y(m,E){function A(){}A.prototype=E.prototype,m.Z=E.prototype,m.prototype=new A,m.prototype.constructor=m,m.Ob=function(L,ie,me){for(var ke=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ke[rt-2]=arguments[rt];return E.prototype[ie].apply(L,ke)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const E=m.length;if(E>0){const A=Array(E);for(let L=0;L<E;L++)A[L]=m[L];return A}return[]}function R(m,E){for(let L=1;L<arguments.length;L++){const ie=arguments[L];var A=typeof ie;if(A=A!="object"?A:ie?Array.isArray(ie)?"array":A:"null",A=="array"||A=="object"&&typeof ie.length=="number"){A=m.length||0;const me=ie.length||0;m.length=A+me;for(let ke=0;ke<me;ke++)m[A+ke]=ie[ke]}else m.push(ie)}}class T{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(m){c.setTimeout(()=>{throw m},0)}function H(){var m=N;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class q{constructor(){this.h=this.g=null}add(E,A){const L=B.get();L.set(E,A),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new T(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ne=!1,N=new q,I=()=>{const m=Promise.resolve(void 0);he=()=>{m.then(C)}};function C(){for(var m;m=H();){try{m.h.call(m.g)}catch(A){b(A)}var E=B;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}ne=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};c.addEventListener("test",A,E),c.removeEventListener("test",A,E)}catch{}return m})();function U(m){return/^[\s\xa0]*$/.test(m)}function We(m,E){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}y(We,M),We.prototype.init=function(m,E){const A=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(A=="mouseover"?E=m.fromElement:A=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),pe=0;function Ne(m,E,A,L,ie){this.listener=m,this.proxy=null,this.src=E,this.type=A,this.capture=!!L,this.ha=ie,this.key=++pe,this.da=this.fa=!1}function Be(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ye(m,E,A){for(const L in m)E.call(A,m[L],L,m)}function nt(m,E){for(const A in m)E.call(void 0,m[A],A,m)}function Z(m){const E={};for(const A in m)E[A]=m[A];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(m,E){let A,L;for(let ie=1;ie<arguments.length;ie++){L=arguments[ie];for(A in L)m[A]=L[A];for(let me=0;me<k.length;me++)A=k[me],Object.prototype.hasOwnProperty.call(L,A)&&(m[A]=L[A])}}function K(m){this.src=m,this.g={},this.h=0}K.prototype.add=function(m,E,A,L,ie){const me=m.toString();m=this.g[me],m||(m=this.g[me]=[],this.h++);const ke=de(m,E,L,ie);return ke>-1?(E=m[ke],A||(E.fa=!1)):(E=new Ne(E,this.src,me,!!L,ie),E.fa=A,m.push(E)),E};function Q(m,E){const A=E.type;if(A in m.g){var L=m.g[A],ie=Array.prototype.indexOf.call(L,E,void 0),me;(me=ie>=0)&&Array.prototype.splice.call(L,ie,1),me&&(Be(E),m.g[A].length==0&&(delete m.g[A],m.h--))}}function de(m,E,A,L){for(let ie=0;ie<m.length;++ie){const me=m[ie];if(!me.da&&me.listener==E&&me.capture==!!A&&me.ha==L)return ie}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ie(m,E,A,L,ie){if(Array.isArray(E)){for(let me=0;me<E.length;me++)Ie(m,E[me],A,L,ie);return null}return A=Dn(A),m&&m[Ge]?m.J(E,A,f(L)?!!L.capture:!1,ie):Pe(m,E,A,!1,L,ie)}function Pe(m,E,A,L,ie,me){if(!E)throw Error("Invalid event type");const ke=f(ie)?!!ie.capture:!!ie;let rt=bt(m);if(rt||(m[Re]=rt=new K(m)),A=rt.add(E,A,L,ke,me),A.proxy)return A;if(L=vt(),A.proxy=L,L.src=m,L.listener=A,m.addEventListener)G||(ie=ke),ie===void 0&&(ie=!1),m.addEventListener(E.toString(),L,ie);else if(m.attachEvent)m.attachEvent(at(E.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return A}function vt(){function m(A){return E.call(m.src,m.listener,A)}const E=cr;return m}function lt(m,E,A,L,ie){if(Array.isArray(E))for(var me=0;me<E.length;me++)lt(m,E[me],A,L,ie);else L=f(L)?!!L.capture:!!L,A=Dn(A),m&&m[Ge]?(m=m.i,me=String(E).toString(),me in m.g&&(E=m.g[me],A=de(E,A,L,ie),A>-1&&(Be(E[A]),Array.prototype.splice.call(E,A,1),E.length==0&&(delete m.g[me],m.h--)))):m&&(m=bt(m))&&(E=m.g[E.toString()],m=-1,E&&(m=de(E,A,L,ie)),(A=m>-1?E[m]:null)&&nn(A))}function nn(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Ge])Q(E.i,m);else{var A=m.type,L=m.proxy;E.removeEventListener?E.removeEventListener(A,L,m.capture):E.detachEvent?E.detachEvent(at(A),L):E.addListener&&E.removeListener&&E.removeListener(L),(A=bt(E))?(Q(A,m),A.h==0&&(A.src=null,E[Re]=null)):Be(m)}}}function at(m){return m in Fe?Fe[m]:Fe[m]="on"+m}function cr(m,E){if(m.da)m=!0;else{E=new We(E,this);const A=m.listener,L=m.ha||m.src;m.fa&&nn(m),m=A.call(L,E)}return m}function bt(m){return m=m[Re],m instanceof K?m:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dn(m){return typeof m=="function"?m:(m[Ue]||(m[Ue]=function(E){return m.handleEvent(E)}),m[Ue])}function Nt(){F.call(this),this.i=new K(this),this.M=this,this.G=null}y(Nt,F),Nt.prototype[Ge]=!0,Nt.prototype.removeEventListener=function(m,E,A,L){lt(this,m,E,A,L)};function zt(m,E){var A,L=m.G;if(L)for(A=[];L;L=L.G)A.push(L);if(m=m.M,L=E.type||E,typeof E=="string")E=new M(E,m);else if(E instanceof M)E.target=E.target||m;else{var ie=E;E=new M(L,m),J(E,ie)}ie=!0;let me,ke;if(A)for(ke=A.length-1;ke>=0;ke--)me=E.g=A[ke],ie=ur(me,L,!0,E)&&ie;if(me=E.g=m,ie=ur(me,L,!0,E)&&ie,ie=ur(me,L,!1,E)&&ie,A)for(ke=0;ke<A.length;ke++)me=E.g=A[ke],ie=ur(me,L,!1,E)&&ie}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const A=m.g[E];for(let L=0;L<A.length;L++)Be(A[L]);delete m.g[E],m.h--}}this.G=null},Nt.prototype.J=function(m,E,A,L){return this.i.add(String(m),E,!1,A,L)},Nt.prototype.K=function(m,E,A,L){return this.i.add(String(m),E,!0,A,L)};function ur(m,E,A,L){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let ie=!0;for(let me=0;me<E.length;++me){const ke=E[me];if(ke&&!ke.da&&ke.capture==A){const rt=ke.listener,cn=ke.ha||ke.src;ke.fa&&Q(m.i,ke),ie=rt.call(cn,L)!==!1&&ie}}return ie&&!L.defaultPrevented}function go(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(m,E||0)}function is(m){m.g=go(()=>{m.g=null,m.i&&(m.i=!1,is(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class qt extends F{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(m){F.call(this),this.h=m,this.g={}}y(Yr,F);var pa=[];function ga(m){Ye(m.g,function(E,A){this.g.hasOwnProperty(A)&&nn(E)},m),m.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),ga(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=c.JSON.stringify,Vc=c.JSON.parse,ul=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function fl(){}function hl(){}var xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){M.call(this,"d")}y(pn,M);function fr(){M.call(this,"c")}y(fr,M);var en={},vo=null;function va(){return vo=vo||new Nt}en.Ia="serverreachability";function dl(m){M.call(this,en.Ia,m)}y(dl,M);function Dr(m){const E=va();zt(E,new dl(E))}en.STAT_EVENT="statevent";function xa(m,E){M.call(this,en.STAT_EVENT,m),this.stat=E}y(xa,M);function rn(m){const E=va();zt(E,new xa(E,m))}en.Ja="timingevent";function hr(m,E){M.call(this,en.Ja,m),this.size=E}y(hr,M);function $r(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function Or(){this.g=!0}Or.prototype.ua=function(){this.g=!1};function Bc(m,E,A,L,ie,me){m.info(function(){if(m.g)if(me){var ke="",rt=me.split("&");for(let Tt=0;Tt<rt.length;Tt++){var cn=rt[Tt].split("=");if(cn.length>1){const Qt=cn[0];cn=cn[1];const ei=Qt.split("_");ke=ei.length>=2&&ei[1]=="type"?ke+(Qt+"="+cn+"&"):ke+(Qt+"=redacted&")}}}else ke=null;else ke=me;return"XMLHTTP REQ ("+L+") [attempt "+ie+"]: "+E+`
`+A+`
`+ke})}function xo(m,E,A,L,ie,me,ke){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+ie+"]: "+E+`
`+A+`
`+me+" "+ke})}function Qr(m,E,A,L){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+zc(m,A)+(L?" "+L:"")})}function ya(m,E){m.info(function(){return"TIMEOUT: "+E})}Or.prototype.info=function(){};function zc(m,E){if(!m.g)return E;if(!E)return null;try{const me=JSON.parse(E);if(me){for(m=0;m<me.length;m++)if(Array.isArray(me[m])){var A=me[m];if(!(A.length<2)){var L=A[1];if(Array.isArray(L)&&!(L.length<1)){var ie=L[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let ke=1;ke<L.length;ke++)L[ke]=""}}}}return Zn(me)}catch{return E}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ea={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function Ta(){}y(Ta,fl),Ta.prototype.g=function(){return new XMLHttpRequest},ml=new Ta;function pi(m){return encodeURIComponent(String(m))}function D(m){var E=1;m=m.split(":");const A=[];for(;E>0&&m.length;)A.push(m.shift()),E--;return m.length&&A.push(m.join(":")),A}function z(m,E,A,L){this.j=m,this.i=E,this.l=A,this.S=L||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new P}function P(){this.i=null,this.g="",this.h=!1}var j={},V={};function W(m,E,A){m.M=1,m.A=pl(gn(E)),m.u=A,m.R=!0,se(m,null)}function se(m,E){m.F=Date.now(),ce(m),m.B=gn(m.A);var A=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),_o(A.i,"t",L),m.C=0,A=m.j.L,m.h=new P,m.g=Jf(m.j,A?E:null,!m.u),m.P>0&&(m.O=new qt(d(m.Y,m,m.g),m.P)),E=m.V,A=m.g,L=m.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(pa[0]=ie.toString()),ie=pa);for(let me=0;me<ie.length;me++){const ke=Ie(A,ie[me],L||E.handleEvent,!1,E.h||E);if(!ke)break;E.g[ke.key]=ke}E=m.J?Z(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Dr(),Bc(m.i,m.v,m.B,m.l,m.S,m.u)}z.prototype.ba=function(m){m=m.target;const E=this.O;E&&_i(m)==3?E.j():this.Y(m)},z.prototype.Y=function(m){try{if(m==this.g)e:{const rt=_i(this.g),cn=this.g.ya(),Tt=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||Un(this.g)))){this.K||rt!=4||cn==7||(cn==8||Tt<=0?Dr(3):Dr(2)),Ce(this);var E=this.g.ca();this.X=E;var A=xe(this);if(this.o=E==200,xo(this.i,this.v,this.B,this.l,this.S,rt,E),this.o){if(this.U&&!this.L){t:{if(this.g){var L,ie=this.g;if((L=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(L)){var me=L;break t}}me=null}if(m=me)Qr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Me(this,m);else{this.o=!1,this.m=3,rn(12),Ae(this),Le(this);break e}}if(this.R){m=!0;let Qt;for(;!this.K&&this.C<A.length;)if(Qt=ue(this,A),Qt==V){rt==4&&(this.m=4,rn(14),m=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==j){this.m=4,rn(15),Qr(this.i,this.l,A,"[Invalid Chunk]"),m=!1;break}else Qr(this.i,this.l,Qt,null),Me(this,Qt);if(le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||A.length!=0||this.h.h||(this.m=1,rn(16),m=!1),this.o=this.o&&m,!m)Qr(this.i,this.l,A,"[Invalid Chunked Response]"),Ae(this),Le(this);else if(A.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Jc(ke),ke.P=!0,rn(11))}}else Qr(this.i,this.l,A,null),Me(this,A);rt==4&&Ae(this),this.o&&!this.K&&(rt==4?Xf(this.j,this):(this.o=!1,ce(this)))}else Sa(this.g),E==400&&A.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Ae(this),Le(this)}}}catch{}finally{}};function xe(m){if(!le(m))return m.g.la();const E=Un(m.g);if(E==="")return"";let A="";const L=E.length,ie=_i(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ae(m),Le(m),"";m.h.i=new c.TextDecoder}for(let me=0;me<L;me++)m.h.h=!0,A+=m.h.i.decode(E[me],{stream:!(ie&&me==L-1)});return E.length=0,m.h.g+=A,m.C=0,m.h.g}function le(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ue(m,E){var A=m.C,L=E.indexOf(`
`,A);return L==-1?V:(A=Number(E.substring(A,L)),isNaN(A)?j:(L+=1,L+A>E.length?V:(E=E.slice(L,L+A),m.C=L+A,E)))}z.prototype.cancel=function(){this.K=!0,Ae(this)};function ce(m){m.T=Date.now()+m.H,be(m,m.H)}function be(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=$r(d(m.aa,m),E)}function Ce(m){m.D&&(c.clearTimeout(m.D),m.D=null)}z.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ya(this.i,this.B),this.M!=2&&(Dr(),rn(17)),Ae(this),this.m=2,Le(this)):be(this,this.T-m)};function Le(m){m.j.I==0||m.K||Xf(m.j,m)}function Ae(m){Ce(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,ga(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function Me(m,E){try{var A=m.j;if(A.I!=0&&(A.g==m||er(A.h,m))){if(!m.L&&er(A.h,m)&&A.I==3){try{var L=A.Ba.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var ie=L;if(ie[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<m.F)Ao(A),ds(A);else break e;Tl(A),rn(18)}}else A.xa=ie[1],0<A.xa-A.K&&ie[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=$r(d(A.Va,A),6e3));Ht(A.h)<=1&&A.ta&&(A.ta=void 0)}else qi(A,11)}else if((m.L||A.g==m)&&Ao(A),!U(E))for(ie=A.Ba.g.parse(E),E=0;E<ie.length;E++){let Tt=ie[E];const Qt=Tt[0];if(!(Qt<=A.K))if(A.K=Qt,Tt=Tt[1],A.I==2)if(Tt[0]=="c"){A.M=Tt[1],A.ba=Tt[2];const ei=Tt[3];ei!=null&&(A.ka=ei,A.j.info("VER="+A.ka));const Wi=Tt[4];Wi!=null&&(A.za=Wi,A.j.info("SVER="+A.za));const Ei=Tt[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(L=1.5*Ei,A.O=L,A.j.info("backChannelRequestTimeoutMs_="+L)),L=A;const Ti=m.g;if(Ti){const wl=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var me=L.h;me.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(gi(me,me.h),me.h=null))}if(L.G){const bo=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(L.wa=bo,It(L.J,L.G,bo))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-m.F,A.j.info("Handshake RTT: "+A.T+"ms")),L=A;var ke=m;if(L.na=Qf(L,L.L?L.ba:null,L.W),ke.L){vi(L.h,ke);var rt=ke,cn=L.O;cn&&(rt.H=cn),rt.D&&(Ce(rt),ce(rt)),L.g=ke}else Wf(L);A.i.length>0&&Gi(A)}else Tt[0]!="stop"&&Tt[0]!="close"||qi(A,7);else A.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?qi(A,7):$c(A):Tt[0]!="noop"&&A.l&&A.l.qa(Tt),A.A=0)}}Dr(4)}catch{}}var He=class{constructor(m,E){this.g=m,this.map=E}};function Rt(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ct(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ht(m){return m.h?1:m.g?m.g.size:0}function er(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function gi(m,E){m.g?m.g.add(E):m.h=E}function vi(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Rt.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function kr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const A of m.g.values())E=E.concat(A.G);return E}return w(m.i)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(m,E){if(m){m=m.split("&");for(let A=0;A<m.length;A++){const L=m[A].indexOf("=");let ie,me=null;L>=0?(ie=m[A].substring(0,L),me=m[A].substring(L+1)):ie=m[A],E(ie,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Mr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof Mr?(this.l=m.l,On(this,m.j),this.o=m.o,this.g=m.g,ss(this,m.u),this.h=m.h,Hc(this,Gf(m.i)),this.m=m.m):m&&(E=String(m).match(as))?(this.l=!1,On(this,E[1]||"",!0),this.o=Vi(E[2]||""),this.g=Vi(E[3]||"",!0),ss(this,E[4]),this.h=Vi(E[5]||"",!0),Hc(this,E[6]||"",!0),this.m=Vi(E[7]||"")):(this.l=!1,this.i=new os(null,this.l))}Mr.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(gl(E,yo,!0),":");var A=this.g;return(A||E=="file")&&(m.push("//"),(E=this.o)&&m.push(gl(E,yo,!0),"@"),m.push(pi(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&m.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(gl(A,A.charAt(0)=="/"?Gc:Bf,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",gl(A,zf)),m.join("")},Mr.prototype.resolve=function(m){const E=gn(this);let A=!!m.j;A?On(E,m.j):A=!!m.o,A?E.o=m.o:A=!!m.g,A?E.g=m.g:A=m.u!=null;var L=m.h;if(A)ss(E,m.u);else if(A=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var ie=E.h.lastIndexOf("/");ie!=-1&&(L=E.h.slice(0,ie+1)+L)}if(ie=L,ie==".."||ie==".")L="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){L=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const me=[];for(let ke=0;ke<ie.length;){const rt=ie[ke++];rt=="."?L&&ke==ie.length&&me.push(""):rt==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),L&&ke==ie.length&&me.push("")):(me.push(rt),L=!0)}L=me.join("/")}else L=ie}return A?E.h=L:A=m.i.toString()!=="",A?Hc(E,Gf(m.i)):A=!!m.m,A&&(E.m=m.m),E};function gn(m){return new Mr(m)}function On(m,E,A){m.j=A?Vi(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function ss(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function Hc(m,E,A){E instanceof os?(m.i=E,Eo(m.i,m.l)):(A||(E=gl(E,ls)),m.i=new os(E,m.l))}function It(m,E,A){m.i.set(E,A)}function pl(m){return It(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Vi(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function gl(m,E,A){return typeof m=="string"?(m=encodeURI(m).replace(E,yr),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var yo=/[#\/\?@]/g,Bf=/[#\?:]/g,Gc=/[#\?]/g,ls=/[#\?@]/g,zf=/#/g;function os(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function _r(m){m.g||(m.g=new Map,m.h=0,m.i&&tr(m.i,function(E,A){m.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=os.prototype,n.add=function(m,E){_r(this),this.i=null,m=cs(this,m);let A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(E),this.h+=1,this};function Hf(m,E){_r(m),E=cs(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function qc(m,E){return _r(m),E=cs(m,E),m.g.has(E)}n.forEach=function(m,E){_r(this),this.g.forEach(function(A,L){A.forEach(function(ie){m.call(E,ie,L,this)},this)},this)};function Wc(m,E){_r(m);let A=[];if(typeof E=="string")qc(m,E)&&(A=A.concat(m.g.get(cs(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)A=A.concat(m[E]);return A}n.set=function(m,E){return _r(this),this.i=null,m=cs(this,m),qc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=Wc(this,m),m.length>0?String(m[0]):E):E};function _o(m,E,A){Hf(m,E),A.length>0&&(m.i=null,m.g.set(cs(m,E),w(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let L=0;L<E.length;L++){var A=E[L];const ie=pi(A);A=Wc(this,A);for(let me=0;me<A.length;me++){let ke=ie;A[me]!==""&&(ke+="="+pi(A[me])),m.push(ke)}}return this.i=m.join("&")};function Gf(m){const E=new os;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function cs(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Eo(m,E){E&&!m.j&&(_r(m),m.i=null,m.g.forEach(function(A,L){const ie=L.toLowerCase();L!=ie&&(Hf(this,L),_o(this,ie,A))},m)),m.j=E}function xi(m,E){const A=new Or;if(c.Image){const L=new Image;L.onload=g(Jr,A,"TestLoadImage: loaded",!0,E,L),L.onerror=g(Jr,A,"TestLoadImage: error",!1,E,L),L.onabort=g(Jr,A,"TestLoadImage: abort",!1,E,L),L.ontimeout=g(Jr,A,"TestLoadImage: timeout",!1,E,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else E(!1)}function Kc(m,E){const A=new Or,L=new AbortController,ie=setTimeout(()=>{L.abort(),Jr(A,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:L.signal}).then(me=>{clearTimeout(ie),me.ok?Jr(A,"TestPingServer: ok",!0,E):Jr(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ie),Jr(A,"TestPingServer: error",!1,E)})}function Jr(m,E,A,L,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),L(A)}catch{}}function us(){this.g=new ul}function Bi(m){this.i=m.Sb||null,this.h=m.ab||!1}y(Bi,fl),Bi.prototype.g=function(){return new vl(this.i,this.h)};function vl(m,E){Nt.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(vl,Nt),n=vl.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,yi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;To(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function To(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?fs(this):yi(this),this.readyState==3&&To(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,fs(this))},n.Na=function(m){this.g&&(this.response=m,fs(this))},n.ga=function(){this.g&&fs(this)};function fs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,yi(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=E.next();return m.join(`\r
`)};function yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Zr(m){let E="";return Ye(m,function(A,L){E+=L,E+=":",E+=A,E+=`\r
`}),E}function xl(m,E,A){e:{for(L in A){var L=!1;break e}L=!0}L||(A=Zr(A),typeof m=="string"?A!=null&&pi(A):It(m,E,A))}function Ft(m){Nt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ft,Nt);var zi=/^https?$/i,Xc=["POST","PUT"];n=Ft.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,A,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(me){yl(this,me);return}if(m=A||"",A=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var ie in L)A.set(ie,L[ie]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const me of L.keys())A.set(me,L.get(me));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(A.keys()).find(me=>me.toLowerCase()=="content-type"),ie=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Xc,E,void 0)>=0)||L||ie||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,ke]of A)this.g.setRequestHeader(me,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(me){yl(this,me)}};function yl(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Yc(m),wa(m)}function Yc(m){m.A||(m.A=!0,zt(m,"complete"),zt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,zt(this,"complete"),zt(this,"abort"),wa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),Ft.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},n.Xa=function(){_l(this)};function _l(m){if(m.h&&typeof l<"u"){if(m.v&&_i(m)==4)setTimeout(m.Ca.bind(m),0);else if(zt(m,"readystatechange"),_i(m)==4){m.h=!1;try{const me=m.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var L;if(L=me===0){let ke=String(m.D).match(as)[1]||null;!ke&&c.self&&c.self.location&&(ke=c.self.location.protocol.slice(0,-1)),L=!zi.test(ke?ke.toLowerCase():"")}A=L}if(A)zt(m,"complete"),zt(m,"success");else{m.o=6;try{var ie=_i(m)>2?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.ca()+"]",Yc(m)}}finally{wa(m)}}}}function wa(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const A=m.g;m.g=null,E||zt(m,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _i(m){return m.g?m.g.readyState:0}n.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Vc(E)}};function Un(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Sa(m){const E={};m=(m.g&&_i(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(U(m[L]))continue;var A=D(m[L]);const ie=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const me=E[ie]||[];E[ie]=me,me.push(A)}nt(E,function(L){return L.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(m,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||E}function hs(m){this.za=0,this.i=[],this.j=new Or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,m),this.Za=Hi("retryDelaySeedMs",1e4,m),this.Ta=Hi("forwardChannelMaxRetries",2,m),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Rt(m&&m.concurrentRequestLimit),this.Ba=new us,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hs.prototype,n.ka=8,n.I=1,n.connect=function(m,E,A,L){rn(0),this.W=m,this.H=E||{},A&&L!==void 0&&(this.H.OSID=A,this.H.OAID=L),this.F=this.X,this.J=Qf(this,null,this.W),Gi(this)};function $c(m){if(wo(m),m.I==3){var E=m.V++,A=gn(m.J);if(It(A,"SID",m.M),It(A,"RID",E),It(A,"TYPE","terminate"),El(m,A),E=new z(m,m.j,E),E.M=2,E.A=pl(gn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=E.A,A=!0),A||(E.g=Jf(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ce(E)}$f(m)}function ds(m){m.g&&(Jc(m),m.g.cancel(),m.g=null)}function wo(m){ds(m),m.v&&(c.clearTimeout(m.v),m.v=null),Ao(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Gi(m){if(!Ct(m.h)&&!m.m){m.m=!0;var E=m.Ea;he||I(),ne||(he(),ne=!0),N.add(E,m),m.D=0}}function So(m,E){return Ht(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=$r(d(m.Ea,m,E),Yf(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ie=new z(this,this.j,m);let me=this.o;if(this.U&&(me?(me=Z(me),J(me,this.U)):me=this.U),this.u!==null||this.R||(ie.J=me,me=null),this.S)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var L=this.i[A];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,E>4096){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=qf(this,ie,E),A=gn(this.J),It(A,"RID",m),It(A,"CVER",22),this.G&&It(A,"X-HTTP-Session-Id",this.G),El(this,A),me&&(this.R?E="headers="+pi(Zr(me))+"&"+E:this.u&&xl(A,this.u,me)),gi(this.h,ie),this.Ra&&It(A,"TYPE","init"),this.S?(It(A,"$req",E),It(A,"SID","null"),ie.U=!0,W(ie,A,null)):W(ie,A,E),this.I=2}}else this.I==3&&(m?Qc(this,m):this.i.length==0||Ct(this.h)||Qc(this))};function Qc(m,E){var A;E?A=E.l:A=m.V++;const L=gn(m.J);It(L,"SID",m.M),It(L,"RID",A),It(L,"AID",m.K),El(m,L),m.u&&m.o&&xl(L,m.u,m.o),A=new z(m,m.j,A,m.D+1),m.u===null&&(A.J=m.o),E&&(m.i=E.G.concat(m.i)),E=qf(m,A,1e3),A.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),gi(m.h,A),W(A,L,E)}function El(m,E){m.H&&Ye(m.H,function(A,L){It(E,L,A)}),m.l&&Ye({},function(A,L){It(E,L,A)})}function qf(m,E,A){A=Math.min(m.i.length,A);const L=m.l?d(m.l.Ka,m.l,m):null;e:{var ie=m.i;let rt=-1;for(;;){const cn=["count="+A];rt==-1?A>0?(rt=ie[0].g,cn.push("ofs="+rt)):rt=0:cn.push("ofs="+rt);let Tt=!0;for(let Qt=0;Qt<A;Qt++){var me=ie[Qt].g;const ei=ie[Qt].map;if(me-=rt,me<0)rt=Math.max(0,ie[Qt].g-100),Tt=!1;else try{me="req"+me+"_"||"";try{var ke=ei instanceof Map?ei:Object.entries(ei);for(const[Wi,Ei]of ke){let Ti=Ei;f(Ei)&&(Ti=Zn(Ei)),cn.push(me+Wi+"="+encodeURIComponent(Ti))}}catch(Wi){throw cn.push(me+"type="+encodeURIComponent("_badmap")),Wi}}catch{L&&L(ei)}}if(Tt){ke=cn.join("&");break e}}ke=void 0}return m=m.i.splice(0,A),E.G=m,ke}function Wf(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;he||I(),ne||(he(),ne=!0),N.add(E,m),m.A=0}}function Tl(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=$r(d(m.Da,m),Yf(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Kf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=$r(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),ds(this),Kf(this))};function Jc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function Kf(m){m.g=new z(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=gn(m.na);It(E,"RID","rpc"),It(E,"SID",m.M),It(E,"AID",m.K),It(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&It(E,"TO",m.ia),It(E,"TYPE","xmlhttp"),El(m,E),m.u&&m.o&&xl(E,m.u,m.o),m.O&&(m.g.H=m.O);var A=m.g;m=m.ba,A.M=1,A.A=pl(gn(E)),A.u=null,A.R=!0,se(A,m)}n.Va=function(){this.C!=null&&(this.C=null,ds(this),Tl(this),rn(19))};function Ao(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Xf(m,E){var A=null;if(m.g==E){Ao(m),Jc(m),m.g=null;var L=2}else if(er(m.h,E))A=E.G,vi(m.h,E),L=1;else return;if(m.I!=0){if(E.o)if(L==1){A=E.u?E.u.length:0,E=Date.now()-E.F;var ie=m.D;L=va(),zt(L,new hr(L,A)),Gi(m)}else Wf(m);else if(ie=E.m,ie==3||ie==0&&E.X>0||!(L==1&&So(m,E)||L==2&&Tl(m)))switch(A&&A.length>0&&(E=m.h,E.i=E.i.concat(A)),ie){case 1:qi(m,5);break;case 4:qi(m,10);break;case 3:qi(m,6);break;default:qi(m,2)}}}function Yf(m,E){let A=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(A*=2),A*E}function qi(m,E){if(m.j.info("Error code "+E),E==2){var A=d(m.bb,m),L=m.Ua;const ie=!L;L=new Mr(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||On(L,"https"),pl(L),ie?xi(L.toString(),A):Kc(L.toString(),A)}else rn(2);m.I=0,m.l&&m.l.pa(E),$f(m),wo(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function $f(m){if(m.I=0,m.ja=[],m.l){const E=kr(m.h);(E.length!=0||m.i.length!=0)&&(R(m.ja,E),R(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function Qf(m,E,A){var L=A instanceof Mr?gn(A):new Mr(A);if(L.g!="")E&&(L.g=E+"."+L.g),ss(L,L.u);else{var ie=c.location;L=ie.protocol,E=E?E+"."+ie.hostname:ie.hostname,ie=+ie.port;const me=new Mr(null);L&&On(me,L),E&&(me.g=E),ie&&ss(me,ie),A&&(me.h=A),L=me}return A=m.G,E=m.wa,A&&E&&It(L,A,E),It(L,"VER",m.ka),El(m,L),L}function Jf(m,E,A){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new Ft(new Bi({ab:A})):new Ft(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zf(){}n=Zf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ms(){}ms.prototype.g=function(m,E){return new dr(m,E)};function dr(m,E){Nt.call(this),this.g=new hs(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!U(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!U(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Aa(this)}y(dr,Nt),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){$c(this.g)},dr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.v&&(A={},A.__data__=Zn(m),m=A);E.i.push(new He(E.Ya++,m)),E.I==3&&Gi(E)},dr.prototype.N=function(){this.g.l=null,delete this.j,$c(this.g),delete this.g,dr.Z.N.call(this)};function eh(m){pn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const A in E){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}y(eh,pn);function th(){fr.call(this),this.status=1}y(th,fr);function Aa(m){this.g=m}y(Aa,Zf),Aa.prototype.ra=function(){zt(this.g,"a")},Aa.prototype.qa=function(m){zt(this.g,new eh(m))},Aa.prototype.pa=function(m){zt(this.g,new th)},Aa.prototype.oa=function(){zt(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,sw=function(){return new ms},aw=function(){return va()},iw=en,Cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,S0=_a,Ea.COMPLETE="complete",rw=Ea,hl.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Uu=hl,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,nw=Ft}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});const E2="@firebase/firestore",T2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new u1("@firebase/firestore");function ac(){return Jl.logLevel}function Ve(n,...e){if(Jl.logLevel<=dt.DEBUG){const t=e.map(d1);Jl.debug(`Firestore (${Ic}): ${n}`,...t)}}function Ja(n,...e){if(Jl.logLevel<=dt.ERROR){const t=e.map(d1);Jl.error(`Firestore (${Ic}): ${n}`,...t)}}function yc(n,...e){if(Jl.logLevel<=dt.WARN){const t=e.map(d1);Jl.warn(`Firestore (${Ic}): ${n}`,...t)}}function d1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lw(n,r,t)}function lw(n,e,t){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ja(r),new Error(r)}function At(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||lw(e,a,r)}function Ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends da{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ir.UNAUTHENTICATED)))}shutdown(){}}class BC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let l=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ta,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ta)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new ow(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new ir(e)}}class HC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new HC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const r=l=>{l.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new w2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=WC(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function mt(n,e){return n<e?-1:n>e?1:0}function Ig(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return ig(a)===ig(l)?mt(a,l):ig(a)?1:-1}return mt(n.length,e.length)}const KC=55296,XC=57343;function ig(n){const e=n.charCodeAt(0);return e>=KC&&e<=XC}function _c(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__name__";class Zi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Qe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Qe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Zi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return mt(e.length,t.length)}static compareSegments(e,t){const r=Zi.isNumericId(e),a=Zi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Zi.extractNumericId(e).compare(Zi.extractNumericId(t)):Ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Wt extends Zi{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Wt(t)}static emptyPath(){return new Wt([])}}const YC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Zi{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return YC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S2}static keyField(){return new Kn([S2])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new je(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new je(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new je(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new je(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Wt.fromString(e))}static fromName(e){return new Xe(Wt.fromString(e).popFirst(5))}static empty(){return new Xe(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e,t){if(!t)throw new je(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $C(n,e,t,r){if(e===!0&&r===!0)throw new je(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function A2(n){if(!Xe.isDocumentKey(n))throw new je(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function b2(n){if(Xe.isDocumentKey(n))throw new je(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Qe(12329,{type:typeof n})}function oa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sd(n);throw new je(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Sf(n,e){if(!uw(n))throw new je(Te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new je(Te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=-62135596800,R2=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*R2);return new Yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N2)throw new je(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R2}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sf(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Sn("string",Yt._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Yt(0,0))}static max(){return new et(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;function QC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=et.fromTimestamp(r===1e9?new Yt(t+1,0):new Yt(t,r));return new Qs(a,Xe.empty(),e)}function JC(n){return new Qs(n.readTime,n.key,af)}class Qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qs(et.min(),Xe.empty(),af)}static max(){return new Qs(et.max(),Xe.empty(),af)}}function ZC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Xe.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==eI)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):we.reject(t)}static resolve(e){return new we(((t,r)=>{t(e)}))}static reject(e){return new we(((t,r)=>{r(e)}))}static waitFor(e){return new we(((t,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(h=>r(h)))})),c=!0,l===a&&t()}))}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next((a=>a?we.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new we(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const d=h;t(e[d]).next((g=>{c[d]=g,++f,f===l&&r(c)}),(g=>a(g)))}}))}static doWhile(e,t){return new we(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function nI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=-1;function bd(n){return n==null}function F0(n){return n===0&&1/n==-1/0}function rI(n){return typeof n=="number"&&Number.isInteger(n)&&!F0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="";function iI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C2(e)),e=aI(n.get(t),e);return C2(e)}function aI(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case fw:t+="";break;default:t+=l}}return t}function C2(n){return n+fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sI(n,e){const t=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.push(e(n[r],r,n));return t}function hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l0(this.root,e,this.comparator,!1)}getReverseIterator(){return new l0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l0(this.root,e,this.comparator,!0)}}class l0{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Wn.RED,this.left=a??Wn.EMPTY,this.right=l??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Wn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D2(this.data.getIterator())}getIteratorFrom(e){return new D2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class D2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Wr([])}unionWith(e){let t=new In(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dw("Invalid base64 string: "+l):l}})(e);return new Qn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Qn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=lI.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(n.seconds),nanos:hn(n.nanos)}}function hn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zs(n){return typeof n=="string"?Qn.fromBase64String(n):Qn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="server_timestamp",pw="__type__",gw="__previous_value__",vw="__local_write_time__";function g1(n){return(n?.mapValue?.fields||{})[pw]?.stringValue===mw}function Nd(n){const e=n.mapValue.fields[gw];return g1(e)?Nd(e):e}function sf(n){const e=Js(n.mapValue.fields[vw].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t,r,a,l,c,f,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const j0="(default)";class lf{constructor(e,t){this.projectId=e,this.database=t||j0}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===j0}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",cI="__max__",o0={mapValue:{}},yw="__vector__",U0="value";function el(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?g1(n)?4:fI(n)?9007199254740991:uI(n)?10:11:Qe(28295,{value:n})}function ca(n,e){if(n===e)return!0;const t=el(n);if(t!==el(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sf(n).isEqual(sf(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Js(a.timestampValue),f=Js(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Zs(a.bytesValue).isEqual(Zs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return hn(a.geoPointValue.latitude)===hn(l.geoPointValue.latitude)&&hn(a.geoPointValue.longitude)===hn(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return hn(a.integerValue)===hn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=hn(a.doubleValue),f=hn(l.doubleValue);return c===f?F0(c)===F0(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],ca);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(I2(c)!==I2(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!ca(c[h],f[h])))return!1;return!0})(n,e);default:return Qe(52216,{left:n})}}function of(n,e){return(n.values||[]).find((t=>ca(t,e)))!==void 0}function Ec(n,e){if(n===e)return 0;const t=el(n),r=el(e);if(t!==r)return mt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=hn(l.integerValue||l.doubleValue),h=hn(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return O2(n.timestampValue,e.timestampValue);case 4:return O2(sf(n),sf(e));case 5:return Ig(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Zs(l),h=Zs(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),h=c.split("/");for(let d=0;d<f.length&&d<h.length;d++){const g=mt(f[d],h[d]);if(g!==0)return g}return mt(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=mt(hn(l.latitude),hn(c.latitude));return f!==0?f:mt(hn(l.longitude),hn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return k2(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},h=c.fields||{},d=f[U0]?.arrayValue,g=h[U0]?.arrayValue,y=mt(d?.values?.length||0,g?.values?.length||0);return y!==0?y:k2(d,g)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===o0.mapValue&&c===o0.mapValue)return 0;if(l===o0.mapValue)return 1;if(c===o0.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),d=c.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=Ig(h[y],g[y]);if(_!==0)return _;const w=Ec(f[h[y]],d[g[y]]);if(w!==0)return w}return mt(h.length,g.length)})(n.mapValue,e.mapValue);default:throw Qe(23264,{he:t})}}function O2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=Js(n),r=Js(e),a=mt(t.seconds,r.seconds);return a!==0?a:mt(t.nanos,r.nanos)}function k2(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ec(t[a],r[a]);if(l)return l}return mt(t.length,r.length)}function Tc(n){return Dg(n)}function Dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Js(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Dg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Dg(t.fields[c])}`;return a+"}"})(n.mapValue):Qe(61005,{value:n})}function A0(n){switch(el(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(n);return e?16+A0(e):16;case 5:return 2*n.stringValue.length;case 6:return Zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+A0(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ll(r.fields,((l,c)=>{a+=l.length+A0(c)})),a})(n.mapValue);default:throw Qe(13486,{value:n})}}function M2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Og(n){return!!n&&"integerValue"in n}function v1(n){return!!n&&"arrayValue"in n}function P2(n){return!!n&&"nullValue"in n}function L2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function b0(n){return!!n&&"mapValue"in n}function uI(n){return(n?.mapValue?.fields||{})[xw]?.stringValue===yw}function qu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ll(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=qu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qu(n.arrayValue.values[t]);return e}return{...n}}function fI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!b0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)}setAll(e){let t=Kn.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=qu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());b0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];b0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ll(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Nr(qu(this.value))}}function _w(n){const e=[];return ll(n.fields,((t,r)=>{const a=new Kn([t]);if(b0(r)){const l=_w(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new ar(e,0,et.min(),et.min(),et.min(),Nr.empty(),0)}static newFoundDocument(e,t,r,a){return new ar(e,1,t,et.min(),r,a,0)}static newNoDocument(e,t){return new ar(e,2,t,et.min(),et.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,et.min(),et.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t){this.position=e,this.inclusive=t}}function F2(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Xe.comparator(Xe.fromName(c.referenceValue),t.key):r=Ec(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function j2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ca(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t="asc"){this.field=e,this.dir=t}}function hI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{}class wn extends Ew{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mI(e,t,r):t==="array-contains"?new vI(e,r):t==="in"?new xI(e,r):t==="not-in"?new yI(e,r):t==="array-contains-any"?new _I(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pI(e,r):new gI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ec(t,this.value)):t!==null&&el(this.value)===el(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends Ew{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fi(e,t)}matches(e){return Tw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tw(n){return n.op==="and"}function ww(n){return dI(n)&&Tw(n)}function dI(n){for(const e of n.filters)if(e instanceof Fi)return!1;return!0}function kg(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+Tc(n.value);if(ww(n))return n.filters.map((e=>kg(e))).join(",");{const e=n.filters.map((t=>kg(t))).join(",");return`${n.op}(${e})`}}function Sw(n,e){return n instanceof wn?(function(r,a){return a instanceof wn&&r.op===a.op&&r.field.isEqual(a.field)&&ca(r.value,a.value)})(n,e):n instanceof Fi?(function(r,a){return a instanceof Fi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&Sw(c,a.filters[f])),!0):!1})(n,e):void Qe(19439)}function Aw(n){return n instanceof wn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Tc(t.value)}`})(n):n instanceof Fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(Aw).join(" ,")+"}"})(n):"Filter"}class mI extends wn{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class pI extends wn{constructor(e,t){super(e,"in",t),this.keys=bw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gI extends wn{constructor(e,t){super(e,"not-in",t),this.keys=bw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bw(n,e){return(e.arrayValue?.values||[]).map((t=>Xe.fromName(t.referenceValue)))}class vI extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return v1(t)&&of(t.arrayValue,this.value)}}class xI extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&of(this.value.arrayValue,t)}}class yI extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!of(this.value.arrayValue,t)}}class _I extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!v1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>of(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function U2(n,e=null,t=[],r=[],a=null,l=null,c=null){return new EI(n,e,t,r,a,l,c)}function x1(n){const e=Ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>kg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Tc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Tc(r))).join(",")),e.Te=t}return e.Te}function y1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!j2(n.startAt,e.startAt)&&j2(n.endAt,e.endAt)}function Mg(n){return Xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TI(n,e,t,r,a,l,c,f){return new Af(n,e,t,r,a,l,c,f)}function _1(n){return new Af(n)}function V2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Nw(n){return n.collectionGroup!==null}function Wu(n){const e=Ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new In(Kn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new B0(l,r))})),t.has(Kn.keyField().canonicalString())||e.Ie.push(new B0(Kn.keyField(),r))}return e.Ie}function na(n){const e=Ze(n);return e.Ee||(e.Ee=Rw(e,Wu(n))),e.Ee}function wI(n){const e=Ze(n);return e.de||(e.de=Rw(e,n.explicitOrderBy)),e.de}function Rw(n,e){if(n.limitType==="F")return U2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new B0(a.field,l)}));const t=n.endAt?new V0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new V0(n.startAt.position,n.startAt.inclusive):null;return U2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pg(n,e){const t=n.filters.concat([e]);return new Af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function z0(n,e,t){return new Af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rd(n,e){return y1(na(n),na(e))&&n.limitType===e.limitType}function Cw(n){return`${x1(na(n))}|lt:${n.limitType}`}function sc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Aw(a))).join(", ")}]`),bd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Tc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Tc(a))).join(",")),`Target(${r})`})(na(n))}; limitType=${n.limitType})`}function Cd(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Xe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Wu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const d=F2(c,f,h);return c.inclusive?d<=0:d<0})(r.startAt,Wu(r),a)||r.endAt&&!(function(c,f,h){const d=F2(c,f,h);return c.inclusive?d>=0:d>0})(r.endAt,Wu(r),a))})(n,e)}function SI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Iw(n){return(e,t)=>{let r=!1;for(const a of Wu(n)){const l=AI(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function AI(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):(function(l,c,f){const h=c.data.field(l),d=f.data.field(l);return h!==null&&d!==null?Ec(h,d):Qe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new tn(Xe.comparator);function Za(){return bI}const Dw=new tn(Xe.comparator);function Vu(...n){let e=Dw;for(const t of n)e=e.insert(t.key,t);return e}function Ow(n){let e=Dw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function zl(){return Ku()}function kw(){return Ku()}function Ku(){return new so((n=>n.toString()),((n,e)=>n.isEqual(e)))}const NI=new tn(Xe.comparator),RI=new In(Xe.comparator);function pt(...n){let e=RI;for(const t of n)e=e.add(t);return e}const CI=new In(mt);function II(){return CI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F0(e)?"-0":e}}function Mw(n){return{integerValue:""+n}}function DI(n,e){return rI(e)?Mw(e):E1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this._=void 0}}function OI(n,e,t){return n instanceof H0?(function(a,l){const c={fields:{[pw]:{stringValue:mw},[vw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&g1(l)&&(l=Nd(l)),l&&(c.fields[gw]=l),{mapValue:c}})(t,e):n instanceof cf?Lw(n,e):n instanceof uf?Fw(n,e):(function(a,l){const c=Pw(a,l),f=B2(c)+B2(a.Ae);return Og(c)&&Og(a.Ae)?Mw(f):E1(a.serializer,f)})(n,e)}function kI(n,e,t){return n instanceof cf?Lw(n,e):n instanceof uf?Fw(n,e):t}function Pw(n,e){return n instanceof G0?(function(r){return Og(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class H0 extends Id{}class cf extends Id{constructor(e){super(),this.elements=e}}function Lw(n,e){const t=jw(e);for(const r of n.elements)t.some((a=>ca(a,r)))||t.push(r);return{arrayValue:{values:t}}}class uf extends Id{constructor(e){super(),this.elements=e}}function Fw(n,e){let t=jw(e);for(const r of n.elements)t=t.filter((a=>!ca(a,r)));return{arrayValue:{values:t}}}class G0 extends Id{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function B2(n){return hn(n.integerValue||n.doubleValue)}function jw(n){return v1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MI(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof cf&&a instanceof cf||r instanceof uf&&a instanceof uf?_c(r.elements,a.elements,ca):r instanceof G0&&a instanceof G0?ca(r.Ae,a.Ae):r instanceof H0&&a instanceof H0})(n.transform,e.transform)}class PI{constructor(e,t){this.version=e,this.transformResults=t}}class ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ra}static exists(e){return new ra(void 0,e)}static updateTime(e){return new ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function N0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dd{}function Uw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bw(n.key,ra.none()):new bf(n.key,n.data,ra.none());{const t=n.data,r=Nr.empty();let a=new In(Kn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ol(n.key,r,new Wr(a.toArray()),ra.none())}}function LI(n,e,t){n instanceof bf?(function(a,l,c){const f=a.value.clone(),h=H2(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof ol?(function(a,l,c){if(!N0(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=H2(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(Vw(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Xu(n,e,t,r){return n instanceof bf?(function(l,c,f,h){if(!N0(l.precondition,c))return f;const d=l.value.clone(),g=G2(l.fieldTransforms,h,c);return d.setAll(g),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof ol?(function(l,c,f,h){if(!N0(l.precondition,c))return f;const d=G2(l.fieldTransforms,h,c),g=c.data;return g.setAll(Vw(l)),g.setAll(d),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(l,c,f){return N0(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function FI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Pw(r.transform,a||null);l!=null&&(t===null&&(t=Nr.empty()),t.set(r.field,l))}return t||null}function z2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&_c(r,a,((l,c)=>MI(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bf extends Dd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ol extends Dd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function H2(n,e,t){const r=new Map;At(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,kI(c,f,t[a]))}return r}function G2(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,OI(l,c,e))}return r}class Bw extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jI extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&LI(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kw();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const h=Uw(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(et.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pt())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,((t,r)=>z2(t,r)))&&_c(this.baseMutations,e.baseMutations,((t,r)=>z2(t,r)))}}class T1{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return NI})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new T1(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,xt;function HI(n){switch(n){case Te.OK:return Qe(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Qe(15467,{code:n})}}function zw(n){if(n===void 0)return Ja("GRPC error has no .code"),Te.UNKNOWN;switch(n){case Tn.OK:return Te.OK;case Tn.CANCELLED:return Te.CANCELLED;case Tn.UNKNOWN:return Te.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return Te.INTERNAL;case Tn.UNAVAILABLE:return Te.UNAVAILABLE;case Tn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Tn.NOT_FOUND:return Te.NOT_FOUND;case Tn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Tn.ABORTED:return Te.ABORTED;case Tn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Tn.DATA_LOSS:return Te.DATA_LOSS;default:return Qe(39323,{code:n})}}(xt=Tn||(Tn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Xs([4294967295,4294967295],0);function q2(n){const e=GI().encode(n),t=new tw;return t.update(e),new Uint8Array(t.digest())}function W2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xs([t,r],0),new Xs([a,l],0)]}class w1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bu(`Invalid padding: ${t}`);if(r<0)throw new Bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Xs.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Xs.fromNumber(r)));return a.compare(qI)===1&&(a=new Xs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=q2(e),[r,a]=W2(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new w1(l,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=q2(e),[r,a]=W2(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Od(et.min(),a,new tn(mt),Za(),pt())}}class Nf{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nf(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Hw{constructor(e,t){this.targetId=e,this.Ce=t}}class Gw{constructor(e,t,r=Qn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class K2{constructor(){this.ve=0,this.Fe=X2(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),t=pt(),r=pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Qe(38017,{changeType:l})}})),new Nf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=X2()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Za(),this.Je=c0(),this.He=c0(),this.Ye=new tn(mt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Mg(l))if(r===0){const c=new Xe(l.path);this.et(t,c,ar.newNoDocument(c,et.min()))}else At(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Zs(r).toUint8Array()}catch(h){if(h instanceof dw)return yc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new w1(c,a,l)}catch(h){return yc(h instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Mg(f.target)){const h=new Xe(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,ar.newNoDocument(h,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=pt();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Od(e,t,this.Ye,this.je,r);return this.je=Za(),this.Je=c0(),this.He=c0(),this.Ye=new tn(mt),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new K2,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new In(mt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new In(mt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K2),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function c0(){return new tn(Xe.comparator)}function X2(){return new tn(Xe.comparator)}const KI={asc:"ASCENDING",desc:"DESCENDING"},XI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YI={and:"AND",or:"OR"};class $I{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lg(n,e){return n.useProto3Json||bd(e)?e:{value:e}}function q0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QI(n,e){return q0(n,e.toTimestamp())}function ia(n){return At(!!n,49232),et.fromTimestamp((function(t){const r=Js(t);return new Yt(r.seconds,r.nanos)})(n))}function S1(n,e){return Fg(n,e).canonicalString()}function Fg(n,e){const t=(function(a){return new Wt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Ww(n){const e=Wt.fromString(n);return At(Jw(e),10190,{key:e.toString()}),e}function jg(n,e){return S1(n.databaseId,e.path)}function ag(n,e){const t=Ww(e);if(t.get(1)!==n.databaseId.projectId)throw new je(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(Xw(t))}function Kw(n,e){return S1(n.databaseId,e)}function JI(n){const e=Ww(n);return e.length===4?Wt.emptyPath():Xw(e)}function Ug(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xw(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Y2(n,e,t){return{name:jg(n,e),fields:t.value.mapValue.fields}}function ZI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Qe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(d,g){return d.useProto3Json?(At(g===void 0||typeof g=="string",58123),Qn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Qn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(d){const g=d.code===void 0?Te.UNKNOWN:zw(d.code);return new je(g,d.message||"")})(c);t=new Gw(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ag(n,r.document.name),l=ia(r.document.updateTime),c=r.document.createTime?ia(r.document.createTime):et.min(),f=new Nr({mapValue:{fields:r.document.fields}}),h=ar.newFoundDocument(a,l,c,f),d=r.targetIds||[],g=r.removedTargetIds||[];t=new R0(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ag(n,r.document),l=r.readTime?ia(r.readTime):et.min(),c=ar.newNoDocument(a,l),f=r.removedTargetIds||[];t=new R0([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ag(n,r.document),l=r.removedTargetIds||[];t=new R0([],l,a,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new zI(a,l),f=r.targetId;t=new Hw(f,c)}}return t}function e6(n,e){let t;if(e instanceof bf)t={update:Y2(n,e.key,e.value)};else if(e instanceof Bw)t={delete:jg(n,e.key)};else if(e instanceof ol)t={update:Y2(n,e.key,e.data),updateMask:c6(e.fieldMask)};else{if(!(e instanceof jI))return Qe(16599,{Vt:e.type});t={verify:jg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof H0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof uf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof G0)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Qe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:QI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Qe(27497)})(n,e.precondition)),t}function t6(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?ia(a.updateTime):ia(l);return c.isEqual(et.min())&&(c=ia(l)),new PI(c,a.transformResults||[])})(t,e)))):[]}function n6(n,e){return{documents:[Kw(n,e.path)]}}function Yw(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Kw(n,a);const l=(function(d){if(d.length!==0)return Qw(Fi.create(d,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(d){if(d.length!==0)return d.map((g=>(function(_){return{field:Us(_.field),direction:s6(_.dir)}})(g)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Lg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:a}}function r6(n,e,t,r){const{ft:a,parent:l}=Yw(n,e),c={},f=[];let h=0;return t.forEach((d=>{const g="aggregate_"+h++;c[g]=d.alias,d.aggregateType==="count"?f.push({alias:g,count:{}}):d.aggregateType==="avg"?f.push({alias:g,avg:{field:Us(d.fieldPath)}}):d.aggregateType==="sum"&&f.push({alias:g,sum:{field:Us(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:f,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function i6(n){let e=JI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){At(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];t.where&&(l=(function(y){const _=$w(y);return _ instanceof Fi&&ww(_)?_.getFilters():[_]})(t.where));let c=[];t.orderBy&&(c=(function(y){return y.map((_=>(function(R){return new B0(lc(R.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(_)))})(t.orderBy));let f=null;t.limit&&(f=(function(y){let _;return _=typeof y=="object"?y.value:y,bd(_)?null:_})(t.limit));let h=null;t.startAt&&(h=(function(y){const _=!!y.before,w=y.values||[];return new V0(w,_)})(t.startAt));let d=null;return t.endAt&&(d=(function(y){const _=!y.before,w=y.values||[];return new V0(w,_)})(t.endAt)),TI(e,a,c,l,f,"F",h,d)}function a6(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $w(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=lc(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=lc(t.unaryFilter.field);return wn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=lc(t.unaryFilter.field);return wn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lc(t.unaryFilter.field);return wn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return wn.create(lc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fi.create(t.compositeFilter.filters.map((r=>$w(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(t.compositeFilter.op))})(n):Qe(30097,{filter:n})}function s6(n){return KI[n]}function l6(n){return XI[n]}function o6(n){return YI[n]}function Us(n){return{fieldPath:n.canonicalString()}}function lc(n){return Kn.fromServerFormat(n.fieldPath)}function Qw(n){return n instanceof wn?(function(t){if(t.op==="=="){if(L2(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NAN"}};if(P2(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L2(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NAN"}};if(P2(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(t.field),op:l6(t.op),value:t.value}}})(n):n instanceof Fi?(function(t){const r=t.getFilters().map((a=>Qw(a)));return r.length===1?r[0]:{compositeFilter:{op:o6(t.op),filters:r}}})(n):Qe(54877,{filter:n})}function c6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Jw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t,r,a,l=et.min(),c=et.min(),f=Qn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.yt=e}}function f6(n){const e=i6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?z0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.Cn=new d6}addToCollectionParentIndex(e,t){return this.Cn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(Qs.min())}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class d6{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new In(Wt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new In(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zw=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(Zw,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wc(0)}static cr(){return new wc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="LruGarbageCollector",m6=1048576;function J2([n,e],[t,r]){const a=mt(n,t);return a===0?mt(e,r):a}class p6{constructor(e){this.Ir=e,this.buffer=new In(J2),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();J2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(Q2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oc(t)?Ve(Q2,"Ignoring IndexedDB error during garbage collection: ",t):await Dc(t)}await this.Vr(3e5)}))}}class v6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return we.resolve(Ad.ce);const r=new p6(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve($2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$2):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,f,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,c=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,f=Date.now(),this.removeTargets(e,r,t)))).next((y=>(l=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(d=Date.now(),ac()<=dt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:y}))))}}function x6(n,e){return new v6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.changes=new so((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Xu(r.mutation,a,Wr.empty(),Yt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=pt()){const a=zl();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Vu();return l.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=zl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,pt())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let l=Za();const c=Ku(),f=(function(){return Ku()})();return t.forEach(((h,d)=>{const g=r.get(d.key);a.has(d.key)&&(g===void 0||g.mutation instanceof ol)?l=l.insert(d.key,d):g!==void 0?(c.set(d.key,g.mutation.getFieldMask()),Xu(g.mutation,d,g.mutation.getFieldMask(),Yt.now())):c.set(d.key,Wr.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((d,g)=>c.set(d,g))),t.forEach(((d,g)=>f.set(d,new _6(g,c.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Ku();let a=new tn(((c,f)=>c-f)),l=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let g=r.get(h)||Wr.empty();g=f.applyToLocalView(d,g),r.set(h,g);const y=(a.get(f.batchId)||pt()).add(h);a=a.insert(f.batchId,y)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,g=h.value,y=kw();g.forEach((_=>{if(!l.has(_)){const w=Uw(t.get(_),r.get(_));w!==null&&y.set(_,w),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,y))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Xe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):we.resolve(zl());let f=af,h=l;return c.next((d=>we.forEach(d,((g,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),l.get(g)?we.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,h,d,pt()))).next((g=>({batchId:f,changes:Ow(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next((r=>{let a=Vu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(e,l).next((f=>we.forEach(f,(h=>{const d=(function(y,_){return new Af(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((g=>{g.forEach(((y,_)=>{c=c.insert(y,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((h,d)=>{const g=d.getKey();c.get(g)===null&&(c=c.insert(g,ar.newInvalidDocument(g)))}));let f=Vu();return c.forEach(((h,d)=>{const g=l.get(h);g!==void 0&&Xu(g.mutation,d,Wr.empty(),Yt.now()),Cd(t,d)&&(f=f.insert(h,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return we.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:ia(a.createTime)}})(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:f6(a.bundledQuery),readTime:ia(a.readTime)}})(t)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.overlays=new tn(Xe.comparator),this.qr=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zl();return we.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),we.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const a=zl(),l=t.length+1,c=new Xe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return we.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new tn(((d,g)=>d-g));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=l.get(d.largestBatchId);g===null&&(g=zl(),l=l.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const f=zl(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,g)=>f.set(d,g))),!(f.size()>=a)););return we.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new VI(t,r));let l=this.qr.get(t);l===void 0&&(l=pt(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.Qr=new In(Mn.$r),this.Ur=new In(Mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Mn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Mn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Xe(new Wt([])),r=new Mn(t,e),a=new Mn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Xe(new Wt([])),r=new Mn(t,e),a=new Mn(t,e+1);let l=pt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Mn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Xe.comparator(e.key,t.key)||mt(e.Yr,t.Yr)}static Kr(e,t){return mt(e.Yr,t.Yr)||Xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new In(Mn.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UI(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Mn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,t){return we.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return we.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?p1:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mn(t,0),a=new Mn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),we.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(mt);return t.forEach((a=>{const l=new Mn(a,0),c=new Mn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),we.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Xe.isDocumentKey(l)||(l=l.child(""));const c=new Mn(new Xe(l),0);let f=new In(mt);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(f=f.add(h.Yr)),!0)}),c),we.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){At(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return we.forEach(t.mutations,(a=>{const l=new Mn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Mn(t,0),a=this.Zr.firstAfterOrEqual(r);return we.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.ri=e,this.docs=(function(){return new tn(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=Za();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ar.newInvalidDocument(a))})),we.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Za();const c=t.path,f=new Xe(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||ZC(JC(g),r)<=0||(a.has(g.key)||Cd(t,g))&&(l=l.insert(g.key,g.mutableCopy()))}return we.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Qe(9500)}ii(e,t){return we.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new N6(this)}getSize(e){return we.resolve(this.size)}}class N6 extends y6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),we.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.persistence=e,this.si=new so((t=>x1(t)),y1),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new A1,this.targetCount=0,this.ai=wc.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),we.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new wc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Pr(t),we.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),we.waitFor(l).next((()=>a))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),we.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),we.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ad(0),this.li=!1,this.li=!0,this.hi=new S6,this.referenceDelegate=e(this),this.Pi=new R6(this),this.indexManager=new h6,this.remoteDocumentCache=(function(a){return new b6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new u6(t),this.Ii=new T6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new A6(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const a=new C6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return we.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class C6 extends tI{constructor(e){super(),this.currentSequenceNumber=e}}class b1{constructor(e){this.persistence=e,this.Ri=new A1,this.Vi=null}static mi(e){return new b1(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(r=>{const a=Xe.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,et.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return we.or([()=>we.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class W0{constructor(e,t){this.persistence=e,this.pi=new so((r=>iI(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=x6(this,t)}static mi(e,t){return new W0(e,t)}Ei(){}di(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return we.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?we.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,l.removeEntry(c,et.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),we.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=A0(e.data.value)),t}br(e,t,r){return we.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return we.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=pt(),a=pt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new N1(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _R()?8:nI(or())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new I6;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(ac()<=dt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",sc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(ac()<=dt.DEBUG&&Ve("QueryEngine","Query:",sc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(ac()<=dt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",sc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,na(t))):we.resolve())}ys(e,t){if(V2(t))return we.resolve(null);let r=na(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=z0(t,null,"F"),r=na(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=pt(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(t,f);return this.Cs(t,d,c,h.readTime)?this.ys(e,z0(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,r,a){return V2(t)||a.isEqual(et.min())?we.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?we.resolve(null):(ac()<=dt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sc(t)),this.vs(e,c,t,QC(a,af)).next((f=>f)))}))}Ds(e,t){let r=new In(Iw(e));return t.forEach(((a,l)=>{Cd(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return ac()<=dt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",sc(t)),this.ps.getDocumentsMatchingQuery(e,t,Qs.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="LocalStore",O6=3e8;class k6{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new tn(mt),this.xs=new so((l=>x1(l)),y1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function M6(n,e,t,r){return new k6(n,e,t,r)}async function tS(n,e){const t=Ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let h=pt();for(const d of a){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of l){f.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:f})))}))}))}function P6(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,d,g){const y=d.batch,_=y.keys();let w=we.resolve();return _.forEach((R=>{w=w.next((()=>g.getEntry(h,R))).next((T=>{const b=d.docVersions.get(R);At(b!==null,48541),T.version.compareTo(b)<0&&(y.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),g.addEntry(T)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(h,y)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=pt();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function nS(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function L6(n,e){const t=Ze(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((g,y)=>{const _=a.get(y);if(!_)return;f.push(t.Pi.removeMatchingKeys(l,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(l,g.addedDocuments,y))));let w=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(Qn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),a=a.insert(y,w),(function(T,b,H){return T.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=O6?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(_,w,g)&&f.push(t.Pi.updateTargetData(l,w))}));let h=Za(),d=pt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(F6(l,c,e.documentUpdates).next((g=>{h=g.ks,d=g.qs}))),!r.isEqual(et.min())){const g=t.Pi.getLastRemoteSnapshotVersion(l).next((y=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(g)}return we.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,h,d))).next((()=>h))})).then((l=>(t.Ms=a,l)))}function F6(n,e,t){let r=pt(),a=pt();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=Za();return t.forEach(((f,h)=>{const d=l.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(et.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):Ve(R1,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function j6(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=p1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function U6(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,we.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new Hs(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Vg(n,e,t){const r=Ze(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Oc(c))throw c;Ve(R1,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Z2(n,e,t){const r=Ze(n);let a=et.min(),l=pt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,d,g){const y=Ze(h),_=y.xs.get(g);return _!==void 0?we.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,g)})(r,c,na(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:et.min(),t?l:pt()))).next((f=>(V6(r,SI(e),f),{documents:f,Qs:l})))))}function V6(n,e,t){let r=n.Os.get(e)||et.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class eE{constructor(){this.activeTargetIds=II()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B6{constructor(){this.Mo=new eE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(tE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0=null;function Bg(){return u0===null?u0=(function(){return 268435456+Math.round(2147483648*Math.random())})():u0++,"0x"+u0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RestConnection",H6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===j0?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=Bg(),f=this.zo(e,t.toUriEncodedString());Ve(sg,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:d}=new URL(f),g=io(d);return this.Jo(e,f,h,r,g).then((y=>(Ve(sg,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw yc(sg,`RPC '${e}' ${c} failed with error: `,y,"url: ",f,"request:",r),y}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=H6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection";class W6 extends G6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=Bg();return new Promise(((f,h)=>{const d=new nw;d.setWithCredentials(!0),d.listenOnce(rw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case S0.NO_ERROR:const y=d.getResponseJson();Ve(rr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),f(y);break;case S0.TIMEOUT:Ve(rr,`RPC '${e}' ${c} timed out`),h(new je(Te.DEADLINE_EXCEEDED,"Request time out"));break;case S0.HTTP_ERROR:const _=d.getStatus();if(Ve(rr,`RPC '${e}' ${c} failed with status:`,_,"response text:",d.getResponseText()),_>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w?.error;if(R&&R.status&&R.message){const T=(function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(q)>=0?q:Te.UNKNOWN})(R.status);h(new je(T,R.message))}else h(new je(Te.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new je(Te.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ve(rr,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(a);Ve(rr,`RPC '${e}' ${c} sending request:`,a),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=Bg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sw(),f=aw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=l.join("");Ve(rr,`Creating RPC '${e}' stream ${a}: ${g}`,h);const y=c.createWebChannel(g,h);this.I_(y);let _=!1,w=!1;const R=new q6({Yo:b=>{w?Ve(rr,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(_||(Ve(rr,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),Ve(rr,`RPC '${e}' stream ${a} sending:`,b),y.send(b))},Zo:()=>y.close()}),T=(b,H,q)=>{b.listen(H,(B=>{try{q(B)}catch(X){setTimeout((()=>{throw X}),0)}}))};return T(y,Uu.EventType.OPEN,(()=>{w||(Ve(rr,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),T(y,Uu.EventType.CLOSE,(()=>{w||(w=!0,Ve(rr,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(y))})),T(y,Uu.EventType.ERROR,(b=>{w||(w=!0,yc(rr,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),R.a_(new je(Te.UNAVAILABLE,"The operation could not be completed")))})),T(y,Uu.EventType.MESSAGE,(b=>{if(!w){const H=b.data[0];At(!!H,16349);const q=H,B=q?.error||q[0]?.error;if(B){Ve(rr,`RPC '${e}' stream ${a} received error:`,B);const X=B.status;let he=(function(I){const C=Tn[I];if(C!==void 0)return zw(C)})(X),ne=B.message;he===void 0&&(he=Te.INTERNAL,ne="Unknown error status: "+X+" with message "+B.message),w=!0,R.a_(new je(he,ne)),y.close()}else Ve(rr,`RPC '${e}' stream ${a} received:`,H),R.u_(H)}})),T(f,iw.STAT_EVENT,(b=>{b.stat===Cg.PROXY?Ve(rr,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===Cg.NOPROXY&&Ve(rr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){return new $I(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class iS{constructor(e,t,r,a,l,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Ja(t.toString()),Ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new je(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ve(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K6 extends iS{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZI(this.serializer,e),r=(function(l){if(!("targetChange"in l))return et.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?et.min():c.readTime?ia(c.readTime):et.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ug(this.serializer),t.addTarget=(function(l,c){let f;const h=c.target;if(f=Mg(h)?{documents:n6(l,h)}:{query:Yw(l,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=qw(l,c.resumeToken);const d=Lg(l,c.expectedCount);d!==null&&(f.expectedCount=d)}else if(c.snapshotVersion.compareTo(et.min())>0){f.readTime=q0(l,c.snapshotVersion.toTimestamp());const d=Lg(l,c.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const r=a6(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ug(this.serializer),t.removeTarget=e,this.q_(t)}}class X6 extends iS{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=t6(e.writeResults,e.commitTime),r=ia(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ug(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>e6(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{}class $6 extends Y6{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new je(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Fg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(Te.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Fg(t,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new je(Te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ja(t),this.aa=!1):Ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class J6{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{lo(this)&&(Ve(Zl,"Restarting streams for network reachability change."),await(async function(h){const d=Ze(h);d.Ea.add(4),await Rf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Md(d)})(this))}))})),this.Ra=new Q6(r,a)}}async function Md(n){if(lo(n))for(const e of n.da)await e(!0)}async function Rf(n){for(const e of n.da)await e(!1)}function aS(n,e){const t=Ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),O1(t)?D1(t):kc(t).O_()&&I1(t,e))}function C1(n,e){const t=Ze(n),r=kc(t);t.Ia.delete(e),r.O_()&&sS(t,e),t.Ia.size===0&&(r.O_()?r.L_():lo(t)&&t.Ra.set("Unknown"))}function I1(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kc(n).Y_(e)}function sS(n,e){n.Va.Ue(e),kc(n).Z_(e)}function D1(n){n.Va=new WI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),kc(n).start(),n.Ra.ua()}function O1(n){return lo(n)&&!kc(n).x_()&&n.Ia.size>0}function lo(n){return Ze(n).Ea.size===0}function lS(n){n.Va=void 0}async function Z6(n){n.Ra.set("Online")}async function eD(n){n.Ia.forEach(((e,t)=>{I1(n,e)}))}async function tD(n,e){lS(n),O1(n)?(n.Ra.ha(e),D1(n)):n.Ra.set("Unknown")}async function nD(n,e,t){if(n.Ra.set("Online"),e instanceof Gw&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){Ve(Zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await K0(n,r)}else if(e instanceof R0?n.Va.Ze(e):e instanceof Hw?n.Va.st(e):n.Va.tt(e),!t.isEqual(et.min()))try{const r=await nS(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=l.Ia.get(d);g&&l.Ia.set(d,g.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,d)=>{const g=l.Ia.get(h);if(!g)return;l.Ia.set(h,g.withResumeToken(Qn.EMPTY_BYTE_STRING,g.snapshotVersion)),sS(l,h);const y=new Hs(g.target,h,d,g.sequenceNumber);I1(l,y)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){Ve(Zl,"Failed to raise snapshot:",r),await K0(n,r)}}async function K0(n,e,t){if(!Oc(e))throw e;n.Ea.add(1),await Rf(n),n.Ra.set("Offline"),t||(t=()=>nS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ve(Zl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Md(n)}))}function oS(n,e){return e().catch((t=>K0(n,t,e)))}async function Pd(n){const e=Ze(n),t=tl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p1;for(;rD(e);)try{const a=await j6(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,iD(e,a)}catch(a){await K0(e,a)}cS(e)&&uS(e)}function rD(n){return lo(n)&&n.Ta.length<10}function iD(n,e){n.Ta.push(e);const t=tl(n);t.O_()&&t.X_&&t.ea(e.mutations)}function cS(n){return lo(n)&&!tl(n).x_()&&n.Ta.length>0}function uS(n){tl(n).start()}async function aD(n){tl(n).ra()}async function sD(n){const e=tl(n);for(const t of n.Ta)e.ea(t.mutations)}async function lD(n,e,t){const r=n.Ta.shift(),a=T1.from(r,e,t);await oS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Pd(n)}async function oD(n,e){e&&tl(n).X_&&await(async function(r,a){if((function(c){return HI(c)&&c!==Te.ABORTED})(a.code)){const l=r.Ta.shift();tl(r).B_(),await oS(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Pd(r)}})(n,e),cS(n)&&uS(n)}async function iE(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Ve(Zl,"RemoteStore received new credentials");const r=lo(t);t.Ea.add(3),await Rf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Md(t)}async function cD(n,e){const t=Ze(n);e?(t.Ea.delete(2),await Md(t)):e||(t.Ea.add(2),await Rf(t),t.Ra.set("Unknown"))}function kc(n){return n.ma||(n.ma=(function(t,r,a){const l=Ze(t);return l.sa(),new K6(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:Z6.bind(null,n),t_:eD.bind(null,n),r_:tD.bind(null,n),H_:nD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),O1(n)?D1(n):n.Ra.set("Unknown")):(await n.ma.stop(),lS(n))}))),n.ma}function tl(n){return n.fa||(n.fa=(function(t,r,a){const l=Ze(t);return l.sa(),new X6(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:aD.bind(null,n),r_:oD.bind(null,n),ta:sD.bind(null,n),na:lD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Pd(n)):(await n.fa.stop(),n.Ta.length>0&&(Ve(Zl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new k1(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M1(n,e){if(Ja("AsyncQueue",`${e}: ${n}`),Oc(n))return new je(Te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{static emptySet(e){return new uc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=Vu(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ga=new tn(Xe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Sc{constructor(e,t,r,a,l,c,f,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Sc(e,t,uc.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fD{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ze(t),l=a.queries;a.queries=sE(),l.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new je(Te.ABORTED,"Firestore shutting down"))}}function sE(){return new so((n=>Cw(n)),Rd)}async function fS(n,e){const t=Ze(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new uD,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=M1(c,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&P1(t)}async function hS(n,e){const t=Ze(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function hD(n,e){const t=Ze(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&P1(t)}function dD(n,e,t){const r=Ze(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function P1(n){n.Ca.forEach((e=>{e.next()}))}var zg,lE;(lE=zg||(zg={})).Ma="default",lE.Cache="cache";class dS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.key=e}}class pS{constructor(e){this.key=e}}class mD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=Iw(e),this.tu=new uc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new aE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,y)=>{const _=a.get(g),w=Cd(this.query,y)?y:null,R=!!_&&this.mutatedKeys.has(_.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;_&&w?_.data.isEqual(w.data)?R!==T&&(r.track({type:3,doc:w}),b=!0):this.su(_,w)||(r.track({type:2,doc:w}),b=!0,(h&&this.eu(w,h)>0||d&&this.eu(w,d)<0)&&(f=!0)):!_&&w?(r.track({type:0,doc:w}),b=!0):_&&!w&&(r.track({type:1,doc:_}),b=!0,(h||d)&&(f=!0)),b&&(w?(c=c.add(w),l=T?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,y)=>(function(w,R){const T=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:b})}};return T(w)-T(R)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,c.length!==0||d?{snapshot:new Sc(this.query,e.tu,l,c,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new pS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new mS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=pt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L1="SyncEngine";class pD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gD{constructor(e){this.key=e,this.hu=!1}}class vD{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new so((f=>Cw(f)),Rd),this.Iu=new Map,this.Eu=new Set,this.du=new tn(Xe.comparator),this.Au=new Map,this.Ru=new A1,this.Vu={},this.mu=new Map,this.fu=wc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xD(n,e,t=!0){const r=ES(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gS(r,e,t,!0),a}async function yD(n,e){const t=ES(n);await gS(t,e,!0,!1)}async function gS(n,e,t,r){const a=await U6(n.localStore,na(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await _D(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&aS(n.remoteStore,a),f}async function _D(n,e,t,r,a){n.pu=(y,_,w)=>(async function(T,b,H,q){let B=b.view.ru(H);B.Cs&&(B=await Z2(T.localStore,b.query,!1).then((({documents:N})=>b.view.ru(N,B))));const X=q&&q.targetChanges.get(b.targetId),he=q&&q.targetMismatches.get(b.targetId)!=null,ne=b.view.applyChanges(B,T.isPrimaryClient,X,he);return cE(T,b.targetId,ne.au),ne.snapshot})(n,y,_,w);const l=await Z2(n.localStore,e,!0),c=new mD(e,l.Qs),f=c.ru(l.documents),h=Nf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=c.applyChanges(f,n.isPrimaryClient,h);cE(n,t,d.au);const g=new pD(e,t,c);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function ED(n,e,t){const r=Ze(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Rd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Vg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&C1(r.remoteStore,a.targetId),Hg(r,a.targetId)})).catch(Dc)):(Hg(r,a.targetId),await Vg(r.localStore,a.targetId,!0))}async function TD(n,e){const t=Ze(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),C1(t.remoteStore,r.targetId))}async function wD(n,e,t){const r=ID(n);try{const a=await(function(c,f){const h=Ze(c),d=Yt.now(),g=f.reduce(((w,R)=>w.add(R.key)),pt());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let R=Za(),T=pt();return h.Ns.getEntries(w,g).next((b=>{R=b,R.forEach(((H,q)=>{q.isValidDocument()||(T=T.add(H))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,R))).next((b=>{y=b;const H=[];for(const q of f){const B=FI(q,y.get(q.key).overlayedDocument);B!=null&&H.push(new ol(q.key,B,_w(B.value.mapValue),ra.exists(!0)))}return h.mutationQueue.addMutationBatch(w,d,H,f)})).next((b=>{_=b;const H=b.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(w,b.batchId,H)}))})).then((()=>({batchId:_.batchId,changes:Ow(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let d=c.Vu[c.currentUser.toKey()];d||(d=new tn(mt)),d=d.insert(f,h),c.Vu[c.currentUser.toKey()]=d})(r,a.batchId,t),await Cf(r,a.changes),await Pd(r.remoteStore)}catch(a){const l=M1(a,"Failed to persist write");t.reject(l)}}async function vS(n,e){const t=Ze(n);try{const r=await L6(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?At(c.hu,14607):a.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await Cf(t,r,e)}catch(r){await Dc(r)}}function oE(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=Ze(c);h.onlineState=f;let d=!1;h.queries.forEach(((g,y)=>{for(const _ of y.Sa)_.va(f)&&(d=!0)})),d&&P1(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SD(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new tn(Xe.comparator);c=c.insert(l,ar.newNoDocument(l,et.min()));const f=pt().add(l),h=new Od(et.min(),new Map,new tn(mt),c,f);await vS(r,h),r.du=r.du.remove(l),r.Au.delete(e),F1(r)}else await Vg(r.localStore,e,!1).then((()=>Hg(r,e,t))).catch(Dc)}async function AD(n,e){const t=Ze(n),r=e.batch.batchId;try{const a=await P6(t.localStore,e);yS(t,r,null),xS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(t,a)}catch(a){await Dc(a)}}async function bD(n,e,t){const r=Ze(n);try{const a=await(function(c,f){const h=Ze(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return h.mutationQueue.lookupMutationBatch(d,f).next((y=>(At(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(d,y)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>h.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);yS(r,e,t),xS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cf(r,a)}catch(a){await Dc(a)}}function xS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function yS(n,e,t){const r=Ze(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Hg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||_S(n,r)}))}function _S(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(C1(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),F1(n))}function cE(n,e,t){for(const r of t)r instanceof mS?(n.Ru.addReference(r.key,e),ND(n,r)):r instanceof pS?(Ve(L1,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||_S(n,r.key)):Qe(19791,{wu:r})}function ND(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ve(L1,"New document in limbo: "+t),n.Eu.add(r),F1(n))}function F1(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Xe(Wt.fromString(e)),r=n.fu.next();n.Au.set(r,new gD(t)),n.du=n.du.insert(t,r),aS(n.remoteStore,new Hs(na(_1(t.path)),r,"TargetPurposeLimboResolution",Ad.ce))}}async function Cf(n,e,t){const r=Ze(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){a.push(d);const g=N1.As(h.targetId,d);l.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,d){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>we.forEach(d,(_=>we.forEach(_.Es,(w=>g.persistence.referenceDelegate.addReference(y,_.targetId,w))).next((()=>we.forEach(_.ds,(w=>g.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))))))}catch(y){if(!Oc(y))throw y;Ve(R1,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const w=g.Ms.get(_),R=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(R);g.Ms=g.Ms.insert(_,T)}}})(r.localStore,l))}async function RD(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Ve(L1,"User change. New user:",e.toKey());const r=await tS(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((h=>{h.reject(new je(Te.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cf(t,r.Ls)}}function CD(n,e){const t=Ze(n),r=t.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let a=pt();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function ES(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.Pu.H_=hD.bind(null,e.eventManager),e.Pu.yu=dD.bind(null,e.eventManager),e}function ID(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bD.bind(null,e),e}class X0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return M6(this.persistence,new D6,e.initialUser,this.serializer)}Cu(e){return new eS(b1.mi,this.serializer)}Du(e){return new B6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}X0.provider={build:()=>new X0};class DD extends X0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof W0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new eS((r=>W0.mi(r,t)),this.serializer)}}class Gg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fD})()}createDatastore(e){const t=kd(e.databaseInfo.databaseId),r=(function(l){return new W6(l)})(e.databaseInfo);return(function(l,c,f,h){return new $6(l,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,f){return new J6(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>oE(this.syncEngine,t,0)),(function(){return nE.v()?new nE:new z6})())}createSyncEngine(e,t){return(function(a,l,c,f,h,d,g){const y=new vD(a,l,c,f,h,d);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ze(t);Ve(Zl,"RemoteStore shutting down."),r.Ea.add(5),await Rf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="FirestoreClient";class OD{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ir.UNAUTHENTICATED,this.clientId=m1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ve(nl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ve(nl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=M1(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function og(n,e){n.asyncQueue.verifyOperationInProgress(),Ve(nl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await tS(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function uE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kD(n);Ve(nl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>iE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>iE(e.remoteStore,a))),n._onlineComponents=e}async function kD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve(nl,"Using user provided OfflineComponentProvider");try{await og(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Te.FAILED_PRECONDITION||a.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;yc("Error using user provided cache. Falling back to memory cache: "+t),await og(n,new X0)}}else Ve(nl,"Using default OfflineComponentProvider"),await og(n,new DD(void 0));return n._offlineComponents}async function j1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve(nl,"Using user provided OnlineComponentProvider"),await uE(n,n._uninitializedComponentsProvider._online)):(Ve(nl,"Using default OnlineComponentProvider"),await uE(n,new Gg))),n._onlineComponents}function MD(n){return j1(n).then((e=>e.syncEngine))}function PD(n){return j1(n).then((e=>e.datastore))}async function wS(n){const e=await j1(n),t=e.eventManager;return t.onListen=xD.bind(null,e.syncEngine),t.onUnlisten=ED.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),t}function LD(n,e,t={}){const r=new ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,d){const g=new TS({next:_=>{g.Nu(),c.enqueueAndForget((()=>hS(l,y)));const w=_.docs.has(f);!w&&_.fromCache?d.reject(new je(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?d.reject(new je(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new dS(_1(f.path),g,{includeMetadataChanges:!0,qa:!0});return fS(l,y)})(await wS(n),n.asyncQueue,e,t,r))),r.promise}function FD(n,e,t={}){const r=new ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,d){const g=new TS({next:_=>{g.Nu(),c.enqueueAndForget((()=>hS(l,y))),_.fromCache&&h.source==="server"?d.reject(new je(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new dS(f,g,{includeMetadataChanges:!0,qa:!0});return fS(l,y)})(await wS(n),n.asyncQueue,e,t,r))),r.promise}function jD(n,e,t){const r=new ta;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await PD(n);r.resolve((async function(c,f,h){const d=Ze(c),{request:g,gt:y,parent:_}=r6(d.serializer,wI(f),h);d.connection.$o||delete g.parent;const w=(await d.Ho("RunAggregationQuery",d.serializer.databaseId,_,g,1)).filter((T=>!!T.result));At(w.length===1,64727);const R=w[0].result?.aggregateFields;return Object.keys(R).reduce(((T,b)=>(T[y[b]]=R[b],T)),{})})(a,e,t))}catch(a){r.reject(a)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firestore.googleapis.com",hE=!0;class dE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m6)throw new je(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new je(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new je(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new je(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ld{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VC;switch(r.type){case"firstParty":return new GC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fE.get(t);r&&(Ve("ComponentProvider","Removing Datastore"),fE.delete(t),r.terminate())})(this),Promise.resolve()}}function UD(n,e,t,r={}){n=oa(n,Ld);const a=io(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(o1(`https://${f}`),c1("Firestore",!0)),l.host!==AS&&l.host!==f&&yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:f,ssl:a,emulatorOptions:r};if(!$l(h,c)&&(n._setSettings(h),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=ir.MOCK_USER;else{d=YT(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new je(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ir(y)}n._authCredentials=new BC(new ow(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Sf(t,mn._jsonSchema))return new mn(e,r||null,new Xe(Wt.fromString(t.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:Sn("string",mn._jsonSchemaVersion),referencePath:Sn("string")};class Ys extends oo{constructor(e,t,r){super(e,t,_1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Xe(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Ba(n,e,...t){if(n=jn(n),cw("collection","path",e),n instanceof Ld){const r=Wt.fromString(e,...t);return b2(r),new Ys(n,null,r)}{if(!(n instanceof mn||n instanceof Ys))throw new je(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return b2(r),new Ys(n.firestore,null,r)}}function Kr(n,e,...t){if(n=jn(n),arguments.length===1&&(e=m1.newId()),cw("doc","path",e),n instanceof Ld){const r=Wt.fromString(e,...t);return A2(r),new mn(n,null,new Xe(r))}{if(!(n instanceof mn||n instanceof Ys))throw new je(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return A2(r),new mn(n.firestore,n instanceof Ys?n.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rS(this,"async_queue_retry"),this._c=()=>{const r=lg();r&&Ve(mE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oc(e))throw e;Ve(mE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ja("INTERNAL UNHANDLED ERROR: ",gE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=k1.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Qe(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Mc extends Ld{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new pE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function VD(n,e){const t=typeof n=="object"?n:h1(),r=typeof n=="string"?n:j0,a=wd(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=WT("firestore");l&&UD(a,...l)}return a}function Fd(n){if(n._terminated)throw new je(Te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BD(n),n._firestoreClient}function BD(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new oI(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,SS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new OD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class HD{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(Qn.fromBase64String(e))}catch(t){throw new je(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hi(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sf(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Sn("string",hi._jsonSchemaVersion),bytes:Sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:aa._jsonSchemaVersion}}static fromJSON(e){if(Sf(e,aa._jsonSchema))return new aa(e.latitude,e.longitude)}}aa._jsonSchemaVersion="firestore/geoPoint/1.0",aa._jsonSchema={type:Sn("string",aa._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sf(e,sa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new sa(e.vectorValues);throw new je(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sa._jsonSchemaVersion="firestore/vectorValue/1.0",sa._jsonSchema={type:Sn("string",sa._jsonSchemaVersion),vectorValues:Sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^__.*__$/;class qD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new bf(e,this.data,t,this.fieldTransforms)}}class bS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:n})}}class V1{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new V1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Y0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NS(this.Ac)&&GD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kd(e)}Cc(e,t,r,a=!1){return new V1({Ac:e,methodName:t,Dc:r,path:Kn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B1(n){const e=n._freezeSettings(),t=kd(n._databaseId);return new WD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KD(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);z1("Data must be an object, but it was:",c,r);const f=RS(r,c);let h,d;if(l.merge)h=new Wr(c.fieldMask),d=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const y of l.mergeFields){const _=qg(e,y,t);if(!c.contains(_))throw new je(Te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);IS(g,_)||g.push(_)}h=new Wr(g),d=c.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,d=c.fieldTransforms;return new qD(new Nr(f),h,d)}class Ud extends U1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}function XD(n,e,t,r){const a=n.Cc(1,e,t);z1("Data must be an object, but it was:",a,r);const l=[],c=Nr.empty();ll(r,((h,d)=>{const g=H1(e,h,t);d=jn(d);const y=a.yc(g);if(d instanceof Ud)l.push(g);else{const _=If(d,y);_!=null&&(l.push(g),c.set(g,_))}}));const f=new Wr(l);return new bS(c,f,a.fieldTransforms)}function YD(n,e,t,r,a,l){const c=n.Cc(1,e,t),f=[qg(e,r,t)],h=[a];if(l.length%2!=0)throw new je(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)f.push(qg(e,l[_])),h.push(l[_+1]);const d=[],g=Nr.empty();for(let _=f.length-1;_>=0;--_)if(!IS(d,f[_])){const w=f[_];let R=h[_];R=jn(R);const T=c.yc(w);if(R instanceof Ud)d.push(w);else{const b=If(R,T);b!=null&&(d.push(w),g.set(w,b))}}const y=new Wr(d);return new bS(g,y,c.fieldTransforms)}function $D(n,e,t,r=!1){return If(t,n.Cc(r?4:3,e))}function If(n,e){if(CS(n=jn(n)))return z1("Unsupported field value:",e,n),RS(n,e);if(n instanceof U1)return(function(r,a){if(!NS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let h=If(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Yt.fromDate(r);return{timestampValue:q0(a.serializer,l)}}if(r instanceof Yt){const l=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:q0(a.serializer,l)}}if(r instanceof aa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:qw(a.serializer,r._byteString)};if(r instanceof mn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S1(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof sa)return(function(c,f){return{mapValue:{fields:{[xw]:{stringValue:yw},[U0]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return E1(f.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Sd(r)}`)})(n,e)}function RS(n,e){const t={};return hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(n,((r,a)=>{const l=If(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function CS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yt||n instanceof aa||n instanceof hi||n instanceof mn||n instanceof U1||n instanceof sa)}function z1(n,e,t){if(!CS(t)||!uw(t)){const r=Sd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function qg(n,e,t){if((e=jn(e))instanceof jd)return e._internalPath;if(typeof e=="string")return H1(n,e);throw Y0("Field path arguments must be of type string or ",n,!1,void 0,t)}const QD=new RegExp("[~\\*/\\[\\]]");function H1(n,e,t){if(e.search(QD)>=0)throw Y0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jd(...e.split("."))._internalPath}catch{throw Y0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Y0(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new je(Te.INVALID_ARGUMENT,f+n+h)}function IS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(G1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class JD extends DS{data(){return super.data()}}function G1(n,e){return typeof e=="string"?H1(n,e):e instanceof jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new je(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q1{}class OS extends q1{}function Vl(n,e,...t){let r=[];e instanceof q1&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((h=>h instanceof W1)).length,f=l.filter((h=>h instanceof Vd)).length;if(c>1||c>0&&f>0)throw new je(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Vd extends OS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vd(e,t,r)}_apply(e){const t=this._parse(e);return kS(e._query,t),new oo(e.firestore,e.converter,Pg(e._query,t))}_parse(e){const t=B1(e.firestore);return(function(l,c,f,h,d,g,y){let _;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new je(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xE(y,g);const R=[];for(const T of y)R.push(vE(h,l,T));_={arrayValue:{values:R}}}else _=vE(h,l,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xE(y,g),_=$D(f,c,y,g==="in"||g==="not-in");return wn.create(d,g,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hl(n,e,t){const r=e,a=G1("where",n);return Vd._create(a,r,t)}class W1 extends q1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const h of f)kS(c,h),c=Pg(c,h)})(e._query,t),new oo(e.firestore,e.converter,Pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K1 extends OS{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new K1(e,t,r)}_apply(e){return new oo(e.firestore,e.converter,z0(e._query,this._limit,this._limitType))}}function eO(n){return K1._create("limit",n,"F")}function vE(n,e,t){if(typeof(t=jn(t))=="string"){if(t==="")throw new je(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(e)&&t.indexOf("/")!==-1)throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!Xe.isDocumentKey(r))throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M2(n,new Xe(r))}if(t instanceof mn)return M2(n,t._key);throw new je(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(t)}.`)}function xE(n,e){if(!Array.isArray(n)||n.length===0)throw new je(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new je(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tO{convertValue(e,t="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ll(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[U0].arrayValue?.values?.map((r=>hn(r.doubleValue)));return new sa(t)}convertGeoPoint(e){return new aa(hn(e.latitude),hn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const t=Js(e);return new Yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);At(Jw(r),9688,{name:e});const a=new lf(r.get(1),r.get(3)),l=new Xe(r.popFirst(5));return a.isEqual(t)||Ja(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}function rO(){return new zD("count")}class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends DS{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new C0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(G1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ql._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",ql._jsonSchema={type:Sn("string",ql._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class C0 extends ql{data(e={}){return super.data(e)}}class fc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new zu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new C0(this._firestore,this._userDataWriter,r.key,r,new zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new C0(a._firestore,a._userDataWriter,f.doc.key,f.doc,new zu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const h=new C0(a._firestore,a._userDataWriter,f.doc.key,f.doc,new zu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,g=-1;return f.type!==0&&(d=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),g=c.indexOf(f.doc.key)),{type:iO(f.type),doc:h,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n){n=oa(n,mn);const e=oa(n.firestore,Mc);return LD(Fd(e),n._key).then((t=>sO(e,n,t)))}fc._jsonSchemaVersion="firestore/querySnapshot/1.0",fc._jsonSchema={type:Sn("string",fc._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class X1 extends tO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function ff(n){n=oa(n,oo);const e=oa(n.firestore,Mc),t=Fd(e),r=new X1(e);return ZD(n._query),FD(t,n._query).then((a=>new fc(e,r,n,a)))}function Df(n,e,t){n=oa(n,mn);const r=oa(n.firestore,Mc),a=nO(n.converter,e,t);return MS(r,[KD(B1(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ra.none())])}function aO(n,e,t,...r){n=oa(n,mn);const a=oa(n.firestore,Mc),l=B1(a);let c;return c=typeof(e=jn(e))=="string"||e instanceof jd?YD(l,"updateDoc",n._key,e,t,r):XD(l,"updateDoc",n._key,e),MS(a,[c.toMutation(n._key,ra.exists(!0))])}function MS(n,e){return(function(r,a){const l=new ta;return r.asyncQueue.enqueueAndForget((async()=>wD(await MD(r),a,l))),l.promise})(Fd(n),e)}function sO(n,e,t){const r=t.docs.get(e._key),a=new X1(n);return new ql(n,a,e._key,r,new zu(t.hasPendingWrites,t.fromCache),e.converter)}function lO(n){return oO(n,{count:rO()})}function oO(n,e){const t=oa(n.firestore,Mc),r=Fd(t),a=sI(e,((l,c)=>new BI(c,l.aggregateType,l._internalFieldPath)));return jD(r,n._query,a).then((l=>(function(f,h,d){const g=new X1(f);return new HD(h,g,d)})(t,n,l)))}(function(e,t=!0){(function(a){Ic=a})(ao),Ql(new $s("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Mc(new zC(r.getProvider("auth-internal")),new qC(c,r.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new je(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(d.options.projectId,g)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ea(E2,T2,e),ea(E2,T2,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebasestorage.googleapis.com",cO="storageBucket",uO=120*1e3,fO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends da{constructor(e,t,r=0){super(cg(e),`Firebase Storage: ${t} (${cg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ma.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ua;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ua||(ua={}));function cg(n){return"storage/"+n}function hO(){const n="An unknown error occurred, please check the error payload for server response.";return new ma(ua.UNKNOWN,n)}function dO(){return new ma(ua.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mO(){return new ma(ua.CANCELED,"User canceled the upload/download.")}function pO(n){return new ma(ua.INVALID_URL,"Invalid URL '"+n+"'.")}function gO(n){return new ma(ua.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function yE(n){return new ma(ua.INVALID_ARGUMENT,n)}function LS(){return new ma(ua.APP_DELETED,"The Firebase app was deleted.")}function vO(n){return new ma(ua.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Di.makeFromUrl(e,t)}catch{return new Di(e,"")}if(r.path==="")return r;throw gO(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function d(X){X.path_=decodeURIComponent(X.path)}const g="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${y}/${g}/b/${a}/o${_}`,"i"),R={bucket:1,path:3},T=t===PS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",H=new RegExp(`^https?://${T}/${a}/${b}`,"i"),B=[{regex:f,indices:h,postModify:l},{regex:w,indices:R,postModify:d},{regex:H,indices:{bucket:1,path:2},postModify:d}];for(let X=0;X<B.length;X++){const he=B[X],ne=he.regex.exec(e);if(ne){const N=ne[he.indices.bucket];let I=ne[he.indices.path];I||(I=""),r=new Di(N,I),he.postModify(r);break}}if(r==null)throw pO(e);return r}}class xO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function h(){return f===2}let d=!1;function g(...b){d||(d=!0,e.apply(null,b))}function y(b){a=setTimeout(()=>{a=null,n(w,h())},b)}function _(){l&&clearTimeout(l)}function w(b,...H){if(d){_();return}if(b){_(),g.call(null,b,...H);return}if(h()||c){_(),g.call(null,b,...H);return}r<64&&(r*=2);let B;f===1?(f=2,B=0):B=(r+Math.random())*1e3,y(B)}let R=!1;function T(b){R||(R=!0,_(),!d&&(a!==null?(b||(f=2),clearTimeout(a),y(0)):b||(f=1)))}return y(0),l=setTimeout(()=>{c=!0,T(!0)},t),T}function _O(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){return n!==void 0}function _E(n,e,t,r){if(r<e)throw yE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yE(`Invalid value for '${n}'. Expected ${t} or less.`)}function TO(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var $0;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($0||($0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t,r,a,l,c,f,h,d,g,y,_=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=y,this.retry=_,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,T)=>{this.resolve_=R,this.reject_=T,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new f0(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const h=f.loaded,d=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===$0.NO_ERROR,h=l.getStatus();if(!f||wO(h,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===$0.ABORT;r(!1,new f0(!1,null,g));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new f0(d,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());EO(h)?l(h):l()}catch(h){c(h)}else if(f!==null){const h=hO();h.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,h)):c(h)}else if(a.canceled){const h=this.appDelete_?LS():mO();c(h)}else{const h=dO();c(h)}};this.canceled_?t(!1,new f0(!1,null,!0)):this.backoffId_=yO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_O(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class f0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function AO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function RO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function CO(n,e,t,r,a,l,c=!0,f=!1){const h=TO(n.urlParams),d=n.url+h,g=Object.assign({},n.headers);return NO(g,e),AO(g,t),bO(g,l),RO(g,r),new SO(d,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this._service=e,t instanceof Di?this._location=t:this._location=Di.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Q0(e,t)}get root(){const e=new Di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DO(this._location.path)}get storage(){return this._service}get parent(){const e=IO(this._location.path);if(e===null)return null;const t=new Di(this._location.bucket,e);return new Q0(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vO(e)}}function EE(n,e){const t=e?.[cO];return t==null?null:Di.makeFromBucketSpec(t,n)}function OO(n,e,t,r={}){n.host=`${e}:${t}`;const a=io(e);a&&(o1(`https://${n.host}/b`),c1("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:YT(l,n.app.options.projectId))}class kO{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=PS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uO,this._maxUploadRetryTime=fO,this._requests=new Set,a!=null?this._bucket=Di.makeFromBucketSpec(a,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Di.makeFromBucketSpec(this._url,e):this._bucket=EE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Q0(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new xO(LS());{const c=CO(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const TE="@firebase/storage",wE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="storage";function MO(n=h1(),e){n=jn(n);const r=wd(n,FS).getImmediate({identifier:e}),a=WT("storage");return a&&PO(r,...a),r}function PO(n,e,t,r={}){OO(n,e,t,r)}function LO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new kO(t,r,a,e,ao)}function FO(){Ql(new $s(FS,LO,"PUBLIC").setMultipleInstances(!0)),ea(TE,wE,""),ea(TE,wE,"esm2020")}FO();function jS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jO=jS,US=new Tf("auth","Firebase",jS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new u1("@firebase/auth");function UO(n,...e){J0.logLevel<=dt.WARN&&J0.warn(`Auth (${ao}): ${n}`,...e)}function I0(n,...e){J0.logLevel<=dt.ERROR&&J0.error(`Auth (${ao}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(n,...e){throw $1(n,...e)}function Mi(n,...e){return $1(n,...e)}function Y1(n,e,t){const r={...jO(),[e]:t};return new Tf("auth","Firebase",r).create(e,{appName:n.name})}function Wl(n){return Y1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&fa(n,"argument-error"),Y1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return US.create(n,...e)}function Je(n,e,...t){if(!n)throw $1(e,...t)}function Ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw I0(e),new Error(e)}function es(n,e){n||Ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){return typeof self<"u"&&self.location?.href||""}function BO(){return SE()==="http:"||SE()==="https:"}function SE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BO()||vR()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=mR()||xR()}get(){return zO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WO=new Of(3e4,6e4);function J1(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Pc(n,e,t,r,a={}){return BS(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=wf({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:h,...l};return gR()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&io(n.emulatorConfig.host)&&(d.credentials="include"),VS.fetch()(await zS(n,n.config.apiHost,t,f),d)})}async function BS(n,e,t){n._canInitEmulator=!1;const r={...GO,...e};try{const a=new XO(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw h0(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw h0(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw h0(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw h0(n,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Y1(n,g,d);fa(n,g)}}catch(a){if(a instanceof da)throw a;fa(n,"network-request-failed",{message:String(a)})}}async function KO(n,e,t,r,a={}){const l=await Pc(n,e,t,r,a);return"mfaPendingCredential"in l&&fa(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function zS(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?Q1(n.config,a):`${n.config.apiScheme}://${a}`;return qO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class XO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),WO.get())})}}function h0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Mi(n,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(n,e){return Pc(n,"POST","/v1/accounts:delete",e)}async function Z0(n,e){return Pc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $O(n,e=!1){const t=jn(n),r=await t.getIdToken(e),a=Z1(r);Je(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Yu(ug(a.auth_time)),issuedAtTime:Yu(ug(a.iat)),expirationTime:Yu(ug(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ug(n){return Number(n)*1e3}function Z1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return I0("JWT malformed, contained fewer than 3 sections"),null;try{const a=GT(t);return a?JSON.parse(a):(I0("Failed to decode base64 JWT payload"),null)}catch(a){return I0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function AE(n){const e=Z1(n);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof da&&QO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(n){const e=n.auth,t=await n.getIdToken(),r=await hf(n,Z0(e,{idToken:t}));Je(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?HS(a.providerUserInfo):[],c=e5(n.providerData,l),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,d=f?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Kg(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function ZO(n){const e=jn(n);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e5(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function HS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(n,e){const t=await BS(n,{},async()=>{const r=wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await zS(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&io(n.emulatorConfig.host)&&(h.credentials="include"),VS.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function n5(n,e){return Pc(n,"POST","/v2/accounts:revokeToken",J1(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const t=AE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await t5(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new hc;return r&&(Je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,e){Je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new JO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await hf(this,this.stsTokenManager.getToken(this.auth,e));return Je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $O(this,e)}reload(){return ZO(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Wl(this.auth));const e=await this.getIdToken();return await hf(this,YO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:R,stsTokenManager:T}=t;Je(y&&T,e,"internal-error");const b=hc.fromJSON(this.name,T);Je(typeof y=="string",e,"internal-error"),Fs(r,e.name),Fs(a,e.name),Je(typeof _=="boolean",e,"internal-error"),Je(typeof w=="boolean",e,"internal-error"),Fs(l,e.name),Fs(c,e.name),Fs(f,e.name),Fs(h,e.name),Fs(d,e.name),Fs(g,e.name);const H=new Oi({uid:y,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:b,createdAt:d,lastLoginAt:g});return R&&Array.isArray(R)&&(H.providerData=R.map(q=>({...q}))),h&&(H._redirectEventId=h),H}static async _fromIdTokenResponse(e,t,r=!1){const a=new hc;a.updateFromServerResponse(t);const l=new Oi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await ed(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new hc;f.updateFromIdToken(r);const h=new Oi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Kg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;function Ga(n){es(n instanceof Function,"Expected a class definition");let e=bE.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}GS.type="NONE";const NE=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e,t){return`firebase:${n}:${e}:${t}`}class dc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=D0(this.userKey,a.apiKey,l),this.fullPersistenceKey=D0("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Z0(this.auth,{idToken:e}).catch(()=>{});return t?Oi._fromGetAccountInfoResponse(this.auth,t,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new dc(Ga(NE),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=a[0]||Ga(NE);const c=D0(r,e.config.apiKey,e.name);let f=null;for(const d of t)try{const g=await d._get(c);if(g){let y;if(typeof g=="string"){const _=await Z0(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Oi._fromGetAccountInfoResponse(e,_,g)}else y=Oi._fromJSON(e,g);d!==l&&(f=y),l=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new dc(l,e,r):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async d=>{if(d!==l)try{await d._remove(c)}catch{}})),new dc(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($S(e))return"Blackberry";if(QS(e))return"Webos";if(WS(e))return"Safari";if((e.includes("chrome/")||KS(e))&&!e.includes("edge/"))return"Chrome";if(YS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function qS(n=or()){return/firefox\//i.test(n)}function WS(n=or()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KS(n=or()){return/crios\//i.test(n)}function XS(n=or()){return/iemobile/i.test(n)}function YS(n=or()){return/android/i.test(n)}function $S(n=or()){return/blackberry/i.test(n)}function QS(n=or()){return/webos/i.test(n)}function ev(n=or()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r5(n=or()){return ev(n)&&!!window.navigator?.standalone}function i5(){return yR()&&document.documentMode===10}function JS(n=or()){return ev(n)||YS(n)||QS(n)||$S(n)||/windows phone/i.test(n)||XS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e=[]){let t;switch(n){case"Browser":t=RE(or());break;case"Worker":t=`${RE(or())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(n,e={}){return Pc(n,"GET","/v2/passwordPolicy",J1(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=6;class o5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??l5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new a5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=US,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ga(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Z0(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Wl(this));const t=e?jn(e):null;return t&&Je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ga(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s5(this),t=new o5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await n5(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ga(e)||this._popupRedirectResolver;Je(t,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[Ga(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bd(n){return jn(n)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=NR(t=>this.observer=t)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u5(n){tv=n}function f5(n){return tv.loadJS(n)}function h5(){return tv.gapiScript}function d5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(n,e){const t=wd(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if($l(l,e??{}))return a;fa(a,"already-initialized")}return t.initialize({options:e})}function p5(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ga);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function g5(n,e,t){const r=Bd(n);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=eA(e),{host:c,port:f}=v5(e),h=f===null?"":`:${f}`,d={url:`${l}//${c}${h}/`},g=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je($l(d,r.config.emulator)&&$l(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,io(c)?(o1(`${l}//${c}${h}`),c1("Auth",!0)):x5()}function eA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function v5(n){const e=eA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:IE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:IE(c)}}}function IE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function x5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ha("not implemented")}_getIdTokenResponse(e){return Ha("not implemented")}_linkToIdToken(e,t){return Ha("not implemented")}_getReauthenticationResolver(e){return Ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(n,e){return KO(n,"POST","/v1/accounts:signInWithIdp",J1(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="http://localhost";class eo extends tA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new eo(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return mc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,mc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mc(e,t)}buildRequest(){const e={requestUri:y5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends nv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends kf{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends kf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return za.credential(t,r)}catch{return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com";za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends kf{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends kf{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zs.credential(t,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Oi._fromIdTokenResponse(e,r,a),c=DE(r);return new Ac({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=DE(r);return new Ac({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function DE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends da{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new td(e,t,r,a)}}function nA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(n,l,e,r):l})}async function _5(n,e,t=!1){const r=await hf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ac._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(n,e,t=!1){const{auth:r}=n;if(fi(r.app))return Promise.reject(Wl(r));const a="reauthenticate";try{const l=await hf(n,nA(r,a,e,n),t);Je(l.idToken,r,"internal-error");const c=Z1(l.idToken);Je(c,r,"internal-error");const{sub:f}=c;return Je(n.uid===f,r,"user-mismatch"),Ac._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fa(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(n,e,t=!1){if(fi(n.app))return Promise.reject(Wl(n));const r="signIn",a=await nA(n,r,e),l=await Ac._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}function w5(n,e,t,r){return jn(n).onIdTokenChanged(e,t,r)}function S5(n,e,t){return jn(n).beforeAuthStateChanged(e,t)}function A5(n,e,t,r){return jn(n).onAuthStateChanged(e,t,r)}function b5(n){return jn(n).signOut()}const nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=1e3,R5=10;class iA extends rA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);i5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,R5):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},N5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const C5=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends rA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aA.type="SESSION";const sA=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new zd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async d=>d(t.origin,l)),h=await I5(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const d=rv("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(g),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(){return window}function O5(n){la().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return typeof la().WorkerGlobalScope<"u"&&typeof la().importScripts=="function"}async function k5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M5(){return navigator?.serviceWorker?.controller||null}function P5(){return lA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebaseLocalStorageDb",L5=1,rd="firebaseLocalStorage",cA="fbase_key";class Mf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hd(n,e){return n.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function F5(){const n=indexedDB.deleteDatabase(oA);return new Mf(n).toPromise()}function Xg(){const n=indexedDB.open(oA,L5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rd,{keyPath:cA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rd)?e(r):(r.close(),await F5(),e(await Xg()))})})}async function OE(n,e,t){const r=Hd(n,!0).put({[cA]:e,value:t});return new Mf(r).toPromise()}async function j5(n,e){const t=Hd(n,!1).get(e),r=await new Mf(t).toPromise();return r===void 0?null:r.value}function kE(n,e){const t=Hd(n,!0).delete(e);return new Mf(t).toPromise()}const U5=800,V5=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>V5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(P5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k5(),!this.activeServiceWorker)return;this.sender=new D5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await OE(e,nd,"1"),await kE(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>OE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>j5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hd(a,!1).getAll();return new Mf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const B5=uA;new Of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,e){return e?Ga(e):(Je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends tA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function z5(n){return T5(n.auth,new iv(n),n.bypassAuthState)}function H5(n){const{auth:e,user:t}=n;return Je(t,e,"internal-error"),E5(t,new iv(n),n.bypassAuthState)}async function G5(n){const{auth:e,user:t}=n;return Je(t,e,"internal-error"),_5(t,new iv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z5;case"linkViaPopup":case"linkViaRedirect":return G5;case"reauthViaPopup":case"reauthViaRedirect":return H5;default:fa(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new Of(2e3,1e4);async function W5(n,e,t){if(fi(n.app))return Promise.reject(Mi(n,"operation-not-supported-in-this-environment"));const r=Bd(n);VO(n,e,nv);const a=fA(r,t);return new Gl(r,"signInViaPopup",e,a).executeNotNull()}class Gl extends hA{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Gl.currentPopupAction&&Gl.currentPopupAction.cancel(),Gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q5.get())};e()}}Gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="pendingRedirect",O0=new Map;class X5 extends hA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=O0.get(this.auth._key());if(!e){try{const r=await Y5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}O0.set(this.auth._key(),e)}return this.bypassAuthState||O0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y5(n,e){const t=J5(e),r=Q5(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function $5(n,e){O0.set(n._key(),e)}function Q5(n){return Ga(n._redirectPersistence)}function J5(n){return D0(K5,n.config.apiKey,n.name)}async function Z5(n,e,t=!1){if(fi(n.app))return Promise.reject(Wl(n));const r=Bd(n),a=fA(r,e),c=await new X5(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=600*1e3;class t8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!dA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Mi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e8&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function n8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(n,e={}){return Pc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a8=/^https?/;async function s8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await r8(n);for(const t of e)try{if(l8(t))return}catch{}fa(n,"unauthorized-domain")}function l8(n){const e=Wg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!a8.test(t))return!1;if(i8.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new Of(3e4,6e4);function PE(){const n=la().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c8(n){return new Promise((e,t)=>{function r(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),t(Mi(n,"network-request-failed"))},timeout:o8.get()})}if(la().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(la().gapi?.load)r();else{const a=d5("iframefcb");return la()[a]=()=>{gapi.load?r():t(Mi(n,"network-request-failed"))},f5(`${h5()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw k0=null,e})}let k0=null;function u8(n){return k0=k0||c8(n),k0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new Of(5e3,15e3),h8="__/auth/iframe",d8="emulator/auth/iframe",m8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g8(n){const e=n.config;Je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Q1(e,d8):`https://${n.config.authDomain}/${h8}`,r={apiKey:e.apiKey,appName:n.name,v:ao},a=p8.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${wf(r).slice(1)}`}async function v8(n){const e=await u8(n),t=la().gapi;return Je(t,n,"internal-error"),e.open({where:document.body,url:g8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m8,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Mi(n,"network-request-failed"),f=la().setTimeout(()=>{l(c)},f8.get());function h(){la().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y8=500,_8=600,E8="_blank",T8="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w8(n,e,t,r=y8,a=_8){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...x8,width:r.toString(),height:a.toString(),top:l,left:c},d=or().toLowerCase();t&&(f=KS(d)?E8:t),qS(d)&&(e=e||T8,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[w,R])=>`${_}${w}=${R},`,"");if(r5(d)&&f!=="_self")return S8(e||"",f),new LE(null);const y=window.open(e||"",f,g);Je(y,n,"popup-blocked");try{y.focus()}catch{}return new LE(y)}function S8(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="__/auth/handler",b8="emulator/auth/handler",N8=encodeURIComponent("fac");async function FE(n,e,t,r,a,l){Je(n.config.authDomain,n,"auth-domain-config-required"),Je(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ao,eventId:a};if(e instanceof nv){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",bR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof kf){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await n._getAppCheckToken(),d=h?`#${N8}=${encodeURIComponent(h)}`:"";return`${R8(n)}?${wf(f).slice(1)}${d}`}function R8({config:n}){return n.emulator?Q1(n,b8):`https://${n.authDomain}/${A8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class C8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sA,this._completeRedirectFn=Z5,this._overrideRedirectResult=$5}async _openPopup(e,t,r,a){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await FE(e,t,r,Wg(),a);return w8(e,l,rv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await FE(e,t,r,Wg(),a);return O5(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(es(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await v8(e),r=new t8(e);return t.register("authEvent",a=>(Je(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fg,{type:fg},a=>{const l=a?.[0]?.[fg];l!==void 0&&t(!!l),fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JS()||WS()||ev()}}const I8=C8;var jE="@firebase/auth",UE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k8(n){Ql(new $s("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZS(n)},d=new c5(r,a,l,h);return p5(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ql(new $s("auth-internal",e=>{const t=Bd(e.getProvider("auth").getImmediate());return(r=>new D8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(jE,UE,O8(n)),ea(jE,UE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=300,P8=XT("authIdTokenMaxAge")||M8;let VE=null;const L8=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>P8)return;const a=t?.token;VE!==a&&(VE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function F8(n=h1()){const e=wd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=m5(n,{popupRedirectResolver:I8,persistence:[B5,C5,sA]}),r=XT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=L8(l.toString());S5(t,c,()=>c(t.currentUser)),w5(t,f=>c(f))}}const a=qT("auth");return a&&g5(t,`http://${a}`),t}function j8(){return document.getElementsByTagName("head")?.[0]??document}u5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Mi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",j8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k8("Browser");const U8={apiKey:"AIzaSyDJf6Rh33Bqtp8o3-B5WGomLn6A7WwdQyM",authDomain:"nymph-academy.firebaseapp.com",projectId:"nymph-academy",storageBucket:"nymph-academy.firebasestorage.app",messagingSenderId:"512174893453",appId:"1:512174893453:web:38d0c7a40f72191bfc35c4",measurementId:"G-VEZ86H618Y"},av=JT(U8),dn=VD(av);MO(av);const sv=F8(av),V8=new za,B8=async()=>{try{const e=(await W5(sv,V8)).user,t=Kr(dn,"users",e.uid);return(await Ii(t)).exists()||await Df(t,{uid:e.uid,name:e.displayName,email:e.email,photoURL:e.photoURL,isAdmin:!1,createdAt:new Date}),e}catch(n){throw console.error("Error signing in with Google: ",n),n}},z8=()=>b5(sv),H8=async n=>{if(!n)return!1;try{const e=Kr(dn,"users",n),t=await Ii(e);return t.exists()?t.data().isAdmin===!0:!1}catch(e){return console.error("Error checking admin status: ",e),!1}},G8=async()=>{const n=Kr(dn,"settings","website");(await Ii(n)).exists()||await Df(n,{paymentQRUrl:"",paymentPrice:"1000",logoUrl:"",updatedAt:new Date})};G8().catch(console.error);const mA=re.createContext(),q8=({children:n})=>{const[e,t]=re.useState(null),[r,a]=re.useState(!1),[l,c]=re.useState(!0);re.useEffect(()=>{const g=A5(sv,async y=>{if(t(y),y){const _=await H8(y.uid);a(_)}else a(!1);c(!1)});return()=>g()},[]);const d={currentUser:e,isAdmin:r,loading:l,signIn:async()=>{try{await B8()}catch(g){throw console.error("Error during sign in:",g),g}},signOut:async()=>{try{await z8(),t(null),a(!1)}catch(g){throw console.error("Error during sign out:",g),g}}};return x.jsx(mA.Provider,{value:d,children:!l&&n})},co=()=>re.useContext(mA),Kl=()=>{const{currentUser:n,isAdmin:e,signOut:t}=co(),[r,a]=re.useState(!1);return x.jsx("header",{className:"bg-blue-500 text-white py-4 relative  z-30",children:x.jsxs("div",{className:"container mx-auto flex flex-wrap items-center justify-between px-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("img",{src:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760100212/nymph_academy_logo_rpafjh.png",alt:"Nymph Academy Logo",className:"h-8 mr-2",onError:l=>{l.target.onerror=null,l.target.style.display="none"}}),x.jsx(Cn,{to:"/",className:"text-xl font-bold",children:"Nymph Academy"})]}),x.jsxs("nav",{className:"hidden md:flex space-x-6",children:[x.jsx(Cn,{to:"/enrollment",className:"hover:text-blue-200 transition",children:"Enrollment"}),n&&e&&x.jsx(Cn,{to:"/admin",className:"hover:text-blue-200 transition",children:"Admin Dashboard"}),n?x.jsxs("div",{className:"relative group",children:[x.jsxs("button",{className:"flex items-center hover:text-blue-200 transition",children:[x.jsx("span",{className:"mr-1",children:n.displayName?.split(" ")[0]||"Account"}),x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),x.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[e&&x.jsx(Cn,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Admin Dashboard"}),x.jsx("button",{onClick:t,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})]}):x.jsx(Cn,{to:"/login",className:"bg-white text-blue-500 hover:bg-blue-100 px-4 py-1 rounded transition",children:"Admin Login"})]}),x.jsx("button",{className:"md:hidden text-white p-1 rounded-md hover:bg-blue-600 transition",onClick:()=>a(!r),"aria-label":r?"Close menu":"Open menu","aria-expanded":r,children:r?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsx("div",{className:`md:hidden fixed top-[60px] left-0 right-0 bg-blue-600 z-20 shadow-lg transition-all duration-300 ease-in-out ${r?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:x.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4 divide-y divide-blue-500",children:[x.jsxs("div",{className:"pt-2",children:[x.jsx(Cn,{to:"/",className:"block text-white hover:text-blue-200 transition py-2 border-b border-blue-500",onClick:()=>a(!1),children:"Home"}),x.jsx(Cn,{to:"/enrollment",className:"block text-white hover:text-blue-200 transition py-2",onClick:()=>a(!1),children:"Enrollment"})]}),x.jsx("div",{className:"pt-3",children:n?x.jsxs("div",{className:"flex flex-col space-y-2",children:[x.jsxs("div",{className:"text-white font-medium pb-2 border-b border-blue-500",children:["Signed in as ",n.displayName||"Account"]}),e&&x.jsxs(Cn,{to:"/admin",className:"text-white hover:text-blue-200 transition py-2",onClick:()=>a(!1),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Admin Dashboard"]}),x.jsxs("button",{onClick:()=>{t(),a(!1)},className:"text-white hover:text-blue-200 transition py-2 text-left flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Sign Out"]})]}):x.jsx(Cn,{to:"/login",className:"inline-block bg-white text-blue-500 hover:bg-blue-100 px-4 py-2 rounded-md transition w-full text-center font-medium",onClick:()=>a(!1),children:"Admin Login"})})]})})]})})},Xl=()=>{const n=new Date().getFullYear();return x.jsx("footer",{className:"bg-gray-800 text-white py-8",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Nymph Academy"}),x.jsx("p",{className:"text-gray-400 mb-2",children:"Empowering young minds through quality education."}),x.jsxs("div",{className:"flex items-center text-gray-400 my-2",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"7737072875, 8854856756"]}),x.jsxs("div",{className:"flex items-center text-gray-400 my-2",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"nymphacademyschool@gmail.com"]}),x.jsxs("div",{className:"flex items-center text-gray-400 my-2",children:[x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Plot No. A-4-7, Anupam Vihar, Gandhi Path (West), Vaishali Nagar,Jaipur(Raj.)"]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Quick Links"}),x.jsxs("ul",{className:"space-y-2",children:[x.jsx("li",{children:x.jsx(Cn,{to:"/",className:"text-gray-400 hover:text-white transition",children:"Home"})}),x.jsx("li",{children:x.jsx(Cn,{to:"/about",className:"text-gray-400 hover:text-white transition",children:"About Us"})})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Follow Us"}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-facebook",viewBox:"0 0 16 16",children:x.jsx("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})})}),x.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16",children:x.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})}),x.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-twitter",viewBox:"0 0 16 16",children:x.jsx("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})})})]})]})]}),x.jsxs("div",{className:"border-t border-gray-700 mt-6 pt-6 text-center text-sm text-gray-400",children:[" ",n," Nymph Academy. All rights reserved. ",x.jsx("br",{}),"Managed by Impression - A Unit of VDS SERVICES"]})]})})},W8=()=>x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"bg-blue-500 text-white py-16 px-4",children:x.jsxs("div",{className:"container mx-auto text-center",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Welcome to Nymph Academy"}),x.jsx("p",{className:"text-xl mb-8",children:"Empowering young minds through quality education"}),x.jsx(Cn,{to:"/enrollment",className:"bg-white text-blue-600 px-6 py-3 rounded-md font-medium hover:bg-blue-50 transition duration-300",children:"Enroll Now"})]})}),x.jsx("div",{className:"py-12 bg-white",children:x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose Us?"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"text-center p-6 border border-gray-100 rounded-lg shadow-sm",children:[x.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),x.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Quality Education"}),x.jsx("p",{className:"text-gray-600",children:"Experienced teachers with modern teaching methodology."})]}),x.jsxs("div",{className:"text-center p-6 border border-gray-100 rounded-lg shadow-sm",children:[x.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),x.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Safe Environment"}),x.jsx("p",{className:"text-gray-600",children:"Creating a secure and nurturing learning space for students."})]}),x.jsxs("div",{className:"text-center p-6 border border-gray-100 rounded-lg shadow-sm",children:[x.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),x.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Innovative Approach"}),x.jsx("p",{className:"text-gray-600",children:"Blending traditional values with modern teaching techniques."})]})]})]})}),x.jsx("div",{className:"py-12 bg-gray-50",children:x.jsxs("div",{className:"container mx-auto px-4 text-center",children:[x.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to join Nymph Academy?"}),x.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Secure your child's future with quality education"}),x.jsx(Cn,{to:"/enrollment",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition duration-300",children:"Enroll Now"})]})}),x.jsx(Xl,{})]}),BE="dzwjnirr2",id=async(n,e="nymph_academy_studdent_image_preset")=>{const t=new FormData;t.append("file",n),t.append("upload_preset",e),t.append("cloud_name",BE);try{const r=await fetch(`https://api.cloudinary.com/v1_1/${BE}/image/upload`,{method:"POST",body:t});if(!r.ok){const l=await r.json();throw new Error(l.error?.message||"Upload failed")}const a=await r.json();return{url:a.secure_url,publicId:a.public_id}}catch(r){throw console.error("Error uploading image to Cloudinary:",r),new Error("Failed to upload image: "+r.message)}},K8=async n=>id(n,"nymph_academy_studdent_image_preset"),X8=async n=>id(n,"nymph_academy_payment_image_preset"),Y8=()=>{const n=sl(),[e,t]=re.useState({paymentPrice:"150",paymentQRUrl:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"}),[r,a]=re.useState({fullName:"",email:"",classGrade:"",medium:"",schoolName:"",dateOfBirth:"",gender:"",motherName:"",motherOccupation:"",motherMobile:"",motherEmail:"",fatherName:"",fatherOccupation:"",fatherMobile:"",fatherEmail:"",addressLine1:"",city:"",state:"",pincode:"",numberOfBrothers:"",numberOfSisters:"",photoFile:null}),[l,c]=re.useState({}),[f,h]=re.useState(!1),[d,g]=re.useState(null);re.useEffect(()=>{(async()=>{try{const b=Kr(dn,"settings","website"),H=await Ii(b);if(H.exists()){const q=H.data();t({paymentPrice:q.paymentPrice||"150",paymentQRUrl:q.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"})}}catch(b){console.error("Error fetching website settings:",b)}})()},[]);const y=T=>{const{name:b,value:H}=T.target;a({...r,[b]:H}),l[b]&&c({...l,[b]:""})},_=T=>{const b=T.target.files[0];if(b){if(!["image/jpeg","image/jpg","image/png"].includes(b.type)){c({...l,photoFile:"Only JPG/PNG files are allowed"});return}if(b.size>5*1024*1024){c({...l,photoFile:"File size must be less than 5MB"});return}a({...r,photoFile:b});const q=new FileReader;q.onloadend=()=>{g(q.result)},q.readAsDataURL(b),c({...l,photoFile:""})}},w=()=>{const T={};return r.fullName.trim()||(T.fullName="Student's name is required"),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email.trim())||(T.email="Invalid email format"):T.email="Student's email is required",r.classGrade||(T.classGrade="Class is required"),r.medium||(T.medium="Medium is required"),r.schoolName.trim()||(T.schoolName="Present school name is required"),r.dateOfBirth||(T.dateOfBirth="Date of birth is required"),r.gender||(T.gender="Sex is required"),r.motherName.trim()||(T.motherName="Mother's name is required"),r.motherMobile.trim()?/^[0-9]{10}$/.test(r.motherMobile.trim())||(T.motherMobile="Mobile number must be 10 digits"):T.motherMobile="Mother's mobile number is required",r.motherEmail.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.motherEmail.trim())&&(T.motherEmail="Invalid email format"),r.fatherName.trim()||(T.fatherName="Father's name is required"),r.fatherMobile.trim()?/^[0-9]{10}$/.test(r.fatherMobile.trim())||(T.fatherMobile="Mobile number must be 10 digits"):T.fatherMobile="Father's mobile number is required",r.fatherEmail.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.fatherEmail.trim())&&(T.fatherEmail="Invalid email format"),r.addressLine1.trim()||(T.addressLine1="Address is required"),r.city.trim()||(T.city="City is required"),r.state.trim()||(T.state="State is required"),r.pincode.trim()?/^[0-9]{6}$/.test(r.pincode.trim())||(T.pincode="PIN code must be 6 digits"):T.pincode="PIN code is required",r.photoFile||(T.photoFile="Student photo is required"),c(T),Object.keys(T).length===0},R=async T=>{if(T.preventDefault(),!!w()){h(!0);try{const b=await K8(r.photoFile),H=Kr(Ba(dn,"students")),q=H.id,B={id:q,fullName:r.fullName,email:r.email,classGrade:r.classGrade,medium:r.medium,schoolName:r.schoolName,dateOfBirth:r.dateOfBirth,gender:r.gender,motherName:r.motherName,motherOccupation:r.motherOccupation,motherMobile:r.motherMobile,motherEmail:r.motherEmail,fatherName:r.fatherName,fatherOccupation:r.fatherOccupation,fatherMobile:r.fatherMobile,fatherEmail:r.fatherEmail,addressLine1:r.addressLine1,city:r.city,state:r.state,pincode:r.pincode,numberOfBrothers:r.numberOfBrothers,numberOfSisters:r.numberOfSisters,photoURL:b.url,photoPublicId:b.publicId,enrollmentDate:new Date,paymentStatus:"pending"};await Df(H,B),console.log("Document created with ID:",q),n(`/payment/${q}`)}catch(b){console.error("Error submitting form:",b),c({...l,submit:"An error occurred. Please try again."})}finally{h(!1)}}};return x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"bg-blue-500 text-white py-10 px-4",children:x.jsxs("div",{className:"container mx-auto text-center",children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Welcome to Nymph Academy"}),x.jsxs("p",{className:"text-lg",children:["Enroll today for ",e.paymentPrice," fee. Secure and easy process."]})]})}),x.jsx("div",{className:"flex-grow container mx-auto py-8 px-4",children:x.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Nymph Academy Scholarship Exam Enrollment"}),l.submit&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l.submit}),x.jsxs("form",{onSubmit:R,className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow-sm",children:[x.jsxs("h3",{className:"text-lg font-bold text-blue-700 mb-4 border-b pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"1"}),"Student Information"]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Student's Name *"}),x.jsx("input",{type:"text",id:"fullName",name:"fullName",value:r.fullName,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.fullName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter student's name as per school records"}),l.fullName&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.fullName})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Email *"}),x.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.email?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter student's email"}),l.email&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth * (YYYY-MM-DD)"}),x.jsx("input",{type:"text",pattern:"\\d{4}-\\d{2}-\\d{2}",placeholder:"YYYY-MM-DD",onFocus:T=>T.target.type="date",onBlur:T=>T.target.type="text",id:"dateOfBirth",name:"dateOfBirth",value:r.dateOfBirth,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.dateOfBirth?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`}),l.dateOfBirth&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.dateOfBirth})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"classGrade",className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),x.jsxs("select",{id:"classGrade",name:"classGrade",value:r.classGrade,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.classGrade?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,children:[x.jsx("option",{value:"",children:"Select Class"}),x.jsx("option",{value:"1",children:"Class 1"}),x.jsx("option",{value:"2",children:"Class 2"}),x.jsx("option",{value:"3",children:"Class 3"}),x.jsx("option",{value:"4",children:"Class 4"}),x.jsx("option",{value:"5",children:"Class 5"}),x.jsx("option",{value:"6",children:"Class 6"}),x.jsx("option",{value:"7",children:"Class 7"}),x.jsx("option",{value:"8",children:"Class 8"}),x.jsx("option",{value:"9",children:"Class 9"}),x.jsx("option",{value:"10",children:"Class 10"}),x.jsx("option",{value:"11",children:"Class 11"}),x.jsx("option",{value:"12",children:"Class 12"})]}),l.classGrade&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.classGrade})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"medium",className:"block text-sm font-medium text-gray-700 mb-1",children:"Medium *"}),x.jsxs("select",{id:"medium",name:"medium",value:r.medium,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.medium?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,children:[x.jsx("option",{value:"",children:"Select Medium"}),x.jsx("option",{value:"english",children:"English"}),x.jsx("option",{value:"hindi",children:"Hindi"}),x.jsx("option",{value:"other",children:"Other"})]}),l.medium&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.medium})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),x.jsxs("select",{id:"gender",name:"gender",value:r.gender,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.gender?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,children:[x.jsx("option",{value:"",children:"Select"}),x.jsx("option",{value:"male",children:"Male"}),x.jsx("option",{value:"female",children:"Female"}),x.jsx("option",{value:"other",children:"Other"})]}),l.gender&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.gender})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{htmlFor:"schoolName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Present School *"}),x.jsx("input",{type:"text",id:"schoolName",name:"schoolName",value:r.schoolName,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.schoolName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter present school name"}),l.schoolName&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.schoolName})]}),x.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-8 mb-4 border-b pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"2"}),"Mother Information"]}),x.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"motherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name *"}),x.jsx("input",{type:"text",id:"motherName",name:"motherName",value:r.motherName,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.motherName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter mother's name"}),l.motherName&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.motherName})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"motherOccupation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Occupation"}),x.jsx("input",{type:"text",id:"motherOccupation",name:"motherOccupation",value:r.motherOccupation,onChange:y,className:"w-full px-4 py-2 border rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter mother's occupation"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"motherEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Email"}),x.jsx("input",{type:"email",id:"motherEmail",name:"motherEmail",value:r.motherEmail,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.motherEmail?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter mother's email"}),l.motherEmail&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.motherEmail})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"motherMobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Mobile *"}),x.jsx("input",{type:"text",id:"motherMobile",name:"motherMobile",value:r.motherMobile,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.motherMobile?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter mother's mobile number"}),l.motherMobile&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.motherMobile})]})})]}),x.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"3"}),"Father Information"]}),x.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mt-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name *"}),x.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:r.fatherName,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.fatherName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter father's name"}),l.fatherName&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.fatherName})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"fatherOccupation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Occupation"}),x.jsx("input",{type:"text",id:"fatherOccupation",name:"fatherOccupation",value:r.fatherOccupation,onChange:y,className:"w-full px-4 py-2 border rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter father's occupation"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"fatherEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Email"}),x.jsx("input",{type:"email",id:"fatherEmail",name:"fatherEmail",value:r.fatherEmail,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.fatherEmail?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter father's email"}),l.fatherEmail&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.fatherEmail})]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"fatherMobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Mobile *"}),x.jsx("input",{type:"text",id:"fatherMobile",name:"fatherMobile",value:r.fatherMobile,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.fatherMobile?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter father's mobile number"}),l.fatherMobile&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.fatherMobile})]})})]}),x.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"4"}),"Residential Address"]}),x.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),x.jsx("textarea",{id:"addressLine1",name:"addressLine1",value:r.addressLine1,onChange:y,rows:"2",className:`w-full px-4 py-2 border rounded-md ${l.addressLine1?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter your address"}),l.addressLine1&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.addressLine1})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),x.jsx("input",{type:"text",id:"city",name:"city",value:r.city,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.city?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter your city"}),l.city&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.city})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),x.jsx("input",{type:"text",id:"state",name:"state",value:r.state,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.state?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter your state"}),l.state&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.state})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code *"}),x.jsx("input",{type:"text",id:"pincode",name:"pincode",value:r.pincode,onChange:y,className:`w-full px-4 py-2 border rounded-md ${l.pincode?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter 6-digit PIN code"}),l.pincode&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.pincode})]})]})]}),x.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"5"}),"Siblings"]}),x.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"numberOfBrothers",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Brothers"}),x.jsx("input",{type:"number",id:"numberOfBrothers",name:"numberOfBrothers",min:"0",value:r.numberOfBrothers,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter number of brothers"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"numberOfSisters",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Sisters"}),x.jsx("input",{type:"number",id:"numberOfSisters",name:"numberOfSisters",min:"0",value:r.numberOfSisters,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter number of sisters"})]})]})}),x.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"6"}),"Photo Upload"]}),x.jsxs("div",{className:"mb-6 bg-white p-4 rounded-lg border border-gray-200",children:[x.jsx("label",{htmlFor:"photoFile",className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Photo * (JPG/PNG, Max 5MB)"}),x.jsxs("div",{className:"flex items-center",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("input",{type:"file",id:"photoFile",name:"photoFile",onChange:_,accept:".jpg,.jpeg,.png",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"}),l.photoFile&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.photoFile})]}),d&&x.jsx("div",{className:"ml-4",children:x.jsx("img",{src:d,alt:"Preview",className:"h-32 w-auto object-cover rounded-md border-2 border-gray-300"})})]}),x.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Upload a recent passport-sized photograph of the student with a clear face."})]}),x.jsxs("div",{className:"mt-6",children:[x.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition duration-300 disabled:opacity-50 text-lg font-semibold shadow-md",children:f?x.jsxs("span",{className:"flex items-center justify-center",children:[x.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Proceed to Payment (${e.paymentPrice})`}),x.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:"By submitting this form, you agree to our terms and conditions"})]})]})]})}),x.jsx(Xl,{})]})},$8=async(n,e,t="nymph-academy-roll-number")=>{try{const r="https://services.theerrors.in",a="57526817c90c638472874053e333b13a3cd2650df2c4da98c98bd07b7c5c4625",l=`${r}/api/services/email/send`,h=await(await fetch(l,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":a},body:JSON.stringify({templateName:t,to:n,data:e})})).json();if(!h.success)throw new Error(h.message||"Failed to send email");return h}catch(r){throw console.error("Error sending email:",r),r}},Q8=()=>{const{studentId:n}=r1(),e=sl(),[t,r]=re.useState(null),[a,l]=re.useState(null),[c,f]=re.useState(!1),[h,d]=re.useState({}),[g,y]=re.useState(!0),[_,w]=re.useState(null),[R,T]=re.useState({paymentPrice:"150",paymentQRUrl:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"});re.useEffect(()=>{(async()=>{if(!n){e("/enrollment");return}try{const N=Kr(dn,"students",n),I=await Ii(N);if(!I.exists()){e("/enrollment");return}r({id:I.id,...I.data()});const C=Kr(dn,"settings","website"),F=await Ii(C);if(F.exists()){const M=F.data();T({paymentPrice:M.paymentPrice||"150",paymentQRUrl:M.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"})}}catch(N){console.error("Error fetching data:",N),d({...h,fetch:"Failed to load data. Please try again."})}finally{y(!1)}})()},[n,e]);const b=ne=>{const N=ne.target.files[0];if(N){if(!["image/jpeg","image/jpg","image/png"].includes(N.type)){d({...h,paymentFile:"Only JPG/PNG files are allowed"});return}if(N.size>5*1024*1024){d({...h,paymentFile:"File size must be less than 5MB"});return}l(N);const C=new FileReader;C.onloadend=()=>{w(C.result)},C.readAsDataURL(N),d({...h,paymentFile:""})}},H=async ne=>{try{const N=Ba(dn,"students"),I=`1${ne}`,C=Vl(N,Hl("rollNumber",">=",I),Hl("rollNumber","<",I+"")),F=await ff(C);if(F.empty)return 0;let M=0;return F.forEach(G=>{const U=G.data().rollNumber;if(U&&U.startsWith(I)){const We=parseInt(U.substring(I.length),10);!isNaN(We)&&We>M&&(M=We)}}),M}catch(N){return console.error("Error finding highest roll number:",N),0}},q=async ne=>{try{const N=Ba(dn,"students"),I=Vl(N,Hl("rollNumber","==",ne),eO(1));return!(await ff(I)).empty}catch(N){return console.error("Error checking for roll number:",N),!0}},B=async ne=>{try{const N=Kr(dn,"rollNumberCounters",`class${ne}`),I=await Ii(N);let C=0;if(I.exists())C=I.data().lastRollNumber;else{console.log(`Initializing counter for class ${ne}...`);const We=await H(ne);C=We,console.log(`Found highest existing roll number for class ${ne}: ${We}`)}const F=C+1,M=String(F).padStart(3,"0");let G="";return ne<10?G=`1${ne}${M}`:G=`2${ne-10}${M}`,await q(G)?(console.warn(`Roll number ${G} already exists. Trying next number.`),B(ne)):(await Df(N,{lastRollNumber:F,lastUpdated:new Date}),G)}catch(N){throw console.error("Error generating roll number:",N),new Error("Failed to generate roll number")}},X=async ne=>{try{if(!ne.email){console.warn("No email address provided for student");return}const N=ne.enrollmentDate?ne.enrollmentDate.toDate().toLocaleDateString():new Date().toLocaleDateString(),I=ne.paymentDate?ne.paymentDate.toDate().toLocaleDateString():new Date().toLocaleDateString(),C={studentName:ne.fullName,rollNumber:ne.rollNumber,classGrade:ne.classGrade,schoolName:ne.schoolName,enrollmentDate:N,paymentDate:I,currentYear:new Date().getFullYear()},F=await $8(ne.email,C,"nymph-academy-roll-number");return console.log("Email sent successfully:",F),F}catch(N){console.error("Error sending enrollment confirmation email:",N)}},he=async ne=>{if(ne.preventDefault(),!a){d({...h,paymentFile:"Payment screenshot is required"});return}f(!0);try{const N=await X8(a),I=await B(t.classGrade),C=Kr(dn,"students",n);await aO(C,{paymentStatus:"completed",paymentScreenshotURL:N.url,paymentScreenshotPublicId:N.publicId,paymentDate:new Date,rollNumber:I});const F=await Ii(C),M={id:F.id,...F.data()};try{await X(M)}catch(G){console.error("Email sending failed, but payment was processed:",G)}e(`/confirmation/${n}`)}catch(N){console.error("Error submitting payment:",N),d({...h,submit:"An error occurred. Please try again."})}finally{f(!1)}};return g?x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"flex-grow flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}),x.jsx(Xl,{})]}):x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"flex-grow container mx-auto py-8 px-4",children:x.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md",children:[x.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Nymph Academy Payment"}),h.fetch&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h.fetch}),h.submit&&x.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h.submit}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Student Information"}),x.jsxs("p",{className:"text-gray-600",children:["Student's Name: ",t?.fullName]}),x.jsxs("p",{className:"text-gray-600",children:["Class: ",t?.classGrade]}),x.jsxs("p",{className:"text-gray-600",children:["School: ",t?.schoolName]}),x.jsxs("p",{className:"text-gray-600",children:["Email: ",t?.email]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Payment Details"}),x.jsxs("p",{className:"text-gray-600 mb-4",children:["Fee: ",R.paymentPrice]}),x.jsx("div",{className:"flex justify-center mb-4",children:x.jsx("div",{className:"border border-gray-300 rounded-md p-4 bg-gray-50",children:x.jsx("img",{src:R.paymentQRUrl,alt:"Payment QR Code",className:"h-64 w-64 object-contain"})})}),x.jsxs("p",{className:"text-sm text-gray-500 mb-4 text-center",children:["Scan the QR code above to make your payment of ",R.paymentPrice]})]}),x.jsxs("form",{onSubmit:he,children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{htmlFor:"paymentFile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Payment Screenshot * (JPG/PNG, Max 5MB)"}),x.jsx("input",{type:"file",id:"paymentFile",name:"paymentFile",onChange:b,accept:".jpg,.jpeg,.png",className:"w-full"}),h.paymentFile&&x.jsx("p",{className:"mt-1 text-sm text-red-500",children:h.paymentFile}),_&&x.jsx("div",{className:"mt-2",children:x.jsx("img",{src:_,alt:"Payment Screenshot Preview",className:"h-32 w-auto object-cover rounded-md"})})]}),x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded mb-6",children:x.jsxs("p",{className:"text-sm",children:[x.jsx("strong",{children:"Warning:"})," Students are strictly required to upload the correct and valid payment receipt after making the payment. In case it is found that the payment has not been completed and/or an invalid or false document has been uploaded, Nymph Academy reserves the sole right to nullify the registration and cancel the roll number issued against it. Such students will not be permitted to appear for the test under any circumstances."]})}),x.jsx("button",{type:"submit",disabled:c,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-300 disabled:opacity-50",children:c?"Processing Payment...":"Confirm Payment"})]})]})}),x.jsx(Xl,{})]})},J8=()=>{const{studentId:n}=r1(),e=sl(),[t,r]=re.useState(null),[a,l]=re.useState(!0),[c,f]=re.useState(null);re.useEffect(()=>{(async()=>{if(!n){e("/enrollment");return}try{const y=Kr(dn,"students",n),_=await Ii(y);if(!_.exists()||!_.data().rollNumber){e("/enrollment");return}r({id:_.id,..._.data()})}catch(y){console.error("Error fetching student data:",y),f("Failed to load enrollment data. Please contact the academy.")}finally{l(!1)}})()},[n,e]);const h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",d=()=>{const g=document.title;document.title=`Nymph Academy - Enrollment Confirmation (${t?.rollNumber||""})`;const y=document.getElementById("confirmation-card"),_=document.body.innerHTML;y&&(document.body.innerHTML=y.outerHTML,window.print(),document.body.innerHTML=_),document.title=g,window.location.reload()};return a?x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"flex-grow flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto"}),x.jsx("p",{className:"mt-4 text-gray-600",children:"Loading enrollment details..."})]})}),x.jsx(Xl,{})]}):c?x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"flex-grow flex items-center justify-center",children:x.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-6 rounded-lg shadow-md max-w-md",children:[x.jsxs("div",{className:"flex items-center mb-3",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),x.jsx("h3",{className:"font-bold",children:"Error"})]}),x.jsx("p",{children:c}),x.jsx("div",{className:"mt-4",children:x.jsx("button",{onClick:()=>e("/enrollment"),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-300",children:"Return to Enrollment"})})]})}),x.jsx(Xl,{})]}):x.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[x.jsx(Kl,{}),x.jsx("div",{className:"flex-grow container mx-auto py-8 px-4",children:x.jsxs("div",{id:"confirmation-card",className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg",children:[x.jsxs("div",{className:"border-b border-green-500 pb-4 mb-6 relative",children:[x.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mt-4",children:"Nymph Academy Enrollment Confirmation"}),x.jsx("div",{className:"mt-3 bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-lg text-center print:hidden",children:x.jsx("p",{className:"text-lg",children:"Congratulations! Your enrollment is complete."})})]}),x.jsxs("div",{className:"mb-8 text-center",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-3",children:"Roll Number"}),x.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 text-blue-800 px-6 py-4 rounded-lg inline-block shadow-sm",children:x.jsx("span",{className:"text-3xl font-mono font-bold tracking-wider",children:t?.rollNumber})})]}),x.jsxs("div",{className:"mb-8",children:[x.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-6 border-b-2 border-blue-100 pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"1"}),"Student Information"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 h-full",children:[x.jsxs("h3",{className:"text-md font-semibold text-blue-700 mb-3 pb-2 border-b border-blue-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student Details"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),x.jsx("span",{className:"text-gray-900 font-semibold",children:t?.fullName})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Email:"}),x.jsx("span",{className:"text-gray-900",children:t?.email})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Class:"}),x.jsxs("span",{className:"text-gray-900",children:["Class ",t?.classGrade]})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Medium:"}),x.jsx("span",{className:"text-gray-900 capitalize",children:t?.medium})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"School:"}),x.jsx("span",{className:"text-gray-900",children:t?.schoolName})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"DOB:"}),x.jsx("span",{className:"text-gray-900",children:t?.dateOfBirth})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Sex:"}),x.jsx("span",{className:"text-gray-900 capitalize",children:t?.gender})]})]})]}),x.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100 h-full",children:[x.jsxs("h3",{className:"text-md font-semibold text-purple-700 mb-3 pb-2 border-b border-purple-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Mother Information"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),x.jsx("span",{className:"text-gray-900",children:t?.motherName})]}),t?.motherOccupation&&x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Occupation:"}),x.jsx("span",{className:"text-gray-900",children:t?.motherOccupation})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Mobile:"}),x.jsx("span",{className:"text-gray-900",children:t?.motherMobile})]}),t?.motherEmail&&x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Email:"}),x.jsx("span",{className:"text-gray-900",children:t?.motherEmail})]})]})]}),x.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-100 h-full",children:[x.jsxs("h3",{className:"text-md font-semibold text-cyan-700 mb-3 pb-2 border-b border-cyan-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Father Information"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),x.jsx("span",{className:"text-gray-900",children:t?.fatherName})]}),t?.fatherOccupation&&x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Occupation:"}),x.jsx("span",{className:"text-gray-900",children:t?.fatherOccupation})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Mobile:"}),x.jsx("span",{className:"text-gray-900",children:t?.fatherMobile})]}),t?.fatherEmail&&x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Email:"}),x.jsx("span",{className:"text-gray-900",children:t?.fatherEmail})]})]})]}),x.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-100 h-full",children:[x.jsxs("h3",{className:"text-md font-semibold text-emerald-700 mb-3 pb-2 border-b border-emerald-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Residential Address"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Address:"}),x.jsx("span",{className:"text-gray-900",children:t?.addressLine1})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"City:"}),x.jsx("span",{className:"text-gray-900",children:t?.city})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"State:"}),x.jsx("span",{className:"text-gray-900",children:t?.state})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"PIN:"}),x.jsx("span",{className:"text-gray-900",children:t?.pincode})]})]})]}),x.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-100 h-full",children:[x.jsxs("h3",{className:"text-md font-semibold text-amber-700 mb-3 pb-2 border-b border-amber-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Siblings"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Brothers:"}),x.jsx("span",{className:"text-gray-900",children:t?.numberOfBrothers||"0"})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Sisters:"}),x.jsx("span",{className:"text-gray-900",children:t?.numberOfSisters||"0"})]})]})]}),x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 h-full",children:[x.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Enrollment Details"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Enrolled:"}),x.jsx("span",{className:"text-gray-900",children:h(t?.enrollmentDate)})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Paid on:"}),x.jsx("span",{className:"text-gray-900",children:h(t?.paymentDate)})]}),x.jsxs("div",{className:"flex",children:[x.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Status:"}),x.jsx("span",{className:"text-green-600 font-medium",children:"Completed"})]})]})]})]})]}),x.jsxs("div",{className:"mt-10",children:[x.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-6 border-b-2 border-blue-100 pb-2 flex items-center",children:[x.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"2"}),"Uploaded Documents"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[x.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Student Photo"]}),x.jsx("div",{className:"mt-2 flex justify-center",children:t?.photoURL?x.jsx("img",{src:t.photoURL,alt:"Student",className:"h-48 w-auto object-cover rounded-lg shadow-sm border-2 border-gray-200"}):x.jsx("div",{className:"bg-gray-100 h-48 w-36 rounded-lg flex items-center justify-center",children:x.jsx("p",{className:"text-gray-500",children:"No photo available"})})})]}),x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[x.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Payment Screenshot"]}),x.jsx("div",{className:"mt-2 flex justify-center",children:t?.paymentScreenshotURL?x.jsx("img",{src:t.paymentScreenshotURL,alt:"Payment Screenshot",className:"h-48 w-auto object-cover rounded-lg shadow-sm border-2 border-gray-200"}):x.jsx("div",{className:"bg-gray-100 h-48 w-full rounded-lg flex items-center justify-center",children:x.jsx("p",{className:"text-gray-500",children:"No screenshot available"})})})]})]})]}),x.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200 text-center print:hidden",children:[x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:x.jsxs("p",{className:"text-blue-800 flex items-center justify-center",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Please save this information for your records. A confirmation email has been sent to your registered email address."]})}),x.jsxs("button",{onClick:d,className:"mt-4 bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 transition duration-300 font-semibold flex items-center mx-auto",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Confirmation"]})]})]})}),x.jsx(Xl,{})]})},Z8=()=>{const{currentUser:n}=co(),e=di(),t=[{name:"Dashboard",path:"/admin"},{name:"Students",path:"/admin/students"},{name:"Website Settings",path:"/admin/settings"}];return x.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-gray-800 h-screen",children:[x.jsx("div",{className:"h-16 flex items-center justify-center bg-gray-900",children:x.jsx("h1",{className:"text-white font-bold text-xl",children:"Admin Panel"})}),n&&x.jsx("div",{className:"p-4 border-b border-gray-700",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-white font-semibold",children:n.displayName?n.displayName.charAt(0):n.email.charAt(0)}),x.jsxs("div",{className:"ml-3",children:[x.jsx("p",{className:"text-white text-sm font-medium truncate",children:n.displayName||n.email}),x.jsx("p",{className:"text-gray-400 text-xs",children:"Admin"})]})]})}),x.jsx("nav",{className:"mt-5 px-2 flex-1",children:t.map(r=>{const a=e.pathname===r.path;return x.jsx(Cn,{to:r.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md mb-1 ${a?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:r.name},r.name)})}),x.jsx("div",{className:"p-4 border-t border-gray-700",children:x.jsx(Cn,{to:"/",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-300 hover:bg-gray-700 hover:text-white",children:"Back to Website"})})]})},ek=({toggleSidebar:n})=>{const{currentUser:e,signOut:t}=co(),[r,a]=re.useState(!1),l=()=>{a(!r)};return x.jsxs("header",{className:"bg-white border-b flex justify-between items-center h-16 px-6",children:[x.jsx("button",{className:"md:hidden text-gray-500 hover:text-gray-600",onClick:n,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsx("div",{className:"md:hidden",children:x.jsx("h1",{className:"text-gray-800 font-bold",children:"Admin Panel"})}),x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:l,className:"flex items-center space-x-2 focus:outline-none",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e?.photoURL?x.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):x.jsx("span",{className:"text-gray-700 font-semibold",children:e?.displayName?.charAt(0)||e?.email?.charAt(0)||"A"})}),x.jsx("span",{className:"hidden md:inline text-gray-700",children:e?.displayName||e?.email||"Admin"}),x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&x.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[x.jsx("a",{href:"/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"View Website"}),x.jsx("button",{onClick:t,className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})]})]})},tk=({isOpen:n,toggleSidebar:e})=>{const{currentUser:t}=co(),r=di(),a=[{name:"Dashboard",path:"/admin"},{name:"Students",path:"/admin/students"},{name:"Website Settings",path:"/admin/settings"}];return n?x.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:e,"aria-hidden":"true"}),x.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-gray-800",children:[x.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:x.jsxs("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:e,children:[x.jsx("span",{className:"sr-only",children:"Close sidebar"}),x.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),x.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[x.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:x.jsx("h1",{className:"text-white font-bold text-xl",children:"Admin Panel"})}),t&&x.jsx("div",{className:"px-4 py-4 border-b border-gray-700",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-white font-semibold",children:t.displayName?t.displayName.charAt(0):t.email.charAt(0)}),x.jsxs("div",{className:"ml-3",children:[x.jsx("p",{className:"text-white text-sm font-medium truncate",children:t.displayName||t.email}),x.jsx("p",{className:"text-gray-400 text-xs",children:"Admin"})]})]})}),x.jsx("nav",{className:"mt-5 px-2",children:a.map(l=>{const c=r.pathname===l.path;return x.jsx(Cn,{to:l.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md mb-1 ${c?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:e,children:l.name},l.name)})})]}),x.jsx("div",{className:"p-4 border-t border-gray-700",children:x.jsx(Cn,{to:"/",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-300 hover:bg-gray-700 hover:text-white",onClick:e,children:"Back to Website"})})]}),x.jsx("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]}):null},Wa=({children:n})=>{const{isAdmin:e}=co(),[t,r]=re.useState(!1),a=()=>{r(!t)};return x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[x.jsx(Z8,{}),x.jsx(tk,{isOpen:t,toggleSidebar:a}),x.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[x.jsx(ek,{toggleSidebar:a}),x.jsx("main",{className:"flex-1 overflow-auto p-6",children:e?n:x.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:[x.jsx("p",{className:"font-bold",children:"Access Denied"}),x.jsx("p",{children:"You do not have permission to access this page."})]})})]})]})},nk=()=>{const[n,e]=re.useState({totalStudents:0,registeredToday:0,paymentCompleted:0,paymentPending:0}),[t,r]=re.useState(!0);return re.useEffect(()=>{(async()=>{try{const l=Ba(dn,"students"),f=(await lO(l)).data().count,h=new Date;h.setHours(0,0,0,0);const d=await ff(l);let g=0,y=0,_=0;d.forEach(w=>{const R=w.data();R.registrationDate&&new Date(R.registrationDate.toDate()).setHours(0,0,0,0)===h.getTime()&&g++,R.paymentStatus==="completed"?y++:_++}),e({totalStudents:f,registeredToday:g,paymentCompleted:y,paymentPending:_})}catch(l){console.error("Error fetching dashboard stats:",l)}finally{r(!1)}})()},[]),t?x.jsx(Wa,{children:x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})}):x.jsx(Wa,{children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[x.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:x.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Students"}),x.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:n.totalStudents})]})]})}),x.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:x.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Registered Today"}),x.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:n.registeredToday})]})]})}),x.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:x.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Completed"}),x.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:n.paymentCompleted})]})]})}),x.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:x.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Pending"}),x.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:n.paymentPending})]})]})})]}),x.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[x.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"Quick Actions"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[x.jsxs("a",{href:"/admin/students",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300",children:[x.jsx("div",{className:"p-2 rounded-md bg-blue-100 text-blue-600 mr-3",children:x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:"Manage Students"}),x.jsx("p",{className:"text-sm text-gray-600",children:"View and search student records"})]})]}),x.jsxs("a",{href:"/admin/settings",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300",children:[x.jsx("div",{className:"p-2 rounded-md bg-green-100 text-green-600 mr-3",children:x.jsxs("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:"Website Settings"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Update payment QR code and fees"})]})]})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ad={};ad.version="0.18.5";var pA=1252,rk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],gA=function(n){rk.indexOf(n)!=-1&&(pA=n)};function ik(){gA(1252)}var df=function(n){gA(n)};function ak(){df(1200),ik()}var d0=function(e){return String.fromCharCode(e)},zE=function(e){return String.fromCharCode(e)},sd,Gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mf(n){for(var e="",t=0,r=0,a=0,l=0,c=0,f=0,h=0,d=0;d<n.length;)t=n.charCodeAt(d++),l=t>>2,r=n.charCodeAt(d++),c=(t&3)<<4|r>>4,a=n.charCodeAt(d++),f=(r&15)<<2|a>>6,h=a&63,isNaN(r)?f=h=64:isNaN(a)&&(h=64),e+=Gs.charAt(l)+Gs.charAt(c)+Gs.charAt(f)+Gs.charAt(h);return e}function ts(n){var e="",t=0,r=0,a=0,l=0,c=0,f=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)l=Gs.indexOf(n.charAt(d++)),c=Gs.indexOf(n.charAt(d++)),t=l<<2|c>>4,e+=String.fromCharCode(t),f=Gs.indexOf(n.charAt(d++)),r=(c&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(r)),h=Gs.indexOf(n.charAt(d++)),a=(f&3)<<6|h,h!==64&&(e+=String.fromCharCode(a));return e}var St=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),rs=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function to(n){return St?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function HE(n){return St?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Ci=function(e){return St?rs(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Gd(n){if(typeof ArrayBuffer>"u")return Ci(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function Pf(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function sk(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var Xn=St?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:rs(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),a=0;for(e=0,t=0;e<n.length;t+=a,++e)if(a=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function lk(n){for(var e=[],t=0,r=n.length+250,a=to(n.length+255),l=0;l<n.length;++l){var c=n.charCodeAt(l);if(c<128)a[t++]=c;else if(c<2048)a[t++]=192|c>>6&31,a[t++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var f=n.charCodeAt(++l)&1023;a[t++]=240|c>>8&7,a[t++]=128|c>>2&63,a[t++]=128|f>>6&15|(c&3)<<4,a[t++]=128|f&63}else a[t++]=224|c>>12&15,a[t++]=128|c>>6&63,a[t++]=128|c&63;t>r&&(e.push(a.slice(0,t)),t=0,a=to(65535),r=65530)}return e.push(a.slice(0,t)),Xn(e)}var $u=/\u0000/g,m0=/[\u0001-\u0006]/g;function pc(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function ki(n,e){var t=""+n;return t.length>=e?t:ln("0",e-t.length)+t}function lv(n,e){var t=""+n;return t.length>=e?t:ln(" ",e-t.length)+t}function ld(n,e){var t=""+n;return t.length>=e?t:t+ln(" ",e-t.length)}function ok(n,e){var t=""+Math.round(n);return t.length>=e?t:ln("0",e-t.length)+t}function ck(n,e){var t=""+n;return t.length>=e?t:ln("0",e-t.length)+t}var GE=Math.pow(2,32);function nc(n,e){if(n>GE||n<-GE)return ok(n,e);var t=Math.round(n);return ck(t,e)}function od(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var qE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],hg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function uk(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var on={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},WE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fk={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cd(n,e,t){for(var r=n<0?-1:1,a=n*r,l=0,c=1,f=0,h=1,d=0,g=0,y=Math.floor(a);d<e&&(y=Math.floor(a),f=y*c+l,g=y*d+h,!(a-y<5e-8));)a=1/(a-y),l=c,c=f,h=d,d=g;if(g>e&&(d>e?(g=h,f=l):(g=d,f=c)),!t)return[0,r*f,g];var _=Math.floor(r*f/g);return[_,r*f-_*g,g]}function p0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,a=Math.floor(86400*(n-r)),l=0,c=[],f={D:r,T:a,u:86400*(n-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(r+=1462),f.u>.9999&&(f.u=0,++a==86400&&(f.T=a=0,++r,++f.D)),r===60)c=t?[1317,10,29]:[1900,2,29],l=3;else if(r===0)c=t?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],l=h.getDay(),r<60&&(l=(l+6)%7),t&&(l=xk(h,c))}return f.y=c[0],f.m=c[1],f.d=c[2],f.S=a%60,a=Math.floor(a/60),f.M=a%60,a=Math.floor(a/60),f.H=a,f.q=l,f}var vA=new Date(1899,11,31,0,0,0),hk=vA.getTime(),dk=new Date(1900,2,1,0,0,0);function xA(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=dk&&(t+=1440*60*1e3),(t-(hk+(n.getTimezoneOffset()-vA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ov(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mk(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function pk(n){var e=n<0?12:11,t=ov(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function gk(n){var e=ov(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function vk(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=pk(n):e===10?t=n.toFixed(10).substr(0,12):t=gk(n),ov(mk(t.toUpperCase()))}function Yg(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):vk(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return rl(14,xA(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function xk(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function yk(n,e,t,r){var a="",l=0,c=0,f=t.y,h,d=0;switch(n){case 98:f=t.y+543;case 121:switch(e.length){case 1:case 2:h=f%100,d=2;break;default:h=f%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,d=e.length;break;case 3:return hg[t.m-1][1];case 5:return hg[t.m-1][0];default:return hg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,d=e.length;break;case 3:return qE[t.q][0];default:return qE[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ki(t.S,e.length):(r>=2?c=r===3?1e3:100:c=r===1?10:1,l=Math.round(c*(t.S+t.u)),l>=60*c&&(l=0),e==="s"?l===0?"0":""+l/c:(a=ki(l,2+r),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=f,d=1;break}var g=d>0?ki(h,d):"";return g}function qs(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var yA=/%/g;function _k(n,e,t){var r=e.replace(yA,""),a=e.length-r.length;return Ka(n,r,t*Math.pow(10,2*a))+ln("%",a)}function Ek(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ka(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function _A(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_A(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%a;if(l<0&&(l+=a),t=(e/Math.pow(10,l)).toPrecision(r+1+(a+l)%a),t.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+l):t+="E+"+(c-l);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,d,g){return h+d+g.substr(0,(a+l)%a)+"."+g.substr(l)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var EA=/# (\?+)( ?)\/( ?)(\d+)/;function Tk(n,e,t){var r=parseInt(n[4],10),a=Math.round(e*r),l=Math.floor(a/r),c=a-l*r,f=r;return t+(l===0?"":""+l)+" "+(c===0?ln(" ",n[1].length+1+n[4].length):lv(c,n[1].length)+n[2]+"/"+n[3]+ki(f,n[4].length))}function wk(n,e,t){return t+(e===0?"":""+e)+ln(" ",n[1].length+2+n[4].length)}var TA=/^#*0*\.([0#]+)/,wA=/\).*[0#]/,SA=/\(###\) ###\\?-####/;function pr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function KE(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function XE(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function Sk(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function Ak(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function ci(n,e,t){if(n.charCodeAt(0)===40&&!e.match(wA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ci("n",r,t):"("+ci("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Ek(n,e,t);if(e.indexOf("%")!==-1)return _k(n,e,t);if(e.indexOf("E")!==-1)return _A(e,t);if(e.charCodeAt(0)===36)return"$"+ci(n,e.substr(e.charAt(1)==" "?2:1),t);var a,l,c,f,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+nc(h,e.length);if(e.match(/^[#?]+$/))return a=nc(t,0),a==="0"&&(a=""),a.length>e.length?a:pr(e.substr(0,e.length-a.length))+a;if(l=e.match(EA))return Tk(l,h,d);if(e.match(/^#+0+$/))return d+nc(h,e.length-e.indexOf("0"));if(l=e.match(TA))return a=KE(t,l[1].length).replace(/^([^\.]+)$/,"$1."+pr(l[1])).replace(/\.$/,"."+pr(l[1])).replace(/\.(\d*)$/,function(R,T){return"."+T+ln("0",pr(l[1]).length-T.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return d+KE(h,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return d+qs(nc(h,0));if(l=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ci(n,e,-t):qs(""+(Math.floor(t)+Sk(t,l[1].length)))+"."+ki(XE(t,l[1].length),l[1].length);if(l=e.match(/^#,#*,#0/))return ci(n,e.replace(/^#,#*,/,""),t);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=pc(ci(n,e.replace(/[\\-]/g,""),t)),c=0,pc(pc(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return c<a.length?a.charAt(c++):R==="0"?"0":""}));if(e.match(SA))return a=ci(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(l[4].length,7),f=cd(h,Math.pow(10,c)-1,!1),a=""+d,g=Ka("n",l[1],f[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+l[2]+"/"+l[3],g=ld(f[2],c),g.length<l[4].length&&(g=pr(l[4].substr(l[4].length-g.length))+g),a+=g,a;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(l[1].length,l[4].length),7),f=cd(h,Math.pow(10,c)-1,!0),d+(f[0]||(f[1]?"":"0"))+" "+(f[1]?lv(f[1],c)+l[2]+"/"+l[3]+ld(f[2],c):ln(" ",2*c+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return a=nc(t,0),e.length<=a.length?a:pr(e.substr(0,e.length-a.length))+a;if(l=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var y=e.indexOf(".")-c,_=e.length-a.length-y;return pr(e.substr(0,y)+a+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return c=XE(t,l[1].length),t<0?"-"+ci(n,e,-t):qs(Ak(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?ki(0,3-R.length):"")+R})+"."+ki(c,l[1].length);switch(e){case"###,##0.00":return ci(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=qs(nc(h,0));return w!=="0"?d+w:"";case"###,###.00":return ci(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ci(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function bk(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ka(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function Nk(n,e,t){var r=e.replace(yA,""),a=e.length-r.length;return Ka(n,r,t*Math.pow(10,2*a))+ln("%",a)}function AA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+AA(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%a;if(l<0&&(l+=a),t=(e/Math.pow(10,l)).toPrecision(r+1+(a+l)%a),!t.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+l):t+="E+"+(c-l),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,d,g){return h+d+g.substr(0,(a+l)%a)+"."+g.substr(l)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Qi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(wA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Qi("n",r,t):"("+Qi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return bk(n,e,t);if(e.indexOf("%")!==-1)return Nk(n,e,t);if(e.indexOf("E")!==-1)return AA(e,t);if(e.charCodeAt(0)===36)return"$"+Qi(n,e.substr(e.charAt(1)==" "?2:1),t);var a,l,c,f,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+ki(h,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:pr(e.substr(0,e.length-a.length))+a;if(l=e.match(EA))return wk(l,h,d);if(e.match(/^#+0+$/))return d+ki(h,e.length-e.indexOf("0"));if(l=e.match(TA))return a=(""+t).replace(/^([^\.]+)$/,"$1."+pr(l[1])).replace(/\.$/,"."+pr(l[1])),a=a.replace(/\.(\d*)$/,function(R,T){return"."+T+ln("0",pr(l[1]).length-T.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return d+qs(""+h);if(l=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Qi(n,e,-t):qs(""+t)+"."+ln("0",l[1].length);if(l=e.match(/^#,#*,#0/))return Qi(n,e.replace(/^#,#*,/,""),t);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=pc(Qi(n,e.replace(/[\\-]/g,""),t)),c=0,pc(pc(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return c<a.length?a.charAt(c++):R==="0"?"0":""}));if(e.match(SA))return a=Qi(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var g="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(l[4].length,7),f=cd(h,Math.pow(10,c)-1,!1),a=""+d,g=Ka("n",l[1],f[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),a+=g+l[2]+"/"+l[3],g=ld(f[2],c),g.length<l[4].length&&(g=pr(l[4].substr(l[4].length-g.length))+g),a+=g,a;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(l[1].length,l[4].length),7),f=cd(h,Math.pow(10,c)-1,!0),d+(f[0]||(f[1]?"":"0"))+" "+(f[1]?lv(f[1],c)+l[2]+"/"+l[3]+ld(f[2],c):ln(" ",2*c+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:pr(e.substr(0,e.length-a.length))+a;if(l=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var y=e.indexOf(".")-c,_=e.length-a.length-y;return pr(e.substr(0,y)+a+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Qi(n,e,-t):qs(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?ki(0,3-R.length):"")+R})+"."+ki(0,l[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=qs(""+h);return w!=="0"?d+w:"";default:if(e.match(/\.[0#?]*$/))return Qi(n,e.slice(0,e.lastIndexOf(".")),t)+pr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ka(n,e,t){return(t|0)===t?Qi(n,e,t):ci(n,e,t)}function Rk(n){for(var e=[],t=!1,r=0,a=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(a,r-a),a=r+1}if(e[e.length]=n.substr(a),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var bA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function NA(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":od(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(bA))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Ck(n,e,t,r){for(var a=[],l="",c=0,f="",h="t",d,g,y,_="H";c<n.length;)switch(f=n.charAt(c)){case"G":if(!od(n,c))throw new Error("unrecognized character "+f+" in "+n);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";(y=n.charCodeAt(++c))!==34&&c<n.length;)l+=String.fromCharCode(y);a[a.length]={t:"t",v:l},++c;break;case"\\":var w=n.charAt(++c),R=w==="("||w===")"?w:"t";a[a.length]={t:R,v:w},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:e},++c;break;case"B":case"b":if(n.charAt(c+1)==="1"||n.charAt(c+1)==="2"){if(d==null&&(d=p0(e,t,n.charAt(c+1)==="2"),d==null))return"";a[a.length]={t:"X",v:n.substr(c,2)},h=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=p0(e,t),d==null))return"";for(l=f;++c<n.length&&n.charAt(c).toLowerCase()===f;)l+=f;f==="m"&&h.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=_),a[a.length]={t:f,v:l},h=f;break;case"A":case"a":case"":var T={t:f,v:f};if(d==null&&(d=p0(e,t)),n.substr(c,3).toUpperCase()==="A/P"?(d!=null&&(T.v=d.H>=12?"P":"A"),T.t="T",_="h",c+=3):n.substr(c,5).toUpperCase()==="AM/PM"?(d!=null&&(T.v=d.H>=12?"PM":"AM"),T.t="T",c+=5,_="h"):n.substr(c,5).toUpperCase()==="/"?(d!=null&&(T.v=d.H>=12?"":""),T.t="T",c+=5,_="h"):(T.t="t",++c),d==null&&T.t==="T")return"";a[a.length]=T,h=f;break;case"[":for(l=f;n.charAt(c++)!=="]"&&c<n.length;)l+=n.charAt(c);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(bA)){if(d==null&&(d=p0(e,t),d==null))return"";a[a.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",NA(n)||(a[a.length]={t:"t",v:l}));break;case".":if(d!=null){for(l=f;++c<n.length&&(f=n.charAt(c))==="0";)l+=f;a[a.length]={t:"s",v:l};break}case"0":case"#":for(l=f;++c<n.length&&"0#?.,E+-%".indexOf(f=n.charAt(c))>-1;)l+=f;a[a.length]={t:"n",v:l};break;case"?":for(l=f;n.charAt(++c)===f;)l+=f;a[a.length]={t:f,v:l},h=f;break;case"*":++c,(n.charAt(c)==" "||n.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:r===1?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=f;c<n.length&&"0123456789".indexOf(n.charAt(++c))>-1;)l+=n.charAt(c);a[a.length]={t:"D",v:l};break;case" ":a[a.length]={t:f,v:f},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+n);a[a.length]={t:"t",v:f},++c;break}var b=0,H=0,q;for(c=a.length-1,h="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=_,h="h",b<1&&(b=1);break;case"s":(q=a[c].v.match(/\.0+$/))&&(H=Math.max(H,q[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":h=a[c].t;break;case"m":h==="s"&&(a[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[c].v.match(/[Hh]/)&&(b=1),b<2&&a[c].v.match(/[Mm]/)&&(b=2),b<3&&a[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var B="",X;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=yk(a[c].t.charCodeAt(0),a[c].v,d,H),a[c].t="t";break;case"n":case"?":for(X=c+1;a[X]!=null&&((f=a[X].t)==="?"||f==="D"||(f===" "||f==="t")&&a[X+1]!=null&&(a[X+1].t==="?"||a[X+1].t==="t"&&a[X+1].v==="/")||a[c].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(a[X].v==="/"||a[X].v===" "&&a[X+1]!=null&&a[X+1].t=="?"));)a[c].v+=a[X].v,a[X]={v:"",t:";"},++X;B+=a[c].v,c=X-1;break;case"G":a[c].t="t",a[c].v=Yg(e,t);break}var he="",ne,N;if(B.length>0){B.charCodeAt(0)==40?(ne=e<0&&B.charCodeAt(0)===45?-e:e,N=Ka("n",B,ne)):(ne=e<0&&r>1?-e:e,N=Ka("n",B,ne),ne<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),X=N.length-1;var I=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){I=c;break}var C=a.length;if(I===a.length&&N.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(X>=a[c].v.length-1?(X-=a[c].v.length,a[c].v=N.substr(X+1,a[c].v.length)):X<0?a[c].v="":(a[c].v=N.substr(0,X+1),X=-1),a[c].t="t",C=c);X>=0&&C<a.length&&(a[C].v=N.substr(0,X+1)+a[C].v)}else if(I!==a.length&&N.indexOf("E")===-1){for(X=N.indexOf(".")-1,c=I;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(g=a[c].v.indexOf(".")>-1&&c===I?a[c].v.indexOf(".")-1:a[c].v.length-1,he=a[c].v.substr(g+1);g>=0;--g)X>=0&&(a[c].v.charAt(g)==="0"||a[c].v.charAt(g)==="#")&&(he=N.charAt(X--)+he);a[c].v=he,a[c].t="t",C=c}for(X>=0&&C<a.length&&(a[C].v=N.substr(0,X+1)+a[C].v),X=N.indexOf(".")+1,c=I;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==I)){for(g=a[c].v.indexOf(".")>-1&&c===I?a[c].v.indexOf(".")+1:0,he=a[c].v.substr(0,g);g<a[c].v.length;++g)X<N.length&&(he+=N.charAt(X++));a[c].v=he,a[c].t="t",C=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(ne=r>1&&e<0&&c>0&&a[c-1].v==="-"?-e:e,a[c].v=Ka(a[c].t,a[c].v,ne),a[c].t="t");var F="";for(c=0;c!==a.length;++c)a[c]!=null&&(F+=a[c].v);return F}var YE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $E(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function Ik(n,e){var t=Rk(n),r=t.length,a=t[r-1].indexOf("@");if(r<4&&a>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var l=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,l];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var c=t[0].match(YE),f=t[1].match(YE);return $E(e,c)?[r,t[0]]:$E(e,f)?[r,t[1]]:[r,t[c!=null&&f!=null?2:1]]}return[r,l]}function rl(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:on)[n],r==null&&(r=t.table&&t.table[WE[n]]||on[WE[n]]),r==null&&(r=fk[n]||"General");break}if(od(r,0))return Yg(e,t);e instanceof Date&&(e=xA(e,t.date1904));var a=Ik(r,e);if(od(a[1]))return Yg(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Ck(a[1],e,t,a[0])}function RA(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(on[t]==null){e<0&&(e=t);continue}if(on[t]==n){e=t;break}}e<0&&(e=391)}return on[e]=n,e}function qd(n){for(var e=0;e!=392;++e)n[e]!==void 0&&RA(n[e],e)}function Wd(){on=uk()}var CA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Dk(n){var e=typeof n=="number"?on[n]:n;return e=e.replace(CA,"(\\d+)"),new RegExp("^"+e+"$")}function Ok(n,e,t){var r=-1,a=-1,l=-1,c=-1,f=-1,h=-1;(e.match(CA)||[]).forEach(function(y,_){var w=parseInt(t[_+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=w;break;case"d":l=w;break;case"h":c=w;break;case"s":h=w;break;case"m":c>=0?f=w:a=w;break}}),h>=0&&f==-1&&a>=0&&(f=a,a=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var g=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&f==-1&&h==-1?d:r==-1&&a==-1&&l==-1?g:d+"T"+g}var kk=(function(){var n={};n.version="1.2.0";function e(){for(var N=0,I=new Array(256),C=0;C!=256;++C)N=C,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,I[C]=N;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function r(N){var I=0,C=0,F=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)M[F]=N[F];for(F=0;F!=256;++F)for(C=N[F],I=256+F;I<4096;I+=256)C=M[I]=C>>>8^N[C&255];var G=[];for(F=1;F!=16;++F)G[F-1]=typeof Int32Array<"u"?M.subarray(F*256,F*256+256):M.slice(F*256,F*256+256);return G}var a=r(t),l=a[0],c=a[1],f=a[2],h=a[3],d=a[4],g=a[5],y=a[6],_=a[7],w=a[8],R=a[9],T=a[10],b=a[11],H=a[12],q=a[13],B=a[14];function X(N,I){for(var C=I^-1,F=0,M=N.length;F<M;)C=C>>>8^t[(C^N.charCodeAt(F++))&255];return~C}function he(N,I){for(var C=I^-1,F=N.length-15,M=0;M<F;)C=B[N[M++]^C&255]^q[N[M++]^C>>8&255]^H[N[M++]^C>>16&255]^b[N[M++]^C>>>24]^T[N[M++]]^R[N[M++]]^w[N[M++]]^_[N[M++]]^y[N[M++]]^g[N[M++]]^d[N[M++]]^h[N[M++]]^f[N[M++]]^c[N[M++]]^l[N[M++]]^t[N[M++]];for(F+=15;M<F;)C=C>>>8^t[(C^N[M++])&255];return~C}function ne(N,I){for(var C=I^-1,F=0,M=N.length,G=0,U=0;F<M;)G=N.charCodeAt(F++),G<128?C=C>>>8^t[(C^G)&255]:G<2048?(C=C>>>8^t[(C^(192|G>>6&31))&255],C=C>>>8^t[(C^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,U=N.charCodeAt(F++)&1023,C=C>>>8^t[(C^(240|G>>8&7))&255],C=C>>>8^t[(C^(128|G>>2&63))&255],C=C>>>8^t[(C^(128|U>>6&15|(G&3)<<4))&255],C=C>>>8^t[(C^(128|U&63))&255]):(C=C>>>8^t[(C^(224|G>>12&15))&255],C=C>>>8^t[(C^(128|G>>6&63))&255],C=C>>>8^t[(C^(128|G&63))&255]);return~C}return n.table=t,n.bstr=X,n.buf=he,n.str=ne,n})(),Bt=(function(){var e={};e.version="1.2.1";function t(D,z){for(var P=D.split("/"),j=z.split("/"),V=0,W=0,se=Math.min(P.length,j.length);V<se;++V){if(W=P[V].length-j[V].length)return W;if(P[V]!=j[V])return P[V]<j[V]?-1:1}return P.length-j.length}function r(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:r(D.slice(0,-1));var z=D.lastIndexOf("/");return z===-1?D:D.slice(0,z+1)}function a(D){if(D.charAt(D.length-1)=="/")return a(D.slice(0,-1));var z=D.lastIndexOf("/");return z===-1?D:D.slice(z+1)}function l(D,z){typeof z=="string"&&(z=new Date(z));var P=z.getHours();P=P<<6|z.getMinutes(),P=P<<5|z.getSeconds()>>>1,D.write_shift(2,P);var j=z.getFullYear()-1980;j=j<<4|z.getMonth()+1,j=j<<5|z.getDate(),D.write_shift(2,j)}function c(D){var z=D.read_shift(2)&65535,P=D.read_shift(2)&65535,j=new Date,V=P&31;P>>>=5;var W=P&15;P>>>=4,j.setMilliseconds(0),j.setFullYear(P+1980),j.setMonth(W-1),j.setDate(V);var se=z&31;z>>>=5;var xe=z&63;return z>>>=6,j.setHours(z),j.setMinutes(xe),j.setSeconds(se<<1),j}function f(D){Hr(D,0);for(var z={},P=0;D.l<=D.length-4;){var j=D.read_shift(2),V=D.read_shift(2),W=D.l+V,se={};switch(j){case 21589:P=D.read_shift(1),P&1&&(se.mtime=D.read_shift(4)),V>5&&(P&2&&(se.atime=D.read_shift(4)),P&4&&(se.ctime=D.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break}D.l=W,z[j]=se}return z}var h;function d(){return h||(h={})}function g(D,z){if(D[0]==80&&D[1]==75)return Dr(D,z);if((D[0]|32)==109&&(D[1]|32)==105)return ya(D,z);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var P=3,j=512,V=0,W=0,se=0,xe=0,le=0,ue=[],ce=D.slice(0,512);Hr(ce,0);var be=y(ce);switch(P=be[0],P){case 3:j=512;break;case 4:j=4096;break;case 0:if(be[1]==0)return Dr(D,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}j!==512&&(ce=D.slice(0,j),Hr(ce,28));var Ce=D.slice(0,j);_(ce,P);var Le=ce.read_shift(4,"i");if(P===3&&Le!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Le);ce.l+=4,se=ce.read_shift(4,"i"),ce.l+=4,ce.chk("00100000","Mini Stream Cutoff Size: "),xe=ce.read_shift(4,"i"),V=ce.read_shift(4,"i"),le=ce.read_shift(4,"i"),W=ce.read_shift(4,"i");for(var Ae=-1,Me=0;Me<109&&(Ae=ce.read_shift(4,"i"),!(Ae<0));++Me)ue[Me]=Ae;var He=w(D,j);b(le,W,He,j,ue);var Rt=q(He,se,ue,j);Rt[se].name="!Directory",V>0&&xe!==U&&(Rt[xe].name="!MiniFAT"),Rt[ue[0]].name="!FAT",Rt.fat_addrs=ue,Rt.ssz=j;var Ct={},Ht=[],er=[],gi=[];B(se,Rt,He,Ht,V,Ct,er,xe),R(er,gi,Ht),Ht.shift();var vi={FileIndex:er,FullPaths:gi};return z&&z.raw&&(vi.raw={header:Ce,sectors:He}),vi}function y(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(We,"Header Signature: "),D.l+=16;var z=D.read_shift(2,"u");return[D.read_shift(2,"u"),z]}function _(D,z){var P=9;switch(D.l+=2,P=D.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function w(D,z){for(var P=Math.ceil(D.length/z)-1,j=[],V=1;V<P;++V)j[V-1]=D.slice(V*z,(V+1)*z);return j[P-1]=D.slice(P*z),j}function R(D,z,P){for(var j=0,V=0,W=0,se=0,xe=0,le=P.length,ue=[],ce=[];j<le;++j)ue[j]=ce[j]=j,z[j]=P[j];for(;xe<ce.length;++xe)j=ce[xe],V=D[j].L,W=D[j].R,se=D[j].C,ue[j]===j&&(V!==-1&&ue[V]!==V&&(ue[j]=ue[V]),W!==-1&&ue[W]!==W&&(ue[j]=ue[W])),se!==-1&&(ue[se]=j),V!==-1&&j!=ue[j]&&(ue[V]=ue[j],ce.lastIndexOf(V)<xe&&ce.push(V)),W!==-1&&j!=ue[j]&&(ue[W]=ue[j],ce.lastIndexOf(W)<xe&&ce.push(W));for(j=1;j<le;++j)ue[j]===j&&(W!==-1&&ue[W]!==W?ue[j]=ue[W]:V!==-1&&ue[V]!==V&&(ue[j]=ue[V]));for(j=1;j<le;++j)if(D[j].type!==0){if(xe=j,xe!=ue[xe])do xe=ue[xe],z[j]=z[xe]+"/"+z[j];while(xe!==0&&ue[xe]!==-1&&xe!=ue[xe]);ue[j]=-1}for(z[0]+="/",j=1;j<le;++j)D[j].type!==2&&(z[j]+="/")}function T(D,z,P){for(var j=D.start,V=D.size,W=[],se=j;P&&V>0&&se>=0;)W.push(z.slice(se*G,se*G+G)),V-=G,se=Bl(P,se*4);return W.length===0?ve(0):Xn(W).slice(0,D.size)}function b(D,z,P,j,V){var W=U;if(D===U){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var se=P[D],xe=(j>>>2)-1;if(!se)return;for(var le=0;le<xe&&(W=Bl(se,le*4))!==U;++le)V.push(W);b(Bl(se,j-4),z-1,P,j,V)}}function H(D,z,P,j,V){var W=[],se=[];V||(V=[]);var xe=j-1,le=0,ue=0;for(le=z;le>=0;){V[le]=!0,W[W.length]=le,se.push(D[le]);var ce=P[Math.floor(le*4/j)];if(ue=le*4&xe,j<4+ue)throw new Error("FAT boundary crossed: "+le+" 4 "+j);if(!D[ce])break;le=Bl(D[ce],ue)}return{nodes:W,data:iT([se])}}function q(D,z,P,j){var V=D.length,W=[],se=[],xe=[],le=[],ue=j-1,ce=0,be=0,Ce=0,Le=0;for(ce=0;ce<V;++ce)if(xe=[],Ce=ce+z,Ce>=V&&(Ce-=V),!se[Ce]){le=[];var Ae=[];for(be=Ce;be>=0;){Ae[be]=!0,se[be]=!0,xe[xe.length]=be,le.push(D[be]);var Me=P[Math.floor(be*4/j)];if(Le=be*4&ue,j<4+Le)throw new Error("FAT boundary crossed: "+be+" 4 "+j);if(!D[Me]||(be=Bl(D[Me],Le),Ae[be]))break}W[Ce]={nodes:xe,data:iT([le])}}return W}function B(D,z,P,j,V,W,se,xe){for(var le=0,ue=j.length?2:0,ce=z[D].data,be=0,Ce=0,Le;be<ce.length;be+=128){var Ae=ce.slice(be,be+128);Hr(Ae,64),Ce=Ae.read_shift(2),Le=dv(Ae,0,Ce-ue),j.push(Le);var Me={name:Le,type:Ae.read_shift(1),color:Ae.read_shift(1),L:Ae.read_shift(4,"i"),R:Ae.read_shift(4,"i"),C:Ae.read_shift(4,"i"),clsid:Ae.read_shift(16),state:Ae.read_shift(4,"i"),start:0,size:0},He=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);He!==0&&(Me.ct=X(Ae,Ae.l-8));var Rt=Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2)+Ae.read_shift(2);Rt!==0&&(Me.mt=X(Ae,Ae.l-8)),Me.start=Ae.read_shift(4,"i"),Me.size=Ae.read_shift(4,"i"),Me.size<0&&Me.start<0&&(Me.size=Me.type=0,Me.start=U,Me.name=""),Me.type===5?(le=Me.start,V>0&&le!==U&&(z[le].name="!StreamData")):Me.size>=4096?(Me.storage="fat",z[Me.start]===void 0&&(z[Me.start]=H(P,Me.start,z.fat_addrs,z.ssz)),z[Me.start].name=Me.name,Me.content=z[Me.start].data.slice(0,Me.size)):(Me.storage="minifat",Me.size<0?Me.size=0:le!==U&&Me.start!==U&&z[le]&&(Me.content=T(Me,z[le].data,(z[xe]||{}).data))),Me.content&&Hr(Me.content,0),W[Le]=Me,se.push(Me)}}function X(D,z){return new Date((qr(D,z+4)/1e7*Math.pow(2,32)+qr(D,z)/1e7-11644473600)*1e3)}function he(D,z){return d(),g(h.readFileSync(D),z)}function ne(D,z){var P=z&&z.type;switch(P||St&&Buffer.isBuffer(D)&&(P="buffer"),P||"base64"){case"file":return he(D,z);case"base64":return g(Ci(ts(D)),z);case"binary":return g(Ci(D),z)}return g(D,z)}function N(D,z){var P=z||{},j=P.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=j+"/",D.FileIndex[0]={name:j,type:5}),P.CLSID&&(D.FileIndex[0].clsid=P.CLSID),I(D)}function I(D){var z="Sh33tJ5";if(!Bt.find(D,"/"+z)){var P=ve(4);P[0]=55,P[1]=P[3]=50,P[2]=54,D.FileIndex.push({name:z,type:2,content:P,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+z),C(D)}}function C(D,z){N(D);for(var P=!1,j=!1,V=D.FullPaths.length-1;V>=0;--V){var W=D.FileIndex[V];switch(W.type){case 0:j?P=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(W.R*W.L*W.C)&&(P=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!z)){var se=new Date(1987,1,19),xe=0,le=Object.create?Object.create(null):{},ue=[];for(V=0;V<D.FullPaths.length;++V)le[D.FullPaths[V]]=!0,D.FileIndex[V].type!==0&&ue.push([D.FullPaths[V],D.FileIndex[V]]);for(V=0;V<ue.length;++V){var ce=r(ue[V][0]);j=le[ce],j||(ue.push([ce,{name:a(ce).replace("/",""),type:1,clsid:pe,ct:se,mt:se,content:null}]),le[ce]=!0)}for(ue.sort(function(Le,Ae){return t(Le[0],Ae[0])}),D.FullPaths=[],D.FileIndex=[],V=0;V<ue.length;++V)D.FullPaths[V]=ue[V][0],D.FileIndex[V]=ue[V][1];for(V=0;V<ue.length;++V){var be=D.FileIndex[V],Ce=D.FullPaths[V];if(be.name=a(Ce).replace("/",""),be.L=be.R=be.C=-(be.color=1),be.size=be.content?be.content.length:0,be.start=0,be.clsid=be.clsid||pe,V===0)be.C=ue.length>1?1:-1,be.size=0,be.type=5;else if(Ce.slice(-1)=="/"){for(xe=V+1;xe<ue.length&&r(D.FullPaths[xe])!=Ce;++xe);for(be.C=xe>=ue.length?-1:xe,xe=V+1;xe<ue.length&&r(D.FullPaths[xe])!=r(Ce);++xe);be.R=xe>=ue.length?-1:xe,be.type=1}else r(D.FullPaths[V+1]||"")==r(Ce)&&(be.R=V+1),be.type=2}}}function F(D,z){var P=z||{};if(P.fileType=="mad")return zc(D,P);switch(C(D),P.fileType){case"zip":return rn(D,P)}var j=(function(Le){for(var Ae=0,Me=0,He=0;He<Le.FileIndex.length;++He){var Rt=Le.FileIndex[He];if(Rt.content){var Ct=Rt.content.length;Ct>0&&(Ct<4096?Ae+=Ct+63>>6:Me+=Ct+511>>9)}}for(var Ht=Le.FullPaths.length+3>>2,er=Ae+7>>3,gi=Ae+127>>7,vi=er+Me+Ht+gi,kr=vi+127>>7,as=kr<=109?0:Math.ceil((kr-109)/127);vi+kr+as+127>>7>kr;)as=++kr<=109?0:Math.ceil((kr-109)/127);var tr=[1,as,kr,gi,Ht,Me,Ae,0];return Le.FileIndex[0].size=Ae<<6,tr[7]=(Le.FileIndex[0].start=tr[0]+tr[1]+tr[2]+tr[3]+tr[4]+tr[5])+(tr[6]+7>>3),tr})(D),V=ve(j[7]<<9),W=0,se=0;{for(W=0;W<8;++W)V.write_shift(1,Ge[W]);for(W=0;W<8;++W)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),W=0;W<3;++W)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,j[2]),V.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:U),V.write_shift(4,j[3]),V.write_shift(-4,j[1]?j[0]-1:U),V.write_shift(4,j[1]),W=0;W<109;++W)V.write_shift(-4,W<j[2]?j[1]+W:-1)}if(j[1])for(se=0;se<j[1];++se){for(;W<236+se*127;++W)V.write_shift(-4,W<j[2]?j[1]+W:-1);V.write_shift(-4,se===j[1]-1?U:se+1)}var xe=function(Le){for(se+=Le;W<se-1;++W)V.write_shift(-4,W+1);Le&&(++W,V.write_shift(-4,U))};for(se=W=0,se+=j[1];W<se;++W)V.write_shift(-4,Ne.DIFSECT);for(se+=j[2];W<se;++W)V.write_shift(-4,Ne.FATSECT);xe(j[3]),xe(j[4]);for(var le=0,ue=0,ce=D.FileIndex[0];le<D.FileIndex.length;++le)ce=D.FileIndex[le],ce.content&&(ue=ce.content.length,!(ue<4096)&&(ce.start=se,xe(ue+511>>9)));for(xe(j[6]+7>>3);V.l&511;)V.write_shift(-4,Ne.ENDOFCHAIN);for(se=W=0,le=0;le<D.FileIndex.length;++le)ce=D.FileIndex[le],ce.content&&(ue=ce.content.length,!(!ue||ue>=4096)&&(ce.start=se,xe(ue+63>>6)));for(;V.l&511;)V.write_shift(-4,Ne.ENDOFCHAIN);for(W=0;W<j[4]<<2;++W){var be=D.FullPaths[W];if(!be||be.length===0){for(le=0;le<17;++le)V.write_shift(4,0);for(le=0;le<3;++le)V.write_shift(4,-1);for(le=0;le<12;++le)V.write_shift(4,0);continue}ce=D.FileIndex[W],W===0&&(ce.start=ce.size?ce.start-1:U);var Ce=W===0&&P.root||ce.name;if(ue=2*(Ce.length+1),V.write_shift(64,Ce,"utf16le"),V.write_shift(2,ue),V.write_shift(1,ce.type),V.write_shift(1,ce.color),V.write_shift(-4,ce.L),V.write_shift(-4,ce.R),V.write_shift(-4,ce.C),ce.clsid)V.write_shift(16,ce.clsid,"hex");else for(le=0;le<4;++le)V.write_shift(4,0);V.write_shift(4,ce.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,ce.start),V.write_shift(4,ce.size),V.write_shift(4,0)}for(W=1;W<D.FileIndex.length;++W)if(ce=D.FileIndex[W],ce.size>=4096)if(V.l=ce.start+1<<9,St&&Buffer.isBuffer(ce.content))ce.content.copy(V,V.l,0,ce.size),V.l+=ce.size+511&-512;else{for(le=0;le<ce.size;++le)V.write_shift(1,ce.content[le]);for(;le&511;++le)V.write_shift(1,0)}for(W=1;W<D.FileIndex.length;++W)if(ce=D.FileIndex[W],ce.size>0&&ce.size<4096)if(St&&Buffer.isBuffer(ce.content))ce.content.copy(V,V.l,0,ce.size),V.l+=ce.size+63&-64;else{for(le=0;le<ce.size;++le)V.write_shift(1,ce.content[le]);for(;le&63;++le)V.write_shift(1,0)}if(St)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function M(D,z){var P=D.FullPaths.map(function(le){return le.toUpperCase()}),j=P.map(function(le){var ue=le.split("/");return ue[ue.length-(le.slice(-1)=="/"?2:1)]}),V=!1;z.charCodeAt(0)===47?(V=!0,z=P[0].slice(0,-1)+z):V=z.indexOf("/")!==-1;var W=z.toUpperCase(),se=V===!0?P.indexOf(W):j.indexOf(W);if(se!==-1)return D.FileIndex[se];var xe=!W.match(m0);for(W=W.replace($u,""),xe&&(W=W.replace(m0,"!")),se=0;se<P.length;++se)if((xe?P[se].replace(m0,"!"):P[se]).replace($u,"")==W||(xe?j[se].replace(m0,"!"):j[se]).replace($u,"")==W)return D.FileIndex[se];return null}var G=64,U=-2,We="d0cf11e0a1b11ae1",Ge=[208,207,17,224,161,177,26,225],pe="00000000000000000000000000000000",Ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:We,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:pe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Be(D,z,P){d();var j=F(D,P);h.writeFileSync(z,j)}function Ye(D){for(var z=new Array(D.length),P=0;P<D.length;++P)z[P]=String.fromCharCode(D[P]);return z.join("")}function nt(D,z){var P=F(D,z);switch(z&&z.type||"buffer"){case"file":return d(),h.writeFileSync(z.filename,P),P;case"binary":return typeof P=="string"?P:Ye(P);case"base64":return mf(typeof P=="string"?P:Ye(P));case"buffer":if(St)return Buffer.isBuffer(P)?P:rs(P);case"array":return typeof P=="string"?Ci(P):P}return P}var Z;function k(D){try{var z=D.InflateRaw,P=new z;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)Z=D;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function J(D,z){if(!Z)return va(D,z);var P=Z.InflateRaw,j=new P,V=j._processChunk(D.slice(D.l),j._finishFlushFlag);return D.l+=j.bytesRead,V}function K(D){return Z?Z.deflateRawSync(D):ul(D)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Fe(D){var z=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(z>>16|z>>8|z)&255}for(var Ie=typeof Uint8Array<"u",Pe=Ie?new Uint8Array(256):[],vt=0;vt<256;++vt)Pe[vt]=Fe(vt);function lt(D,z){var P=Pe[D&255];return z<=8?P>>>8-z:(P=P<<8|Pe[D>>8&255],z<=16?P>>>16-z:(P=P<<8|Pe[D>>16&255],P>>>24-z))}function nn(D,z){var P=z&7,j=z>>>3;return(D[j]|(P<=6?0:D[j+1]<<8))>>>P&3}function at(D,z){var P=z&7,j=z>>>3;return(D[j]|(P<=5?0:D[j+1]<<8))>>>P&7}function cr(D,z){var P=z&7,j=z>>>3;return(D[j]|(P<=4?0:D[j+1]<<8))>>>P&15}function bt(D,z){var P=z&7,j=z>>>3;return(D[j]|(P<=3?0:D[j+1]<<8))>>>P&31}function Ue(D,z){var P=z&7,j=z>>>3;return(D[j]|(P<=1?0:D[j+1]<<8))>>>P&127}function Dn(D,z,P){var j=z&7,V=z>>>3,W=(1<<P)-1,se=D[V]>>>j;return P<8-j||(se|=D[V+1]<<8-j,P<16-j)||(se|=D[V+2]<<16-j,P<24-j)||(se|=D[V+3]<<24-j),se&W}function Nt(D,z,P){var j=z&7,V=z>>>3;return j<=5?D[V]|=(P&7)<<j:(D[V]|=P<<j&255,D[V+1]=(P&7)>>8-j),z+3}function zt(D,z,P){var j=z&7,V=z>>>3;return P=(P&1)<<j,D[V]|=P,z+1}function ur(D,z,P){var j=z&7,V=z>>>3;return P<<=j,D[V]|=P&255,P>>>=8,D[V+1]=P,z+8}function go(D,z,P){var j=z&7,V=z>>>3;return P<<=j,D[V]|=P&255,P>>>=8,D[V+1]=P&255,D[V+2]=P>>>8,z+16}function is(D,z){var P=D.length,j=2*P>z?2*P:z+5,V=0;if(P>=z)return D;if(St){var W=HE(j);if(D.copy)D.copy(W);else for(;V<D.length;++V)W[V]=D[V];return W}else if(Ie){var se=new Uint8Array(j);if(se.set)se.set(D);else for(;V<P;++V)se[V]=D[V];return se}return D.length=j,D}function qt(D){for(var z=new Array(D),P=0;P<D;++P)z[P]=0;return z}function Yr(D,z,P){var j=1,V=0,W=0,se=0,xe=0,le=D.length,ue=Ie?new Uint16Array(32):qt(32);for(W=0;W<32;++W)ue[W]=0;for(W=le;W<P;++W)D[W]=0;le=D.length;var ce=Ie?new Uint16Array(le):qt(le);for(W=0;W<le;++W)ue[V=D[W]]++,j<V&&(j=V),ce[W]=0;for(ue[0]=0,W=1;W<=j;++W)ue[W+16]=xe=xe+ue[W-1]<<1;for(W=0;W<le;++W)xe=D[W],xe!=0&&(ce[W]=ue[xe+16]++);var be=0;for(W=0;W<le;++W)if(be=D[W],be!=0)for(xe=lt(ce[W],j)>>j-be,se=(1<<j+4-be)-1;se>=0;--se)z[xe|se<<be]=be&15|W<<4;return j}var pa=Ie?new Uint16Array(512):qt(512),ga=Ie?new Uint16Array(32):qt(32);if(!Ie){for(var Zn=0;Zn<512;++Zn)pa[Zn]=0;for(Zn=0;Zn<32;++Zn)ga[Zn]=0}(function(){for(var D=[],z=0;z<32;z++)D.push(5);Yr(D,ga,32);var P=[];for(z=0;z<=143;z++)P.push(8);for(;z<=255;z++)P.push(9);for(;z<=279;z++)P.push(7);for(;z<=287;z++)P.push(8);Yr(P,pa,288)})();var Vc=(function(){for(var z=Ie?new Uint8Array(32768):[],P=0,j=0;P<Re.length-1;++P)for(;j<Re[P+1];++j)z[j]=P;for(;j<32768;++j)z[j]=29;var V=Ie?new Uint8Array(259):[];for(P=0,j=0;P<de.length-1;++P)for(;j<de[P+1];++j)V[j]=P;function W(xe,le){for(var ue=0;ue<xe.length;){var ce=Math.min(65535,xe.length-ue),be=ue+ce==xe.length;for(le.write_shift(1,+be),le.write_shift(2,ce),le.write_shift(2,~ce&65535);ce-- >0;)le[le.l++]=xe[ue++]}return le.l}function se(xe,le){for(var ue=0,ce=0,be=Ie?new Uint16Array(32768):[];ce<xe.length;){var Ce=Math.min(65535,xe.length-ce);if(Ce<10){for(ue=Nt(le,ue,+(ce+Ce==xe.length)),ue&7&&(ue+=8-(ue&7)),le.l=ue/8|0,le.write_shift(2,Ce),le.write_shift(2,~Ce&65535);Ce-- >0;)le[le.l++]=xe[ce++];ue=le.l*8;continue}ue=Nt(le,ue,+(ce+Ce==xe.length)+2);for(var Le=0;Ce-- >0;){var Ae=xe[ce];Le=(Le<<5^Ae)&32767;var Me=-1,He=0;if((Me=be[Le])&&(Me|=ce&-32768,Me>ce&&(Me-=32768),Me<ce))for(;xe[Me+He]==xe[ce+He]&&He<250;)++He;if(He>2){Ae=V[He],Ae<=22?ue=ur(le,ue,Pe[Ae+1]>>1)-1:(ur(le,ue,3),ue+=5,ur(le,ue,Pe[Ae-23]>>5),ue+=3);var Rt=Ae<8?0:Ae-4>>2;Rt>0&&(go(le,ue,He-de[Ae]),ue+=Rt),Ae=z[ce-Me],ue=ur(le,ue,Pe[Ae]>>3),ue-=3;var Ct=Ae<4?0:Ae-2>>1;Ct>0&&(go(le,ue,ce-Me-Re[Ae]),ue+=Ct);for(var Ht=0;Ht<He;++Ht)be[Le]=ce&32767,Le=(Le<<5^xe[ce])&32767,++ce;Ce-=He-1}else Ae<=143?Ae=Ae+48:ue=zt(le,ue,1),ue=ur(le,ue,Pe[Ae]),be[Le]=ce&32767,++ce}ue=ur(le,ue,0)-1}return le.l=(ue+7)/8|0,le.l}return function(le,ue){return le.length<8?W(le,ue):se(le,ue)}})();function ul(D){var z=ve(50+Math.floor(D.length*1.1)),P=Vc(D,z);return z.slice(0,P)}var fl=Ie?new Uint16Array(32768):qt(32768),hl=Ie?new Uint16Array(32768):qt(32768),xr=Ie?new Uint16Array(128):qt(128),pn=1,fr=1;function en(D,z){var P=bt(D,z)+257;z+=5;var j=bt(D,z)+1;z+=5;var V=cr(D,z)+4;z+=4;for(var W=0,se=Ie?new Uint8Array(19):qt(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,ue=Ie?new Uint8Array(8):qt(8),ce=Ie?new Uint8Array(8):qt(8),be=se.length,Ce=0;Ce<V;++Ce)se[Q[Ce]]=W=at(D,z),le<W&&(le=W),ue[W]++,z+=3;var Le=0;for(ue[0]=0,Ce=1;Ce<=le;++Ce)ce[Ce]=Le=Le+ue[Ce-1]<<1;for(Ce=0;Ce<be;++Ce)(Le=se[Ce])!=0&&(xe[Ce]=ce[Le]++);var Ae=0;for(Ce=0;Ce<be;++Ce)if(Ae=se[Ce],Ae!=0){Le=Pe[xe[Ce]]>>8-Ae;for(var Me=(1<<7-Ae)-1;Me>=0;--Me)xr[Le|Me<<Ae]=Ae&7|Ce<<3}var He=[];for(le=1;He.length<P+j;)switch(Le=xr[Ue(D,z)],z+=Le&7,Le>>>=3){case 16:for(W=3+nn(D,z),z+=2,Le=He[He.length-1];W-- >0;)He.push(Le);break;case 17:for(W=3+at(D,z),z+=3;W-- >0;)He.push(0);break;case 18:for(W=11+Ue(D,z),z+=7;W-- >0;)He.push(0);break;default:He.push(Le),le<Le&&(le=Le);break}var Rt=He.slice(0,P),Ct=He.slice(P);for(Ce=P;Ce<286;++Ce)Rt[Ce]=0;for(Ce=j;Ce<30;++Ce)Ct[Ce]=0;return pn=Yr(Rt,fl,286),fr=Yr(Ct,hl,30),z}function vo(D,z){if(D[0]==3&&!(D[1]&3))return[to(z),2];for(var P=0,j=0,V=HE(z||1<<18),W=0,se=V.length>>>0,xe=0,le=0;(j&1)==0;){if(j=at(D,P),P+=3,j>>>1)j>>1==1?(xe=9,le=5):(P=en(D,P),xe=pn,le=fr);else{P&7&&(P+=8-(P&7));var ue=D[P>>>3]|D[(P>>>3)+1]<<8;if(P+=32,ue>0)for(!z&&se<W+ue&&(V=is(V,W+ue),se=V.length);ue-- >0;)V[W++]=D[P>>>3],P+=8;continue}for(;;){!z&&se<W+32767&&(V=is(V,W+32767),se=V.length);var ce=Dn(D,P,xe),be=j>>>1==1?pa[ce]:fl[ce];if(P+=be&15,be>>>=4,(be>>>8&255)===0)V[W++]=be;else{if(be==256)break;be-=257;var Ce=be<8?0:be-4>>2;Ce>5&&(Ce=0);var Le=W+de[be];Ce>0&&(Le+=Dn(D,P,Ce),P+=Ce),ce=Dn(D,P,le),be=j>>>1==1?ga[ce]:hl[ce],P+=be&15,be>>>=4;var Ae=be<4?0:be-2>>1,Me=Re[be];for(Ae>0&&(Me+=Dn(D,P,Ae),P+=Ae),!z&&se<Le&&(V=is(V,Le+100),se=V.length);W<Le;)V[W]=V[W-Me],++W}}}return z?[V,P+7>>>3]:[V.slice(0,W),P+7>>>3]}function va(D,z){var P=D.slice(D.l||0),j=vo(P,z);return D.l+=j[1],j[0]}function dl(D,z){if(D)typeof console<"u"&&console.error(z);else throw new Error(z)}function Dr(D,z){var P=D;Hr(P,0);var j=[],V=[],W={FileIndex:j,FullPaths:V};N(W,{root:z.root});for(var se=P.length-4;(P[se]!=80||P[se+1]!=75||P[se+2]!=5||P[se+3]!=6)&&se>=0;)--se;P.l=se+4,P.l+=4;var xe=P.read_shift(2);P.l+=6;var le=P.read_shift(4);for(P.l=le,se=0;se<xe;++se){P.l+=20;var ue=P.read_shift(4),ce=P.read_shift(4),be=P.read_shift(2),Ce=P.read_shift(2),Le=P.read_shift(2);P.l+=8;var Ae=P.read_shift(4),Me=f(P.slice(P.l+be,P.l+be+Ce));P.l+=be+Ce+Le;var He=P.l;P.l=Ae+4,xa(P,ue,ce,W,Me),P.l=He}return W}function xa(D,z,P,j,V){D.l+=2;var W=D.read_shift(2),se=D.read_shift(2),xe=c(D);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var le=D.read_shift(4),ue=D.read_shift(4),ce=D.read_shift(4),be=D.read_shift(2),Ce=D.read_shift(2),Le="",Ae=0;Ae<be;++Ae)Le+=String.fromCharCode(D[D.l++]);if(Ce){var Me=f(D.slice(D.l,D.l+Ce));(Me[21589]||{}).mt&&(xe=Me[21589].mt),((V||{})[21589]||{}).mt&&(xe=V[21589].mt)}D.l+=Ce;var He=D.slice(D.l,D.l+ue);switch(se){case 8:He=J(D,ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var Rt=!1;W&8&&(le=D.read_shift(4),le==134695760&&(le=D.read_shift(4),Rt=!0),ue=D.read_shift(4),ce=D.read_shift(4)),ue!=z&&dl(Rt,"Bad compressed size: "+z+" != "+ue),ce!=P&&dl(Rt,"Bad uncompressed size: "+P+" != "+ce),Ea(j,Le,He,{unsafe:!0,mt:xe})}function rn(D,z){var P=z||{},j=[],V=[],W=ve(1),se=P.compression?8:0,xe=0,le=0,ue=0,ce=0,be=0,Ce=D.FullPaths[0],Le=Ce,Ae=D.FileIndex[0],Me=[],He=0;for(le=1;le<D.FullPaths.length;++le)if(Le=D.FullPaths[le].slice(Ce.length),Ae=D.FileIndex[le],!(!Ae.size||!Ae.content||Le=="Sh33tJ5")){var Rt=ce,Ct=ve(Le.length);for(ue=0;ue<Le.length;++ue)Ct.write_shift(1,Le.charCodeAt(ue)&127);Ct=Ct.slice(0,Ct.l),Me[be]=kk.buf(Ae.content,0);var Ht=Ae.content;se==8&&(Ht=K(Ht)),W=ve(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,xe),W.write_shift(2,se),Ae.mt?l(W,Ae.mt):W.write_shift(4,0),W.write_shift(-4,Me[be]),W.write_shift(4,Ht.length),W.write_shift(4,Ae.content.length),W.write_shift(2,Ct.length),W.write_shift(2,0),ce+=W.length,j.push(W),ce+=Ct.length,j.push(Ct),ce+=Ht.length,j.push(Ht),W=ve(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,xe),W.write_shift(2,se),W.write_shift(4,0),W.write_shift(-4,Me[be]),W.write_shift(4,Ht.length),W.write_shift(4,Ae.content.length),W.write_shift(2,Ct.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,Rt),He+=W.l,V.push(W),He+=Ct.length,V.push(Ct),++be}return W=ve(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,be),W.write_shift(2,be),W.write_shift(4,He),W.write_shift(4,ce),W.write_shift(2,0),Xn([Xn(j),Xn(V),W])}var hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $r(D,z){if(D.ctype)return D.ctype;var P=D.name||"",j=P.match(/\.([^\.]+)$/);return j&&hr[j[1]]||z&&(j=(P=z).match(/[\.\\]([^\.\\])+$/),j&&hr[j[1]])?hr[j[1]]:"application/octet-stream"}function Or(D){for(var z=mf(D),P=[],j=0;j<z.length;j+=76)P.push(z.slice(j,j+76));return P.join(`\r
`)+`\r
`}function Bc(D){var z=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var ce=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(ce.length==1?"0"+ce:ce)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],j=z.split(`\r
`),V=0;V<j.length;++V){var W=j[V];if(W.length==0){P.push("");continue}for(var se=0;se<W.length;){var xe=76,le=W.slice(se,se+xe);le.charAt(xe-1)=="="?xe--:le.charAt(xe-2)=="="?xe-=2:le.charAt(xe-3)=="="&&(xe-=3),le=W.slice(se,se+xe),se+=xe,se<W.length&&(le+="="),P.push(le)}}return P.join(`\r
`)}function xo(D){for(var z=[],P=0;P<D.length;++P){for(var j=D[P];P<=D.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+D[++P];z.push(j)}for(var V=0;V<z.length;++V)z[V]=z[V].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return Ci(z.join(`\r
`))}function Qr(D,z,P){for(var j="",V="",W="",se,xe=0;xe<10;++xe){var le=z[xe];if(!le||le.match(/^\s*$/))break;var ue=le.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":j=ue[2].trim();break;case"content-type":W=ue[2].trim();break;case"content-transfer-encoding":V=ue[2].trim();break}}switch(++xe,V.toLowerCase()){case"base64":se=Ci(ts(z.slice(xe).join("")));break;case"quoted-printable":se=xo(z.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var ce=Ea(D,j.slice(P.length),se,{unsafe:!0});W&&(ce.ctype=W)}function ya(D,z){if(Ye(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=z&&z.root||"",j=(St&&Buffer.isBuffer(D)?D.toString("binary"):Ye(D)).split(`\r
`),V=0,W="";for(V=0;V<j.length;++V)if(W=j[V],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),P||(P=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),W.slice(0,P.length)!=P););var se=(j[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var xe="--"+(se[1]||""),le=[],ue=[],ce={FileIndex:le,FullPaths:ue};N(ce);var be,Ce=0;for(V=0;V<j.length;++V){var Le=j[V];Le!==xe&&Le!==xe+"--"||(Ce++&&Qr(ce,j.slice(be,V),P),be=V)}return ce}function zc(D,z){var P=z||{},j=P.boundary||"SheetJS";j="------="+j;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],W=D.FullPaths[0],se=W,xe=D.FileIndex[0],le=1;le<D.FullPaths.length;++le)if(se=D.FullPaths[le].slice(W.length),xe=D.FileIndex[le],!(!xe.size||!xe.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(He){return"_x"+He.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(He){return"_u"+He.charCodeAt(0).toString(16)+"_"});for(var ue=xe.content,ce=St&&Buffer.isBuffer(ue)?ue.toString("binary"):Ye(ue),be=0,Ce=Math.min(1024,ce.length),Le=0,Ae=0;Ae<=Ce;++Ae)(Le=ce.charCodeAt(Ae))>=32&&Le<128&&++be;var Me=be>=Ce*4/5;V.push(j),V.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+se),V.push("Content-Transfer-Encoding: "+(Me?"quoted-printable":"base64")),V.push("Content-Type: "+$r(xe,se)),V.push(""),V.push(Me?Bc(ce):Or(ce))}return V.push(j+`--\r
`),V.join(`\r
`)}function _a(D){var z={};return N(z,D),z}function Ea(D,z,P,j){var V=j&&j.unsafe;V||N(D);var W=!V&&Bt.find(D,z);if(!W){var se=D.FullPaths[0];z.slice(0,se.length)==se?se=z:(se.slice(-1)!="/"&&(se+="/"),se=(se+z).replace("//","/")),W={name:a(z),type:2},D.FileIndex.push(W),D.FullPaths.push(se),V||Bt.utils.cfb_gc(D)}return W.content=P,W.size=P?P.length:0,j&&(j.CLSID&&(W.clsid=j.CLSID),j.mt&&(W.mt=j.mt),j.ct&&(W.ct=j.ct)),W}function ml(D,z){N(D);var P=Bt.find(D,z);if(P){for(var j=0;j<D.FileIndex.length;++j)if(D.FileIndex[j]==P)return D.FileIndex.splice(j,1),D.FullPaths.splice(j,1),!0}return!1}function Ta(D,z,P){N(D);var j=Bt.find(D,z);if(j){for(var V=0;V<D.FileIndex.length;++V)if(D.FileIndex[V]==j)return D.FileIndex[V].name=a(P),D.FullPaths[V]=P,!0}return!1}function pi(D){C(D,!0)}return e.find=M,e.read=ne,e.parse=g,e.write=nt,e.writeFile=Be,e.utils={cfb_new:_a,cfb_add:Ea,cfb_del:ml,cfb_mov:Ta,cfb_gc:pi,ReadShift:Ju,CheckField:KA,prep_blob:Hr,bconcat:Xn,use_zlib:k,_deflateRaw:ul,_inflateRaw:va,consts:Ne},e})();function Mk(n){return typeof n=="string"?Gd(n):Array.isArray(n)?sk(n):n}function Lf(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Gd(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?gf(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var a=new Blob([Mk(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,n);if(typeof saveAs<"u")return saveAs(a,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:n,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=n,c.href=l,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var f=File(n);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=Pf(e)),f.write(e),f.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function Jn(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function QE(n,e){for(var t=[],r=Jn(n),a=0;a!==r.length;++a)t[n[r[a]][e]]==null&&(t[n[r[a]][e]]=r[a]);return t}function cv(n){for(var e=[],t=Jn(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Kd(n){for(var e=[],t=Jn(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function Pk(n){for(var e=[],t=Jn(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var ud=new Date(1899,11,30,0,0,0);function Cr(n,e){var t=n.getTime(),r=ud.getTime()+(n.getTimezoneOffset()-ud.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var IA=new Date,Lk=ud.getTime()+(IA.getTimezoneOffset()-ud.getTimezoneOffset())*6e4,JE=IA.getTimezoneOffset();function DA(n){var e=new Date;return e.setTime(n*24*60*60*1e3+Lk),e.getTimezoneOffset()!==JE&&e.setTime(e.getTime()+(e.getTimezoneOffset()-JE)*6e4),e}var ZE=new Date("2017-02-19T19:06:09.000Z"),OA=isNaN(ZE.getFullYear())?new Date("2/19/17"):ZE,Fk=OA.getFullYear()==2017;function vr(n,e){var t=new Date(n);if(Fk)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(OA.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var a=n.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return n.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function Xd(n,e){if(St&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(l){return t[l]||l})}catch{}for(var r=[],a=0;a!=n.length;++a)r.push(String.fromCharCode(n[a]));return r.join("")}function Ir(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Ir(n[t]));return e}function ln(n,e){for(var t="";t.length<e;)t+=n;return t}function Xa(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,l){return t=-t,l}),!isNaN(e=Number(r)))?e/t:e}var jk=["january","february","march","april","may","june","july","august","september","october","november","december"];function pf(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),a=e.getMonth(),l=e.getDate();if(isNaN(l))return t;var c=n.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&jk.indexOf(c)==-1)return t}else if(c.match(/[a-z]/))return t;return r<0||r>8099?t:(a>0||l>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function ot(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return St?r=rs(t):r=lk(t),Bt.utils.cfb_add(n,e,r)}Bt.utils.cfb_add(n,e,t)}else n.file(e,t)}function uv(){return Bt.utils.cfb_new()}var bn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Uk={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fv=cv(Uk),hv=/[&<>'"]/g,Vk=/[\u0000-\u0008\u000b-\u001f]/g;function Pt(n){var e=n+"";return e.replace(hv,function(t){return fv[t]}).replace(Vk,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function eT(n){return Pt(n).replace(/ /g,"_x0020_")}var kA=/[\u0000-\u001f]/g;function Bk(n){var e=n+"";return e.replace(hv,function(t){return fv[t]}).replace(/\n/g,"<br/>").replace(kA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function zk(n){var e=n+"";return e.replace(hv,function(t){return fv[t]}).replace(kA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function Hk(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function Gk(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function dg(n){for(var e="",t=0,r=0,a=0,l=0,c=0,f=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(a=n.charCodeAt(t++),r>191&&r<224){c=(r&31)<<6,c|=a&63,e+=String.fromCharCode(c);continue}if(l=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63);continue}c=n.charCodeAt(t++),f=((r&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function tT(n){var e=to(2*n.length),t,r,a=1,l=0,c=0,f;for(r=0;r<n.length;r+=a)a=1,(f=n.charCodeAt(r))<128?t=f:f<224?(t=(f&31)*64+(n.charCodeAt(r+1)&63),a=2):f<240?(t=(f&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),a=3):(a=4,t=(f&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,c=55296+(t>>>10&1023),t=56320+(t&1023)),c!==0&&(e[l++]=c&255,e[l++]=c>>>8,c=0),e[l++]=t%256,e[l++]=t>>>8;return e.slice(0,l).toString("ucs2")}function nT(n){return rs(n,"binary").toString("utf8")}var g0="foo bar baz",Qu=St&&(nT(g0)==dg(g0)&&nT||tT(g0)==dg(g0)&&tT)||dg,gf=St?function(n){return rs(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,a=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},qk=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<n.length;++a)r=r.replace(n[a][0],n[a][1]);return r}})(),MA=/(^\s|\s$|\n)/;function Yn(n,e){return"<"+n+(e.match(MA)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function vf(n){return Jn(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function De(n,e,t){return"<"+n+(t!=null?vf(t):"")+(e!=null?(e.match(MA)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function $g(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function Wk(n,e){switch(typeof n){case"string":var t=De("vt:lpwstr",Pt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return De((n|0)==n?"vt:i4":"vt:r8",Pt(String(n)));case"boolean":return De("vt:bool",n?"true":"false")}if(n instanceof Date)return De("vt:filetime",$g(n));throw new Error("Unable to serialize "+n)}var Pn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Lc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Kk(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),a=n[e+6]&15,l=5;l>=0;--l)a=a*256+n[e+l];return r==2047?a==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),t*Math.pow(2,r-52)*a)}function Xk(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,a=0,l=0,c=r?-e:e;isFinite(c)?c==0?a=l=0:(a=Math.floor(Math.log(c)/Math.LN2),l=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?a=-1022:(l-=Math.pow(2,52),a+=1023)):(a=2047,l=isNaN(e)?26985:0);for(var f=0;f<=5;++f,l/=256)n[t+f]=l&255;n[t+6]=(a&15)<<4|l&15,n[t+7]=a>>4|r}var rT=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var a=0,l=n[0][r].length;a<l;a+=t)e.push.apply(e,n[0][r].slice(a,a+t));return e},iT=St?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:rs(e)})):rT(n)}:rT,aT=function(n,e,t){for(var r=[],a=e;a<t;a+=2)r.push(String.fromCharCode(Hu(n,a)));return r.join("").replace($u,"")},dv=St?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace($u,""):aT(n,e,t)}:aT,sT=function(n,e,t){for(var r=[],a=e;a<e+t;++a)r.push(("0"+n[a].toString(16)).slice(-2));return r.join("")},PA=St?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):sT(n,e,t)}:sT,lT=function(n,e,t){for(var r=[],a=e;a<t;a++)r.push(String.fromCharCode(oc(n,a)));return r.join("")},Ff=St?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):lT(e,t,r)}:lT,LA=function(n,e){var t=qr(n,e);return t>0?Ff(n,e+4,e+4+t-1):""},FA=LA,jA=function(n,e){var t=qr(n,e);return t>0?Ff(n,e+4,e+4+t-1):""},UA=jA,VA=function(n,e){var t=2*qr(n,e);return t>0?Ff(n,e+4,e+4+t-1):""},BA=VA,zA=function(e,t){var r=qr(e,t);return r>0?dv(e,t+4,t+4+r):""},HA=zA,GA=function(n,e){var t=qr(n,e);return t>0?Ff(n,e+4,e+4+t):""},qA=GA,WA=function(n,e){return Kk(n,e)},fd=WA,mv=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};St&&(FA=function(e,t){if(!Buffer.isBuffer(e))return LA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},UA=function(e,t){if(!Buffer.isBuffer(e))return jA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},BA=function(e,t){if(!Buffer.isBuffer(e))return VA(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},HA=function(e,t){if(!Buffer.isBuffer(e))return zA(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},qA=function(e,t){if(!Buffer.isBuffer(e))return GA(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},fd=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):WA(e,t)},mv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var oc=function(n,e){return n[e]},Hu=function(n,e){return n[e+1]*256+n[e]},Yk=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},qr=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Bl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},$k=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Ju(n,e){var t="",r,a,l=[],c,f,h,d;switch(e){case"dbcs":if(d=this.l,St&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)t+=String.fromCharCode(Hu(this,d)),d+=2;n*=2;break;case"utf8":t=Ff(this,this.l,this.l+n);break;case"utf16le":n*=2,t=dv(this,this.l,this.l+n);break;case"wstr":return Ju.call(this,n,"dbcs");case"lpstr-ansi":t=FA(this,this.l),n=4+qr(this,this.l);break;case"lpstr-cp":t=UA(this,this.l),n=4+qr(this,this.l);break;case"lpwstr":t=BA(this,this.l),n=4+2*qr(this,this.l);break;case"lpp4":n=4+qr(this,this.l),t=HA(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+qr(this,this.l),t=qA(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(c=oc(this,this.l+n++))!==0;)l.push(d0(c));t=l.join("");break;case"_wstr":for(n=0,t="";(c=Hu(this,this.l+n))!==0;)l.push(d0(c)),n+=2;n+=2,t=l.join("");break;case"dbcs-cont":for(t="",d=this.l,h=0;h<n;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return c=oc(this,d),this.l=d+1,f=Ju.call(this,n-h,c?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(d0(Hu(this,d))),d+=2}t=l.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,h=0;h!=n;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return c=oc(this,d),this.l=d+1,f=Ju.call(this,n-h,c?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(d0(oc(this,d))),d+=1}t=l.join("");break;default:switch(n){case 1:return r=oc(this,this.l),this.l++,r;case 2:return r=(e==="i"?Yk:Hu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Bl:$k)(this,this.l),this.l+=4,r):(a=qr(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return n==8?a=fd(this,this.l):a=fd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;n=8;case 16:t=PA(this,this.l,n);break}}return this.l+=n,t}var Qk=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},Jk=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},Zk=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function eM(n,e,t){var r=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)Zk(this,e.charCodeAt(a),this.l+2*a);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;r=e.length}else if(t==="hex"){for(;a<n;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var l=Math.min(this.l+n,this.length);for(a=0;a<Math.min(e.length,n);++a){var c=e.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,Qk(this,e,this.l);break;case 8:if(r=8,t==="f"){Xk(this,e,this.l);break}case 16:break;case-4:r=4,Jk(this,e,this.l);break}return this.l+=r,this}function KA(n,e){var t=PA(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Hr(n,e){n.l=e,n.read_shift=Ju,n.chk=KA,n.write_shift=eM}function ha(n,e){n.l+=e}function ve(n){var e=to(n);return Hr(e,0),e}function Rr(){var n=[],e=St?256:2048,t=function(d){var g=ve(d);return Hr(g,0),g},r=t(e),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},l=function(d){return r&&d<r.length-r.l?r:(a(),r=t(Math.max(d+1,e)))},c=function(){return a(),Xn(n)},f=function(d){a(),r=d,r.l==null&&(r.l=r.length),l(e)};return{next:l,push:f,end:c,_bufs:n}}function Se(n,e,t,r){var a=+e,l;if(!isNaN(a)){r||(r=K7[a].p||(t||[]).length||0),l=1+(a>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var c=n.next(l);a<=127?c.write_shift(1,a):(c.write_shift(1,(a&127)+128),c.write_shift(1,a>>7));for(var f=0;f!=4;++f)if(r>=128)c.write_shift(1,(r&127)+128),r>>=7;else{c.write_shift(1,r);break}r>0&&mv(t)&&n.push(t)}}function Zu(n,e,t){var r=Ir(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function oT(n,e,t){var r=Ir(n);return r.s=Zu(r.s,e.s,t),r.e=Zu(r.e,e.s,t),r}function ef(n,e){if(n.cRel&&n.c<0)for(n=Ir(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Ir(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Lt(n);return!n.cRel&&n.cRel!=null&&(t=rM(t)),!n.rRel&&n.rRel!=null&&(t=tM(t)),t}function mg(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+sr(n.s.c)+":"+(n.e.cRel?"":"$")+sr(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+$n(n.s.r)+":"+(n.e.rRel?"":"$")+$n(n.e.r):ef(n.s,e.biff)+":"+ef(n.e,e.biff)}function pv(n){return parseInt(nM(n),10)-1}function $n(n){return""+(n+1)}function tM(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function nM(n){return n.replace(/\$(\d+)$/,"$1")}function gv(n){for(var e=iM(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function sr(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function rM(n){return n.replace(/^([A-Z])/,"$$$1")}function iM(n){return n.replace(/^\$([A-Z])/,"$1")}function aM(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ln(n){for(var e=0,t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Lt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Xr(n){var e=n.indexOf(":");return e==-1?{s:Ln(n),e:Ln(n)}:{s:Ln(n.slice(0,e)),e:Ln(n.slice(e+1))}}function An(n,e){return typeof e>"u"||typeof e=="number"?An(n.s,n.e):(typeof n!="string"&&(n=Lt(n)),typeof e!="string"&&(e=Lt(e)),n==e?n:n+":"+e)}function $t(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,a=0,l=n.length;for(t=0;r<l&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.s.c=--t,t=0;r<l&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;if(e.s.r=--t,r===l||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=l&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.e.c=--t,t=0;r!=l&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;return e.e.r=--t,e}function cT(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=rl(n.z,t?Cr(e):e)}catch{}try{return n.w=rl((n.XF||{}).numFmtId||(t?14:0),t?Cr(e):e)}catch{return""+e}}function ns(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?jf[n.v]||n.v:e==null?cT(n,n.v):cT(n,e))}function uo(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function XA(n,e,t){var r=t||{},a=n?Array.isArray(n):r.dense,l=n||(a?[]:{}),c=0,f=0;if(l&&r.origin!=null){if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?Ln(r.origin):r.origin;c=h.r,f=h.c}l["!ref"]||(l["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var g=$t(l["!ref"]);d.s.c=g.s.c,d.s.r=g.s.r,d.e.c=Math.max(d.e.c,g.e.c),d.e.r=Math.max(d.e.r,g.e.r),c==-1&&(d.e.r=c=g.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[y].length;++_)if(!(typeof e[y][_]>"u")){var w={v:e[y][_]},R=c+y,T=f+_;if(d.s.r>R&&(d.s.r=R),d.s.c>T&&(d.s.c=T),d.e.r<R&&(d.e.r=R),d.e.c<T&&(d.e.c=T),e[y][_]&&typeof e[y][_]=="object"&&!Array.isArray(e[y][_])&&!(e[y][_]instanceof Date))w=e[y][_];else if(Array.isArray(w.v)&&(w.f=e[y][_][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(r.nullError)w.t="e",w.v=0;else if(r.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=r.dateNF||on[14],r.cellDates?(w.t="d",w.w=rl(w.z,Cr(w.v))):(w.t="n",w.v=Cr(w.v),w.w=rl(w.z,w.v))):w.t="s";if(a)l[R]||(l[R]=[]),l[R][T]&&l[R][T].z&&(w.z=l[R][T].z),l[R][T]=w;else{var b=Lt({c:T,r:R});l[b]&&l[b].z&&(w.z=l[b].z),l[b]=w}}}return d.s.c<1e7&&(l["!ref"]=An(d)),l}function Fc(n,e){return XA(null,n,e)}function sM(n){return n.read_shift(4,"i")}function Pi(n,e){return e||(e=ve(4)),e.write_shift(4,n),e}function lr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Fn(n,e){var t=!1;return e==null&&(t=!0,e=ve(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function lM(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function oM(n,e){return e||(e=ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function vv(n,e){var t=n.l,r=n.read_shift(1),a=lr(n),l=[],c={t:a,h:a};if((r&1)!==0){for(var f=n.read_shift(4),h=0;h!=f;++h)l.push(lM(n));c.r=l}else c.r=[{ich:0,ifnt:0}];return n.l=t+e,c}function cM(n,e){var t=!1;return e==null&&(t=!0,e=ve(15+4*n.t.length)),e.write_shift(1,0),Fn(n.t,e),t?e.slice(0,e.l):e}var uM=vv;function fM(n,e){var t=!1;return e==null&&(t=!0,e=ve(23+4*n.t.length)),e.write_shift(1,1),Fn(n.t,e),e.write_shift(4,1),oM({},e),t?e.slice(0,e.l):e}function mi(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function fo(n,e){return e==null&&(e=ve(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function ho(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function mo(n,e){return e==null&&(e=ve(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var hM=lr,YA=Fn;function xv(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function hd(n,e){var t=!1;return e==null&&(t=!0,e=ve(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var dM=lr,Qg=xv,yv=hd;function $A(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var a=r===0?fd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Bl(e,0)>>2;return t?a/100:a}function QA(n,e){e==null&&(e=ve(4));var t=0,r=0,a=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?a:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function JA(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function mM(n,e){return e||(e=ve(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var po=JA,jc=mM;function Uc(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function no(n,e){return(e||ve(8)).write_shift(8,n,"f")}function pM(n){var e={},t=n.read_shift(1),r=t>>>1,a=n.read_shift(1),l=n.read_shift(2,"i"),c=n.read_shift(1),f=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=a;var d=SM[a];d&&(e.rgb=_T(d));break;case 2:e.rgb=_T([c,f,h]);break;case 3:e.theme=a;break}return l!=0&&(e.tint=l>0?l/32767:l/32768),e}function dd(n,e){if(e||(e=ve(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function gM(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function vM(n,e){e||(e=ve(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var ZA=2,zr=3,v0=11,md=19,x0=64,xM=65,yM=71,_M=4108,EM=4126,qn=80,uT={1:{n:"CodePage",t:ZA},2:{n:"Category",t:qn},3:{n:"PresentationFormat",t:qn},4:{n:"ByteCount",t:zr},5:{n:"LineCount",t:zr},6:{n:"ParagraphCount",t:zr},7:{n:"SlideCount",t:zr},8:{n:"NoteCount",t:zr},9:{n:"HiddenCount",t:zr},10:{n:"MultimediaClipCount",t:zr},11:{n:"ScaleCrop",t:v0},12:{n:"HeadingPairs",t:_M},13:{n:"TitlesOfParts",t:EM},14:{n:"Manager",t:qn},15:{n:"Company",t:qn},16:{n:"LinksUpToDate",t:v0},17:{n:"CharacterCount",t:zr},19:{n:"SharedDoc",t:v0},22:{n:"HyperlinksChanged",t:v0},23:{n:"AppVersion",t:zr,p:"version"},24:{n:"DigSig",t:xM},26:{n:"ContentType",t:qn},27:{n:"ContentStatus",t:qn},28:{n:"Language",t:qn},29:{n:"Version",t:qn},255:{},2147483648:{n:"Locale",t:md},2147483651:{n:"Behavior",t:md},1919054434:{}},fT={1:{n:"CodePage",t:ZA},2:{n:"Title",t:qn},3:{n:"Subject",t:qn},4:{n:"Author",t:qn},5:{n:"Keywords",t:qn},6:{n:"Comments",t:qn},7:{n:"Template",t:qn},8:{n:"LastAuthor",t:qn},9:{n:"RevNumber",t:qn},10:{n:"EditTime",t:x0},11:{n:"LastPrinted",t:x0},12:{n:"CreatedDate",t:x0},13:{n:"ModifiedDate",t:x0},14:{n:"PageCount",t:zr},15:{n:"WordCount",t:zr},16:{n:"CharCount",t:zr},17:{n:"Thumbnail",t:yM},18:{n:"Application",t:qn},19:{n:"DocSecurity",t:zr},255:{},2147483648:{n:"Locale",t:md},2147483651:{n:"Behavior",t:md},1919054434:{}};function TM(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var wM=TM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),SM=Ir(wM),jf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},AM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},y0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function e4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function t4(n,e){var t=Pk(AM),r=[],a;r[r.length]=bn,r[r.length]=De("Types",null,{xmlns:Pn.CT,"xmlns:xsd":Pn.xsd,"xmlns:xsi":Pn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return De("Default",null,{Extension:h[0],ContentType:h[1]})}));var l=function(h){n[h]&&n[h].length>0&&(a=n[h][0],r[r.length]=De("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:y0[h][e.bookType]||y0[h].xlsx}))},c=function(h){(n[h]||[]).forEach(function(d){r[r.length]=De("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:y0[h][e.bookType]||y0[h].xlsx})})},f=function(h){(n[h]||[]).forEach(function(d){r[r.length]=De("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[h][0]})})};return l("workbooks"),c("sheets"),c("charts"),f("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),c("metadata"),f("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Et={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function n4(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function gc(n){var e=[bn,De("Relationships",null,{xmlns:Pn.RELS})];return Jn(n["!id"]).forEach(function(t){e[e.length]=De("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Mt(n,e,t,r,a,l){if(a||(a={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,a.Id="rId"+e,a.Type=r,a.Target=t,[Et.HLINK,Et.XPATH,Et.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),n["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][a.Id]=a,n[("/"+a.Target).replace("//","/")]=a,e}function bM(n){var e=[bn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function hT(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function NM(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function RM(n){var e=[bn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(hT(n[t][0],n[t][1])),e.push(NM("",n[t][0]));return e.push(hT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function r4(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ad.version+"</meta:generator></office:meta></office:document-meta>"}var Yl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function pg(n,e,t,r,a){a[n]!=null||e==null||e===""||(a[n]=e,e=Pt(e),r[r.length]=t?De(n,e,t):Yn(n,e))}function i4(n,e){var t=e||{},r=[bn,De("cp:coreProperties",null,{"xmlns:cp":Pn.CORE_PROPS,"xmlns:dc":Pn.dc,"xmlns:dcterms":Pn.dcterms,"xmlns:dcmitype":Pn.dcmitype,"xmlns:xsi":Pn.xsi})],a={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&pg("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:$g(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),n.ModifiedDate!=null&&pg("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:$g(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var l=0;l!=Yl.length;++l){var c=Yl[l],f=t.Props&&t.Props[c[1]]!=null?t.Props[c[1]]:n?n[c[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&pg(c[0],f,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var vc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],a4=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function s4(n){var e=[],t=De;return n||(n={}),n.Application="SheetJS",e[e.length]=bn,e[e.length]=De("Properties",null,{xmlns:Pn.EXT_PROPS,"xmlns:vt":Pn.vt}),vc.forEach(function(r){if(n[r[1]]!==void 0){var a;switch(r[2]){case"string":a=Pt(String(n[r[1]]));break;case"bool":a=n[r[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(r[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Pt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function l4(n){var e=[bn,De("Properties",null,{xmlns:Pn.CUST_PROPS,"xmlns:vt":Pn.vt})];if(!n)return e.join("");var t=1;return Jn(n).forEach(function(a){++t,e[e.length]=De("property",Wk(n[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Pt(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var dT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function CM(n,e){var t=[];return Jn(dT).map(function(r){for(var a=0;a<Yl.length;++a)if(Yl[a][1]==r)return Yl[a];for(a=0;a<vc.length;++a)if(vc[a][1]==r)return vc[a];throw r}).forEach(function(r){if(n[r[1]]!=null){var a=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(Yn(dT[r[1]]||r[1],a))}}),De("DocumentProperties",t.join(""),{xmlns:Gr.o})}function IM(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return n&&Jn(n).forEach(function(l){if(Object.prototype.hasOwnProperty.call(n,l)){for(var c=0;c<Yl.length;++c)if(l==Yl[c][1])return;for(c=0;c<vc.length;++c)if(l==vc[c][1])return;for(c=0;c<t.length;++c)if(l==t[c])return;var f=n[l],h="string";typeof f=="number"?(h="float",f=String(f)):f===!0||f===!1?(h="boolean",f=f?"1":"0"):f=String(f),a.push(De(eT(l),f,{"dt:dt":h}))}}),e&&Jn(e).forEach(function(l){if(Object.prototype.hasOwnProperty.call(e,l)&&!(n&&Object.prototype.hasOwnProperty.call(n,l))){var c=e[l],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c instanceof Date?(f="dateTime.tz",c=c.toISOString()):c=String(c),a.push(De(eT(l),c,{"dt:dt":f}))}}),"<"+r+' xmlns="'+Gr.o+'">'+a.join("")+"</"+r+">"}function DM(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),a=(t-r)/Math.pow(2,32);r*=1e7,a*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),a+=l);var c=ve(8);return c.write_shift(4,r),c.write_shift(4,a),c}function mT(n,e){var t=ve(4),r=ve(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=ve(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=DM(e);break;case 31:case 80:for(r=ve(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Xn([t,r])}var o4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function OM(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function pT(n,e,t){var r=ve(8),a=[],l=[],c=8,f=0,h=ve(8),d=ve(8);if(h.write_shift(4,2),h.write_shift(4,1200),d.write_shift(4,1),l.push(h),a.push(d),c+=8+h.length,!e){d=ve(8),d.write_shift(4,0),a.unshift(d);var g=[ve(4)];for(g[0].write_shift(4,n.length),f=0;f<n.length;++f){var y=n[f][0];for(h=ve(8+2*(y.length+1)+(y.length%2?0:2)),h.write_shift(4,f+2),h.write_shift(4,y.length+1),h.write_shift(0,y,"dbcs");h.l!=h.length;)h.write_shift(1,0);g.push(h)}h=Xn(g),l.unshift(h),c+=8+h.length}for(f=0;f<n.length;++f)if(!(e&&!e[n[f][0]])&&!(o4.indexOf(n[f][0])>-1||a4.indexOf(n[f][0])>-1)&&n[f][1]!=null){var _=n[f][1],w=0;if(e){w=+e[n[f][0]];var R=t[w];if(R.p=="version"&&typeof _=="string"){var T=_.split(".");_=(+T[0]<<16)+(+T[1]||0)}h=mT(R.t,_)}else{var b=OM(_);b==-1&&(b=31,_=String(_)),h=mT(b,_)}l.push(h),d=ve(8),d.write_shift(4,e?w:2+f),a.push(d),c+=8+h.length}var H=8*(l.length+1);for(f=0;f<l.length;++f)a[f].write_shift(4,H),H+=l[f].length;return r.write_shift(4,c),r.write_shift(4,l.length),Xn([r].concat(a).concat(l))}function gT(n,e,t,r,a,l){var c=ve(a?68:48),f=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Bt.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,a?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,a?68:48);var h=pT(n,t,r);if(f.push(h),a){var d=pT(a,null,null);c.write_shift(16,l,"hex"),c.write_shift(4,68+h.length),f.push(d)}return Xn(f)}function kM(n,e){e||(e=ve(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function MM(n,e){return n.read_shift(e)===1}function gr(n,e){return e||(e=ve(2)),e.write_shift(2,+!!n),e}function c4(n){return n.read_shift(2,"u")}function ui(n,e){return e||(e=ve(2)),e.write_shift(2,n),e}function u4(n,e,t){return t||(t=ve(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function f4(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var l=n.read_shift(1);l&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var c=r?n.read_shift(r,a):"";return c}function PM(n){var e=n.t||"",t=ve(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=ve(2*e.length);r.write_shift(2*e.length,e,"utf16le");var a=[t,r];return Xn(a)}function LM(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var a=n.read_shift(1);return a===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function FM(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):LM(n,r,t)}function jM(n,e,t){if(t.biff>5)return FM(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function h4(n,e,t){return t||(t=ve(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function vT(n,e){e||(e=ve(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function UM(n){var e=ve(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),l=a>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}e.write_shift(4,2),e.write_shift(4,l);var c=[8,6815827,6619237,4849780,83];for(t=0;t<c.length;++t)e.write_shift(4,c[t]);if(l==28)r=r.slice(1),vT(r,e);else if(l&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));var f=a>-1?r.slice(0,a):r;for(e.write_shift(4,2*(f.length+1)),t=0;t<f.length;++t)e.write_shift(2,f.charCodeAt(t));e.write_shift(2,0),l&8&&vT(a>-1?r.slice(a+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),t=0;t<r.length-3*h;++t)e.write_shift(1,r.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function ro(n,e,t,r){return r||(r=ve(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function VM(n,e,t){var r=t.biff>8?4:2,a=n.read_shift(r),l=n.read_shift(r,"i"),c=n.read_shift(r,"i");return[a,l,c]}function BM(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);return{s:{c:r,r:e},e:{c:a,r:t}}}function d4(n,e){return e||(e=ve(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function _v(n,e,t){var r=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=ve(a);return l.write_shift(2,r),l.write_shift(2,e),a>4&&l.write_shift(2,29282),a>6&&l.write_shift(2,1997),a>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function zM(n,e){var t=!e||e.biff==8,r=ve(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function HM(n,e){var t=!e||e.biff>=8?2:1,r=ve(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function GM(n,e){var t=ve(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],a=0;a<n.length;++a)r[a]=PM(n[a]);var l=Xn([t].concat(r));return l.parts=[t.length].concat(r.map(function(c){return c.length})),l}function qM(){var n=ve(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function WM(n){var e=ve(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function KM(n,e){var t=n.name||"Arial",r=e&&e.biff==5,a=r?15+t.length:16+2*t.length,l=ve(a);return l.write_shift(2,n.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,t.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),l}function XM(n,e,t,r){var a=ve(10);return ro(n,e,r,a),a.write_shift(4,t),a}function YM(n,e,t,r,a){var l=!a||a.biff==8,c=ve(8+ +l+(1+l)*t.length);return ro(n,e,r,c),c.write_shift(2,t.length),l&&c.write_shift(1,1),c.write_shift((1+l)*t.length,t,l?"utf16le":"sbcs"),c}function $M(n,e,t,r){var a=t&&t.biff==5;r||(r=ve(a?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(a?1:2,e.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}function QM(n,e){var t=e.biff==8||!e.biff?4:2,r=ve(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function xT(n,e,t,r){var a=t&&t.biff==5;r||(r=ve(a?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var l=0;return n.numFmtId>0&&a&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function JM(n){var e=ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function ZM(n,e,t,r,a,l){var c=ve(8);return ro(n,e,r,c),u4(t,l,c),c}function e9(n,e,t,r){var a=ve(14);return ro(n,e,r,a),no(t,a),a}function t9(n,e,t){if(t.biff<8)return n9(n,e,t);for(var r=[],a=n.l+e,l=n.read_shift(t.biff>8?4:2);l--!==0;)r.push(VM(n,t.biff>8?12:6,t));if(n.l!=a)throw new Error("Bad ExternSheet: "+n.l+" != "+a);return r}function n9(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=f4(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function r9(n){var e=ve(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)d4(n[t],e);return e}function i9(n){var e=ve(24),t=Ln(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(r[a],16));return Xn([e,UM(n[1])])}function a9(n){var e=n[1].Tooltip,t=ve(10+2*(e.length+1));t.write_shift(2,2048);var r=Ln(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function s9(n){return n||(n=ve(4)),n.write_shift(2,1),n.write_shift(2,1),n}function l9(n,e,t){if(!t.cellStyles)return ha(n,e);var r=t&&t.biff>=12?4:2,a=n.read_shift(r),l=n.read_shift(r),c=n.read_shift(r),f=n.read_shift(r),h=n.read_shift(2);r==2&&(n.l+=2);var d={s:a,e:l,w:c,ixfe:f,flags:h};return(t.biff>=5||!t.biff)&&(d.level=h>>8&7),d}function o9(n,e){var t=ve(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function c9(n){for(var e=ve(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function u9(n,e,t){var r=ve(15);return Vf(r,n,e),r.write_shift(8,t,"f"),r}function f9(n,e,t){var r=ve(9);return Vf(r,n,e),r.write_shift(2,t),r}var h9=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=cv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(f,h){var d=[],g=to(1);switch(h.type){case"base64":g=Ci(ts(f));break;case"binary":g=Ci(f);break;case"buffer":case"array":g=f;break}Hr(g,0);var y=g.read_shift(1),_=!!(y&136),w=!1,R=!1;switch(y){case 2:break;case 3:break;case 48:w=!0,_=!0;break;case 49:w=!0,_=!0;break;case 131:break;case 139:break;case 140:R=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var T=0,b=521;y==2&&(T=g.read_shift(2)),g.l+=3,y!=2&&(T=g.read_shift(4)),T>1048576&&(T=1e6),y!=2&&(b=g.read_shift(2));var H=g.read_shift(2),q=h.codepage||1252;y!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(q=n[g[g.l]]),g.l+=1,g.l+=2),R&&(g.l+=36);for(var B=[],X={},he=Math.min(g.length,y==2?521:b-10-(w?264:0)),ne=R?32:11;g.l<he&&g[g.l]!=13;)switch(X={},X.name=sd.utils.decode(q,g.slice(g.l,g.l+ne)).replace(/[\u0000\r\n].*$/g,""),g.l+=ne,X.type=String.fromCharCode(g.read_shift(1)),y!=2&&!R&&(X.offset=g.read_shift(4)),X.len=g.read_shift(1),y==2&&(X.offset=g.read_shift(2)),X.dec=g.read_shift(1),X.name.length&&B.push(X),y!=2&&(g.l+=R?13:14),X.type){case"B":(!w||X.len!=8)&&h.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+X.type)}if(g[g.l]!==13&&(g.l=b-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=b;var N=0,I=0;for(d[0]=[],I=0;I!=B.length;++I)d[0][I]=B[I].name;for(;T-- >0;){if(g[g.l]===42){g.l+=H;continue}for(++g.l,d[++N]=[],I=0,I=0;I!=B.length;++I){var C=g.slice(g.l,g.l+B[I].len);g.l+=B[I].len,Hr(C,0);var F=sd.utils.decode(q,C);switch(B[I].type){case"C":F.trim().length&&(d[N][I]=F.replace(/\s+$/,""));break;case"D":F.length===8?d[N][I]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):d[N][I]=F;break;case"F":d[N][I]=parseFloat(F.trim());break;case"+":case"I":d[N][I]=R?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":d[N][I]=!0;break;case"N":case"F":d[N][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));d[N][I]="##MEMO##"+(R?parseInt(F.trim(),10):C.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(d[N][I]=+F||0);break;case"@":d[N][I]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[N][I]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[N][I]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[N][I]=-C.read_shift(-8,"f");break;case"B":if(w&&B[I].len==8){d[N][I]=C.read_shift(8,"f");break}case"G":case"P":C.l+=B[I].len;break;case"0":if(B[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+B[I].type)}}}if(y!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=B,d}function r(f,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var g=Fc(t(f,d),d);return g["!cols"]=d.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete d.DBF,g}function a(f,h){try{return uo(r(f,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function c(f,h){var d=h||{};if(+d.codepage>=0&&df(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var g=Rr(),y=yd(f,{header:1,raw:!0,cellDates:!0}),_=y[0],w=y.slice(1),R=f["!cols"]||[],T=0,b=0,H=0,q=1;for(T=0;T<_.length;++T){if(((R[T]||{}).DBF||{}).name){_[T]=R[T].DBF.name,++H;continue}if(_[T]!=null){if(++H,typeof _[T]=="number"&&(_[T]=_[T].toString(10)),typeof _[T]!="string")throw new Error("DBF Invalid column name "+_[T]+" |"+typeof _[T]+"|");if(_.indexOf(_[T])!==T){for(b=0;b<1024;++b)if(_.indexOf(_[T]+"_"+b)==-1){_[T]+="_"+b;break}}}}var B=$t(f["!ref"]),X=[],he=[],ne=[];for(T=0;T<=B.e.c-B.s.c;++T){var N="",I="",C=0,F=[];for(b=0;b<w.length;++b)w[b][T]!=null&&F.push(w[b][T]);if(F.length==0||_[T]==null){X[T]="?";continue}for(b=0;b<F.length;++b){switch(typeof F[b]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=F[b]instanceof Date?"D":"C";break;default:I="C"}C=Math.max(C,String(F[b]).length),N=N&&N!=I?"C":I}C>250&&(C=250),I=((R[T]||{}).DBF||{}).type,I=="C"&&R[T].DBF.len>C&&(C=R[T].DBF.len),N=="B"&&I=="N"&&(N="N",ne[T]=R[T].DBF.dec,C=R[T].DBF.len),he[T]=N=="C"||I=="N"?C:l[N]||0,q+=he[T],X[T]=N}var M=g.next(32);for(M.write_shift(4,318902576),M.write_shift(4,w.length),M.write_shift(2,296+32*H),M.write_shift(2,q),T=0;T<4;++T)M.write_shift(4,0);for(M.write_shift(4,0|(+e[pA]||3)<<8),T=0,b=0;T<_.length;++T)if(_[T]!=null){var G=g.next(32),U=(_[T].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,U,"sbcs"),G.write_shift(1,X[T]=="?"?"C":X[T],"sbcs"),G.write_shift(4,b),G.write_shift(1,he[T]||l[X[T]]||0),G.write_shift(1,ne[T]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),b+=he[T]||l[X[T]]||0}var We=g.next(264);for(We.write_shift(4,13),T=0;T<65;++T)We.write_shift(4,0);for(T=0;T<w.length;++T){var Ge=g.next(q);for(Ge.write_shift(1,0),b=0;b<_.length;++b)if(_[b]!=null)switch(X[b]){case"L":Ge.write_shift(1,w[T][b]==null?63:w[T][b]?84:70);break;case"B":Ge.write_shift(8,w[T][b]||0,"f");break;case"N":var pe="0";for(typeof w[T][b]=="number"&&(pe=w[T][b].toFixed(ne[b]||0)),H=0;H<he[b]-pe.length;++H)Ge.write_shift(1,32);Ge.write_shift(1,pe,"sbcs");break;case"D":w[T][b]?(Ge.write_shift(4,("0000"+w[T][b].getFullYear()).slice(-4),"sbcs"),Ge.write_shift(2,("00"+(w[T][b].getMonth()+1)).slice(-2),"sbcs"),Ge.write_shift(2,("00"+w[T][b].getDate()).slice(-2),"sbcs")):Ge.write_shift(8,"00000000","sbcs");break;case"C":var Ne=String(w[T][b]!=null?w[T][b]:"").slice(0,he[b]);for(Ge.write_shift(1,Ne,"sbcs"),H=0;H<he[b]-Ne.length;++H)Ge.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:a,to_sheet:r,from_sheet:c}})(),d9=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Jn(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(_,w){var R=n[w];return typeof R=="number"?zE(R):R},r=function(_,w,R){var T=w.charCodeAt(0)-32<<4|R.charCodeAt(0)-48;return T==59?_:zE(T)};n["|"]=254;function a(_,w){switch(w.type){case"base64":return l(ts(_),w);case"binary":return l(_,w);case"buffer":return l(St&&Buffer.isBuffer(_)?_.toString("binary"):Pf(_),w);case"array":return l(Xd(_),w)}throw new Error("Unrecognized type "+w.type)}function l(_,w){var R=_.split(/[\n\r]+/),T=-1,b=-1,H=0,q=0,B=[],X=[],he=null,ne={},N=[],I=[],C=[],F=0,M;for(+w.codepage>=0&&df(+w.codepage);H!==R.length;++H){F=0;var G=R[H].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),U=G.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),We=U[0],Ge;if(G.length>0)switch(We){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&X.push(G.slice(3).replace(/;;/g,";"));break;case"C":var pe=!1,Ne=!1,Be=!1,Ye=!1,nt=-1,Z=-1;for(q=1;q<U.length;++q)switch(U[q].charAt(0)){case"A":break;case"X":b=parseInt(U[q].slice(1))-1,Ne=!0;break;case"Y":for(T=parseInt(U[q].slice(1))-1,Ne||(b=0),M=B.length;M<=T;++M)B[M]=[];break;case"K":Ge=U[q].slice(1),Ge.charAt(0)==='"'?Ge=Ge.slice(1,Ge.length-1):Ge==="TRUE"?Ge=!0:Ge==="FALSE"?Ge=!1:isNaN(Xa(Ge))?isNaN(pf(Ge).getDate())||(Ge=vr(Ge)):(Ge=Xa(Ge),he!==null&&NA(he)&&(Ge=DA(Ge))),pe=!0;break;case"E":Ye=!0;var k=fP(U[q].slice(1),{r:T,c:b});B[T][b]=[B[T][b],k];break;case"S":Be=!0,B[T][b]=[B[T][b],"S5S"];break;case"G":break;case"R":nt=parseInt(U[q].slice(1))-1;break;case"C":Z=parseInt(U[q].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+G)}if(pe&&(B[T][b]&&B[T][b].length==2?B[T][b][0]=Ge:B[T][b]=Ge,he=null),Be){if(Ye)throw new Error("SYLK shared formula cannot have own formula");var J=nt>-1&&B[nt][Z];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");B[T][b][1]=hP(J[1],{r:T-nt,c:b-Z})}break;case"F":var K=0;for(q=1;q<U.length;++q)switch(U[q].charAt(0)){case"X":b=parseInt(U[q].slice(1))-1,++K;break;case"Y":for(T=parseInt(U[q].slice(1))-1,M=B.length;M<=T;++M)B[M]=[];break;case"M":F=parseInt(U[q].slice(1))/20;break;case"F":break;case"G":break;case"P":he=X[parseInt(U[q].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=U[q].slice(1).split(" "),M=parseInt(C[0],10);M<=parseInt(C[1],10);++M)F=parseInt(C[2],10),I[M-1]=F===0?{hidden:!0}:{wch:F},Ev(I[M-1]);break;case"C":b=parseInt(U[q].slice(1))-1,I[b]||(I[b]={});break;case"R":T=parseInt(U[q].slice(1))-1,N[T]||(N[T]={}),F>0?(N[T].hpt=F,N[T].hpx=x4(F)):F===0&&(N[T].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+G)}K<1&&(he=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+G)}}return N.length>0&&(ne["!rows"]=N),I.length>0&&(ne["!cols"]=I),w&&w.sheetRows&&(B=B.slice(0,w.sheetRows)),[B,ne]}function c(_,w){var R=a(_,w),T=R[0],b=R[1],H=Fc(T,w);return Jn(b).forEach(function(q){H[q]=b[q]}),H}function f(_,w){return uo(c(_,w),w)}function h(_,w,R,T){var b="C;Y"+(R+1)+";X"+(T+1)+";K";switch(_.t){case"n":b+=_.v||0,_.f&&!_.F&&(b+=";E"+wv(_.f,{r:R,c:T}));break;case"b":b+=_.v?"TRUE":"FALSE";break;case"e":b+=_.w||_.v;break;case"d":b+='"'+(_.w||_.v)+'"';break;case"s":b+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(_,w){w.forEach(function(R,T){var b="F;W"+(T+1)+" "+(T+1)+" ";R.hidden?b+="0":(typeof R.width=="number"&&!R.wpx&&(R.wpx=pd(R.width)),typeof R.wpx=="number"&&!R.wch&&(R.wch=gd(R.wpx)),typeof R.wch=="number"&&(b+=Math.round(R.wch))),b.charAt(b.length-1)!=" "&&_.push(b)})}function g(_,w){w.forEach(function(R,T){var b="F;";R.hidden?b+="M0;":R.hpt?b+="M"+20*R.hpt+";":R.hpx&&(b+="M"+20*vd(R.hpx)+";"),b.length>2&&_.push(b+"R"+(T+1))})}function y(_,w){var R=["ID;PWXL;N;E"],T=[],b=$t(_["!ref"]),H,q=Array.isArray(_),B=`\r
`;R.push("P;PGeneral"),R.push("F;P0;DG0G8;M255"),_["!cols"]&&d(R,_["!cols"]),_["!rows"]&&g(R,_["!rows"]),R.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var X=b.s.r;X<=b.e.r;++X)for(var he=b.s.c;he<=b.e.c;++he){var ne=Lt({r:X,c:he});H=q?(_[X]||[])[he]:_[ne],!(!H||H.v==null&&(!H.f||H.F))&&T.push(h(H,_,X,he))}return R.join(B)+B+T.join(B)+B+"E"+B}return{to_workbook:f,to_sheet:c,from_sheet:y}})(),m9=(function(){function n(l,c){switch(c.type){case"base64":return e(ts(l),c);case"binary":return e(l,c);case"buffer":return e(St&&Buffer.isBuffer(l)?l.toString("binary"):Pf(l),c);case"array":return e(Xd(l),c)}throw new Error("Unrecognized type "+c.type)}function e(l,c){for(var f=l.split(`
`),h=-1,d=-1,g=0,y=[];g!==f.length;++g){if(f[g].trim()==="BOT"){y[++h]=[],d=0;continue}if(!(h<0)){var _=f[g].trim().split(","),w=_[0],R=_[1];++g;for(var T=f[g]||"";(T.match(/["]/g)||[]).length&1&&g<f.length-1;)T+=`
`+f[++g];switch(T=T.trim(),+w){case-1:if(T==="BOT"){y[++h]=[],d=0;continue}else if(T!=="EOD")throw new Error("Unrecognized DIF special command "+T);break;case 0:T==="TRUE"?y[h][d]=!0:T==="FALSE"?y[h][d]=!1:isNaN(Xa(R))?isNaN(pf(R).getDate())?y[h][d]=R:y[h][d]=vr(R):y[h][d]=Xa(R),++d;break;case 1:T=T.slice(1,T.length-1),T=T.replace(/""/g,'"'),T&&T.match(/^=".*"$/)&&(T=T.slice(2,-1)),y[h][d++]=T!==""?T:null;break}if(T==="EOD")break}}return c&&c.sheetRows&&(y=y.slice(0,c.sheetRows)),y}function t(l,c){return Fc(n(l,c),c)}function r(l,c){return uo(t(l,c),c)}var a=(function(){var l=function(h,d,g,y,_){h.push(d),h.push(g+","+y),h.push('"'+_.replace(/"/g,'""')+'"')},c=function(h,d,g,y){h.push(d+","+g),h.push(d==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(h){var d=[],g=$t(h["!ref"]),y,_=Array.isArray(h);l(d,"TABLE",0,1,"sheetjs"),l(d,"VECTORS",0,g.e.r-g.s.r+1,""),l(d,"TUPLES",0,g.e.c-g.s.c+1,""),l(d,"DATA",0,0,"");for(var w=g.s.r;w<=g.e.r;++w){c(d,-1,0,"BOT");for(var R=g.s.c;R<=g.e.c;++R){var T=Lt({r:w,c:R});if(y=_?(h[w]||[])[R]:h[T],!y){c(d,1,0,"");continue}switch(y.t){case"n":var b=y.w;!b&&y.v!=null&&(b=y.v),b==null?y.f&&!y.F?c(d,1,0,"="+y.f):c(d,1,0,""):c(d,0,b,"V");break;case"b":c(d,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":c(d,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=rl(y.z||on[14],Cr(vr(y.v)))),c(d,0,y.w,"V");break;default:c(d,1,0,"")}}}c(d,-1,0,"EOD");var H=`\r
`,q=d.join(H);return q}})();return{to_workbook:r,to_sheet:t,from_sheet:a}})(),m4=(function(){function n(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(y,_){for(var w=y.split(`
`),R=-1,T=-1,b=0,H=[];b!==w.length;++b){var q=w[b].trim().split(":");if(q[0]==="cell"){var B=Ln(q[1]);if(H.length<=B.r)for(R=H.length;R<=B.r;++R)H[R]||(H[R]=[]);switch(R=B.r,T=B.c,q[2]){case"t":H[R][T]=n(q[3]);break;case"v":H[R][T]=+q[3];break;case"vtf":var X=q[q.length-1];case"vtc":switch(q[3]){case"nl":H[R][T]=!!+q[4];break;default:H[R][T]=+q[4];break}q[2]=="vtf"&&(H[R][T]=[H[R][T],X])}}}return _&&_.sheetRows&&(H=H.slice(0,_.sheetRows)),H}function r(y,_){return Fc(t(y,_),_)}function a(y,_){return uo(r(y,_),_)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(y){if(!y||!y["!ref"])return"";for(var _=[],w=[],R,T="",b=Xr(y["!ref"]),H=Array.isArray(y),q=b.s.r;q<=b.e.r;++q)for(var B=b.s.c;B<=b.e.c;++B)if(T=Lt({r:q,c:B}),R=H?(y[q]||[])[B]:y[T],!(!R||R.v==null||R.t==="z")){switch(w=["cell",T,"t"],R.t){case"s":case"str":w.push(e(R.v));break;case"n":R.f?(w[2]="vtf",w[3]="n",w[4]=R.v,w[5]=e(R.f)):(w[2]="v",w[3]=R.v);break;case"b":w[2]="vt"+(R.f?"f":"c"),w[3]="nl",w[4]=R.v?"1":"0",w[5]=e(R.f||(R.v?"TRUE":"FALSE"));break;case"d":var X=Cr(vr(R.v));w[2]="vtc",w[3]="nd",w[4]=""+X,w[5]=R.w||rl(R.z||on[14],X);break;case"e":continue}_.push(w.join(":"))}return _.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function g(y){return[l,c,f,c,d(y),h].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:g}})(),p9=(function(){function n(g,y,_,w,R){R.raw?y[_][w]=g:g===""||(g==="TRUE"?y[_][w]=!0:g==="FALSE"?y[_][w]=!1:isNaN(Xa(g))?isNaN(pf(g).getDate())?y[_][w]=g:y[_][w]=vr(g):y[_][w]=Xa(g))}function e(g,y){var _=y||{},w=[];if(!g||g.length===0)return w;for(var R=g.split(/[\r\n]/),T=R.length-1;T>=0&&R[T].length===0;)--T;for(var b=10,H=0,q=0;q<=T;++q)H=R[q].indexOf(" "),H==-1?H=R[q].length:H++,b=Math.max(b,H);for(q=0;q<=T;++q){w[q]=[];var B=0;for(n(R[q].slice(0,b).trim(),w,q,B,_),B=1;B<=(R[q].length-b)/10+1;++B)n(R[q].slice(b+(B-1)*10,b+B*10).trim(),w,q,B,_)}return _.sheetRows&&(w=w.slice(0,_.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(g){for(var y={},_=!1,w=0,R=0;w<g.length;++w)(R=g.charCodeAt(w))==34?_=!_:!_&&R in t&&(y[R]=(y[R]||0)+1);R=[];for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&R.push([y[w],w]);if(!R.length){y=r;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&R.push([y[w],w])}return R.sort(function(T,b){return T[0]-b[0]||r[T[1]]-r[b[1]]}),t[R.pop()[1]]||44}function l(g,y){var _=y||{},w="",R=_.dense?[]:{},T={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(w=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(w=g.charAt(4),g=g.slice(6)):w=a(g.slice(0,1024)):_&&_.FS?w=_.FS:w=a(g.slice(0,1024));var b=0,H=0,q=0,B=0,X=0,he=w.charCodeAt(0),ne=!1,N=0,I=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var C=_.dateNF!=null?Dk(_.dateNF):null;function F(){var M=g.slice(B,X),G={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)G.t="z";else if(_.raw)G.t="s",G.v=M;else if(M.trim().length===0)G.t="s",G.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(G.t="s",G.v=M.slice(2,-1).replace(/""/g,'"')):dP(M)?(G.t="n",G.f=M.slice(1)):(G.t="s",G.v=M);else if(M=="TRUE")G.t="b",G.v=!0;else if(M=="FALSE")G.t="b",G.v=!1;else if(!isNaN(q=Xa(M)))G.t="n",_.cellText!==!1&&(G.w=M),G.v=q;else if(!isNaN(pf(M).getDate())||C&&M.match(C)){G.z=_.dateNF||on[14];var U=0;C&&M.match(C)&&(M=Ok(M,_.dateNF,M.match(C)||[]),U=1),_.cellDates?(G.t="d",G.v=vr(M,U)):(G.t="n",G.v=Cr(vr(M,U))),_.cellText!==!1&&(G.w=rl(G.z,G.v instanceof Date?Cr(G.v):G.v)),_.cellNF||delete G.z}else G.t="s",G.v=M;if(G.t=="z"||(_.dense?(R[b]||(R[b]=[]),R[b][H]=G):R[Lt({c:H,r:b})]=G),B=X+1,I=g.charCodeAt(B),T.e.c<H&&(T.e.c=H),T.e.r<b&&(T.e.r=b),N==he)++H;else if(H=0,++b,_.sheetRows&&_.sheetRows<=b)return!0}e:for(;X<g.length;++X)switch(N=g.charCodeAt(X)){case 34:I===34&&(ne=!ne);break;case he:case 10:case 13:if(!ne&&F())break e;break}return X-B>0&&F(),R["!ref"]=An(T),R}function c(g,y){return!(y&&y.PRN)||y.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?l(g,y):Fc(e(g,y),y)}function f(g,y){var _="",w=y.type=="string"?[0,0,0,0]:Nj(g,y);switch(y.type){case"base64":_=ts(g);break;case"binary":_=g;break;case"buffer":y.codepage==65001?_=g.toString("utf8"):y.codepage&&typeof sd<"u"||(_=St&&Buffer.isBuffer(g)?g.toString("binary"):Pf(g));break;case"array":_=Xd(g);break;case"string":_=g;break;default:throw new Error("Unrecognized type "+y.type)}return w[0]==239&&w[1]==187&&w[2]==191?_=Qu(_.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?_=Qu(_):y.type=="binary"&&typeof sd<"u",_.slice(0,19)=="socialcalc:version:"?m4.to_sheet(y.type=="string"?_:Qu(_),y):c(_,y)}function h(g,y){return uo(f(g,y),y)}function d(g){for(var y=[],_=$t(g["!ref"]),w,R=Array.isArray(g),T=_.s.r;T<=_.e.r;++T){for(var b=[],H=_.s.c;H<=_.e.c;++H){var q=Lt({r:T,c:H});if(w=R?(g[T]||[])[H]:g[q],!w||w.v==null){b.push("          ");continue}for(var B=(w.w||(ns(w),w.w)||"").slice(0,10);B.length<10;)B+=" ";b.push(B+(H===0?" ":""))}y.push(b.join(""))}return y.join(`
`)}return{to_workbook:h,to_sheet:f,from_sheet:d}})(),yT=(function(){function n(k,J,K){if(k){Hr(k,k.l||0);for(var Q=K.Enum||nt;k.l<k.length;){var de=k.read_shift(2),Re=Q[de]||Q[65535],Fe=k.read_shift(2),Ie=k.l+Fe,Pe=Re.f&&Re.f(k,Fe,K);if(k.l=Ie,J(Pe,Re,de))return}}}function e(k,J){switch(J.type){case"base64":return t(Ci(ts(k)),J);case"binary":return t(Ci(k),J);case"buffer":case"array":return t(k,J)}throw"Unsupported type "+J.type}function t(k,J){if(!k)return k;var K=J||{},Q=K.dense?[]:{},de="Sheet1",Re="",Fe=0,Ie={},Pe=[],vt=[],lt={s:{r:0,c:0},e:{r:0,c:0}},nn=K.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)K.Enum=nt,n(k,function(Ue,Dn,Nt){switch(Nt){case 0:K.vers=Ue,Ue>=4096&&(K.qpro=!0);break;case 6:lt=Ue;break;case 204:Ue&&(Re=Ue);break;case 222:Re=Ue;break;case 15:case 51:K.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Nt==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=K.dateNF||on[14],K.cellDates&&(Ue[1].t="d",Ue[1].v=DA(Ue[1].v))),K.qpro&&Ue[3]>Fe&&(Q["!ref"]=An(lt),Ie[de]=Q,Pe.push(de),Q=K.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Fe=Ue[3],de=Re||"Sheet"+(Fe+1),Re="");var zt=K.dense?(Q[Ue[0].r]||[])[Ue[0].c]:Q[Lt(Ue[0])];if(zt){zt.t=Ue[1].t,zt.v=Ue[1].v,Ue[1].z!=null&&(zt.z=Ue[1].z),Ue[1].f!=null&&(zt.f=Ue[1].f);break}K.dense?(Q[Ue[0].r]||(Q[Ue[0].r]=[]),Q[Ue[0].r][Ue[0].c]=Ue[1]):Q[Lt(Ue[0])]=Ue[1];break}},K);else if(k[2]==26||k[2]==14)K.Enum=Z,k[2]==14&&(K.qpro=!0,k.l=0),n(k,function(Ue,Dn,Nt){switch(Nt){case 204:de=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Fe&&(Q["!ref"]=An(lt),Ie[de]=Q,Pe.push(de),Q=K.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Fe=Ue[3],de="Sheet"+(Fe+1)),nn>0&&Ue[0].r>=nn)break;K.dense?(Q[Ue[0].r]||(Q[Ue[0].r]=[]),Q[Ue[0].r][Ue[0].c]=Ue[1]):Q[Lt(Ue[0])]=Ue[1],lt.e.c<Ue[0].c&&(lt.e.c=Ue[0].c),lt.e.r<Ue[0].r&&(lt.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(vt[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:vt[Ue[0]]=Ue[1],Ue[0]==Fe&&(de=Ue[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(Q["!ref"]=An(lt),Ie[Re||de]=Q,Pe.push(Re||de),!vt.length)return{SheetNames:Pe,Sheets:Ie};for(var at={},cr=[],bt=0;bt<vt.length;++bt)Ie[Pe[bt]]?(cr.push(vt[bt]||Pe[bt]),at[vt[bt]]=Ie[vt[bt]]||Ie[Pe[bt]]):(cr.push(vt[bt]),at[vt[bt]]={"!ref":"A1"});return{SheetNames:cr,Sheets:at}}function r(k,J){var K=J||{};if(+K.codepage>=0&&df(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Rr(),de=$t(k["!ref"]),Re=Array.isArray(k),Fe=[];Oe(Q,0,l(1030)),Oe(Q,6,h(de));for(var Ie=Math.min(de.e.r,8191),Pe=de.s.r;Pe<=Ie;++Pe)for(var vt=$n(Pe),lt=de.s.c;lt<=de.e.c;++lt){Pe===de.s.r&&(Fe[lt]=sr(lt));var nn=Fe[lt]+vt,at=Re?(k[Pe]||[])[lt]:k[nn];if(!(!at||at.t=="z"))if(at.t=="n")(at.v|0)==at.v&&at.v>=-32768&&at.v<=32767?Oe(Q,13,w(Pe,lt,at.v)):Oe(Q,14,T(Pe,lt,at.v));else{var cr=ns(at);Oe(Q,15,y(Pe,lt,cr.slice(0,239)))}}return Oe(Q,1),Q.end()}function a(k,J){var K=J||{};if(+K.codepage>=0&&df(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Rr();Oe(Q,0,c(k));for(var de=0,Re=0;de<k.SheetNames.length;++de)(k.Sheets[k.SheetNames[de]]||{})["!ref"]&&Oe(Q,27,Ye(k.SheetNames[de],Re++));var Fe=0;for(de=0;de<k.SheetNames.length;++de){var Ie=k.Sheets[k.SheetNames[de]];if(!(!Ie||!Ie["!ref"])){for(var Pe=$t(Ie["!ref"]),vt=Array.isArray(Ie),lt=[],nn=Math.min(Pe.e.r,8191),at=Pe.s.r;at<=nn;++at)for(var cr=$n(at),bt=Pe.s.c;bt<=Pe.e.c;++bt){at===Pe.s.r&&(lt[bt]=sr(bt));var Ue=lt[bt]+cr,Dn=vt?(Ie[at]||[])[bt]:Ie[Ue];if(!(!Dn||Dn.t=="z"))if(Dn.t=="n")Oe(Q,23,F(at,bt,Fe,Dn.v));else{var Nt=ns(Dn);Oe(Q,22,N(at,bt,Fe,Nt.slice(0,239)))}}++Fe}}return Oe(Q,1),Q.end()}function l(k){var J=ve(2);return J.write_shift(2,k),J}function c(k){var J=ve(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var K=0,Q=0,de=0,Re=0;Re<k.SheetNames.length;++Re){var Fe=k.SheetNames[Re],Ie=k.Sheets[Fe];if(!(!Ie||!Ie["!ref"])){++de;var Pe=Xr(Ie["!ref"]);K<Pe.e.r&&(K=Pe.e.r),Q<Pe.e.c&&(Q=Pe.e.c)}}return K>8191&&(K=8191),J.write_shift(2,K),J.write_shift(1,de),J.write_shift(1,Q),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function f(k,J,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&K.qpro?(Q.s.c=k.read_shift(1),k.l++,Q.s.r=k.read_shift(2),Q.e.c=k.read_shift(1),k.l++,Q.e.r=k.read_shift(2),Q):(Q.s.c=k.read_shift(2),Q.s.r=k.read_shift(2),J==12&&K.qpro&&(k.l+=2),Q.e.c=k.read_shift(2),Q.e.r=k.read_shift(2),J==12&&K.qpro&&(k.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function h(k){var J=ve(8);return J.write_shift(2,k.s.c),J.write_shift(2,k.s.r),J.write_shift(2,k.e.c),J.write_shift(2,k.e.r),J}function d(k,J,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=k.read_shift(1),Q[3]=k.read_shift(1),Q[0].r=k.read_shift(2),k.l+=2):(Q[2]=k.read_shift(1),Q[0].c=k.read_shift(2),Q[0].r=k.read_shift(2)),Q}function g(k,J,K){var Q=k.l+J,de=d(k,J,K);if(de[1].t="s",K.vers==20768){k.l++;var Re=k.read_shift(1);return de[1].v=k.read_shift(Re,"utf8"),de}return K.qpro&&k.l++,de[1].v=k.read_shift(Q-k.l,"cstr"),de}function y(k,J,K){var Q=ve(7+K.length);Q.write_shift(1,255),Q.write_shift(2,J),Q.write_shift(2,k),Q.write_shift(1,39);for(var de=0;de<Q.length;++de){var Re=K.charCodeAt(de);Q.write_shift(1,Re>=128?95:Re)}return Q.write_shift(1,0),Q}function _(k,J,K){var Q=d(k,J,K);return Q[1].v=k.read_shift(2,"i"),Q}function w(k,J,K){var Q=ve(7);return Q.write_shift(1,255),Q.write_shift(2,J),Q.write_shift(2,k),Q.write_shift(2,K,"i"),Q}function R(k,J,K){var Q=d(k,J,K);return Q[1].v=k.read_shift(8,"f"),Q}function T(k,J,K){var Q=ve(13);return Q.write_shift(1,255),Q.write_shift(2,J),Q.write_shift(2,k),Q.write_shift(8,K,"f"),Q}function b(k,J,K){var Q=k.l+J,de=d(k,J,K);if(de[1].v=k.read_shift(8,"f"),K.qpro)k.l=Q;else{var Re=k.read_shift(2);X(k.slice(k.l,k.l+Re),de),k.l+=Re}return de}function H(k,J,K){var Q=J&32768;return J&=-32769,J=(Q?k:0)+(J>=8192?J-16384:J),(Q?"":"$")+(K?sr(J):$n(J))}var q={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},B=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function X(k,J){Hr(k,0);for(var K=[],Q=0,de="",Re="",Fe="",Ie="";k.l<k.length;){var Pe=k[k.l++];switch(Pe){case 0:K.push(k.read_shift(8,"f"));break;case 1:Re=H(J[0].c,k.read_shift(2),!0),de=H(J[0].r,k.read_shift(2),!1),K.push(Re+de);break;case 2:{var vt=H(J[0].c,k.read_shift(2),!0),lt=H(J[0].r,k.read_shift(2),!1);Re=H(J[0].c,k.read_shift(2),!0),de=H(J[0].r,k.read_shift(2),!1),K.push(vt+lt+":"+Re+de)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(k.read_shift(2));break;case 6:{for(var nn="";Pe=k[k.l++];)nn+=String.fromCharCode(Pe);K.push('"'+nn.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:Ie=K.pop(),Fe=K.pop(),K.push(["AND","OR"][Pe-20]+"("+Fe+","+Ie+")");break;default:if(Pe<32&&B[Pe])Ie=K.pop(),Fe=K.pop(),K.push(Fe+B[Pe]+Ie);else if(q[Pe]){if(Q=q[Pe][1],Q==69&&(Q=k[k.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+K.join("|")+"|");return}var at=K.slice(-Q);K.length-=Q,K.push(q[Pe][0]+"("+at.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}K.length==1?J[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function he(k){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=k.read_shift(2),J[3]=k[k.l++],J[0].c=k[k.l++],J}function ne(k,J){var K=he(k);return K[1].t="s",K[1].v=k.read_shift(J-4,"cstr"),K}function N(k,J,K,Q){var de=ve(6+Q.length);de.write_shift(2,k),de.write_shift(1,K),de.write_shift(1,J),de.write_shift(1,39);for(var Re=0;Re<Q.length;++Re){var Fe=Q.charCodeAt(Re);de.write_shift(1,Fe>=128?95:Fe)}return de.write_shift(1,0),de}function I(k,J){var K=he(k);K[1].v=k.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function C(k,J){var K=he(k),Q=k.read_shift(4),de=k.read_shift(4),Re=k.read_shift(2);if(Re==65535)return Q===0&&de===3221225472?(K[1].t="e",K[1].v=15):Q===0&&de===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Fe=Re&32768;return Re=(Re&32767)-16446,K[1].v=(1-Fe*2)*(de*Math.pow(2,Re+32)+Q*Math.pow(2,Re)),K}function F(k,J,K,Q){var de=ve(14);if(de.write_shift(2,k),de.write_shift(1,K),de.write_shift(1,J),Q==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var Re=0,Fe=0,Ie=0,Pe=0;return Q<0&&(Re=1,Q=-Q),Fe=Math.log2(Q)|0,Q/=Math.pow(2,Fe-31),Pe=Q>>>0,(Pe&2147483648)==0&&(Q/=2,++Fe,Pe=Q>>>0),Q-=Pe,Pe|=2147483648,Pe>>>=0,Q*=Math.pow(2,32),Ie=Q>>>0,de.write_shift(4,Ie),de.write_shift(4,Pe),Fe+=16383+(Re?32768:0),de.write_shift(2,Fe),de}function M(k,J){var K=C(k);return k.l+=J-14,K}function G(k,J){var K=he(k),Q=k.read_shift(4);return K[1].v=Q>>6,K}function U(k,J){var K=he(k),Q=k.read_shift(8,"f");return K[1].v=Q,K}function We(k,J){var K=U(k);return k.l+=J-10,K}function Ge(k,J){return k[k.l+J-1]==0?k.read_shift(J,"cstr"):""}function pe(k,J){var K=k[k.l++];K>J-1&&(K=J-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(k[k.l++]);return Q}function Ne(k,J,K){if(!(!K.qpro||J<21)){var Q=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var de=k.read_shift(J-21,"cstr");return[Q,de]}}function Be(k,J){for(var K={},Q=k.l+J;k.l<Q;){var de=k.read_shift(2);if(de==14e3){for(K[de]=[0,""],K[de][0]=k.read_shift(2);k[k.l];)K[de][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return K}function Ye(k,J){var K=ve(5+k.length);K.write_shift(2,14e3),K.write_shift(2,J);for(var Q=0;Q<k.length;++Q){var de=k.charCodeAt(Q);K[K.l++]=de>127?95:de}return K[K.l++]=0,K}var nt={0:{n:"BOF",f:c4},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:R},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ge},222:{n:"SHEETNAMELP",f:pe},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ne},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Be},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:We},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ge},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:e}})(),g9=/^\s|\s$|[\t\n\r]/;function p4(n,e){if(!e.bookSST)return"";var t=[bn];t[t.length]=De("sst",null,{xmlns:Lc[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var a=n[r],l="<si>";a.r?l+=a.r:(l+="<t",a.t||(a.t=""),a.t.match(g9)&&(l+=' xml:space="preserve"'),l+=">"+Pt(a.t)+"</t>"),l+="</si>",t[t.length]=l}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function v9(n){return[n.read_shift(4),n.read_shift(4)]}function x9(n,e){return e||(e=ve(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var y9=cM;function _9(n){var e=Rr();Se(e,159,x9(n));for(var t=0;t<n.length;++t)Se(e,19,y9(n[t]));return Se(e,160),e.end()}function E9(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function g4(n){var e=0,t,r=E9(n),a=r.length+1,l,c,f,h,d;for(t=to(a),t[0]=r.length,l=1;l!=a;++l)t[l]=r[l-1];for(l=a-1;l>=0;--l)c=t[l],f=(e&16384)===0?0:1,h=e<<1&32767,d=f|h,e=d^c;return e^52811}var T9=(function(){function n(a,l){switch(l.type){case"base64":return e(ts(a),l);case"binary":return e(a,l);case"buffer":return e(St&&Buffer.isBuffer(a)?a.toString("binary"):Pf(a),l);case"array":return e(Xd(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){var c=l||{},f=c.dense?[]:{},h=a.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(g,y){Array.isArray(f)&&(f[y]=[]);for(var _=/\\\w+\b/g,w=0,R,T=-1;R=_.exec(g);){switch(R[0]){case"\\cell":var b=g.slice(w,_.lastIndex-R[0].length);if(b[0]==" "&&(b=b.slice(1)),++T,b.length){var H={v:b,t:"s"};Array.isArray(f)?f[y][T]=H:f[Lt({r:y,c:T})]=H}break}w=_.lastIndex}T>d.e.c&&(d.e.c=T)}),f["!ref"]=An(d),f}function t(a,l){return uo(n(a,l),l)}function r(a){for(var l=["{\\rtf1\\ansi"],c=$t(a["!ref"]),f,h=Array.isArray(a),d=c.s.r;d<=c.e.r;++d){l.push("\\trowd\\trautofit1");for(var g=c.s.c;g<=c.e.c;++g)l.push("\\cellx"+(g+1));for(l.push("\\pard\\intbl"),g=c.s.c;g<=c.e.c;++g){var y=Lt({r:d,c:g});f=h?(a[d]||[])[g]:a[y],!(!f||f.v==null&&(!f.f||f.F))&&(l.push(" "+(f.w||(ns(f),f.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function _T(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var w9=6,Ya=w9;function pd(n){return Math.floor((n+Math.round(128/Ya)/256)*Ya)}function gd(n){return Math.floor((n-5)/Ya*100+.5)/100}function Jg(n){return Math.round((n*Ya+5)/Ya*256)/256}function Ev(n){n.width?(n.wpx=pd(n.width),n.wch=gd(n.wpx),n.MDW=Ya):n.wpx?(n.wch=gd(n.wpx),n.width=Jg(n.wch),n.MDW=Ya):typeof n.wch=="number"&&(n.width=Jg(n.wch),n.wpx=pd(n.width),n.MDW=Ya),n.customWidth&&delete n.customWidth}var S9=96,v4=S9;function vd(n){return n*96/v4}function x4(n){return n*v4/96}function A9(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=De("numFmt",null,{numFmtId:r,formatCode:Pt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=De("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function b9(n){var e=[];return e[e.length]=De("cellXfs",null),n.forEach(function(t){e[e.length]=De("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=De("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function y4(n,e){var t=[bn,De("styleSheet",null,{xmlns:Lc[0],"xmlns:vt":Pn.vt})],r;return n.SSF&&(r=A9(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=b9(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function N9(n,e){var t=n.read_shift(2),r=lr(n);return[t,r]}function R9(n,e,t){t||(t=ve(6+4*e.length)),t.write_shift(2,n),Fn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function C9(n,e,t){var r={};r.sz=n.read_shift(2)/20;var a=gM(n);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var l=n.read_shift(2);switch(l===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var c=n.read_shift(1);c!=0&&(r.underline=c);var f=n.read_shift(1);f>0&&(r.family=f);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=pM(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=lr(n),r}function I9(n,e){e||(e=ve(153)),e.write_shift(2,n.sz*20),vM(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),dd(n.color,e);var r=0;return r=2,e.write_shift(1,r),Fn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var D9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],gg,O9=ha;function ET(n,e){e||(e=ve(84)),gg||(gg=cv(D9));var t=gg[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(dd({auto:1},e),dd({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function k9(n,e){var t=n.l+e,r=n.read_shift(2),a=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:a}}function _4(n,e,t){t||(t=ve(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function ju(n,e){return e||(e=ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var M9=ha;function P9(n,e){return e||(e=ve(51)),e.write_shift(1,0),ju(null,e),ju(null,e),ju(null,e),ju(null,e),ju(null,e),e.length>e.l?e.slice(0,e.l):e}function L9(n,e){return e||(e=ve(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),hd(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function F9(n,e,t){var r=ve(2052);return r.write_shift(4,n),hd(e,r),hd(t,r),r.length>r.l?r.slice(0,r.l):r}function j9(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&++t}),t!=0&&(Se(n,615,Pi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Se(n,44,R9(a,e[a]))}),Se(n,616))}}function U9(n){var e=1;Se(n,611,Pi(e)),Se(n,43,I9({sz:12,color:{theme:1},name:"Calibri",family:2})),Se(n,612)}function V9(n){var e=2;Se(n,603,Pi(e)),Se(n,45,ET({patternType:"none"})),Se(n,45,ET({patternType:"gray125"})),Se(n,604)}function B9(n){var e=1;Se(n,613,Pi(e)),Se(n,46,P9()),Se(n,614)}function z9(n){var e=1;Se(n,626,Pi(e)),Se(n,47,_4({numFmtId:0},65535)),Se(n,627)}function H9(n,e){Se(n,617,Pi(e.length)),e.forEach(function(t){Se(n,47,_4(t,0))}),Se(n,618)}function G9(n){var e=1;Se(n,619,Pi(e)),Se(n,48,L9({xfId:0,name:"Normal"})),Se(n,620)}function q9(n){var e=0;Se(n,505,Pi(e)),Se(n,506)}function W9(n){var e=0;Se(n,508,F9(e,"TableStyleMedium9","PivotStyleMedium4")),Se(n,509)}function K9(n,e){var t=Rr();return Se(t,278),j9(t,n.SSF),U9(t),V9(t),B9(t),z9(t),H9(t,e.cellXfs),G9(t),q9(t),W9(t),Se(t,279),t.end()}function E4(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[bn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function X9(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:lr(n)}}function Y9(n){var e=ve(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Fn(n.name,e),e.slice(0,e.l)}function $9(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Q9(n){var e=ve(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function J9(n,e){var t=ve(8+2*e.length);return t.write_shift(4,n),Fn(e,t),t.slice(0,t.l)}function Z9(n){return n.l+=4,n.read_shift(4)!=0}function eP(n,e){var t=ve(8);return t.write_shift(4,n),t.write_shift(4,1),t}function tP(){var n=Rr();return Se(n,332),Se(n,334,Pi(1)),Se(n,335,Y9({name:"XLDAPR",version:12e4,flags:3496657072})),Se(n,336),Se(n,339,J9(1,"XLDAPR")),Se(n,52),Se(n,35,Pi(514)),Se(n,4096,Pi(0)),Se(n,4097,ui(1)),Se(n,36),Se(n,53),Se(n,340),Se(n,337,eP(1)),Se(n,51,Q9([[1,0]])),Se(n,338),Se(n,333),n.end()}function T4(){var n=[bn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function nP(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Lt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var cc=1024;function w4(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[De("xml",null,{"xmlns:v":Gr.v,"xmlns:o":Gr.o,"xmlns:x":Gr.x,"xmlns:mv":Gr.mv}).replace(/\/>/,">"),De("o:shapelayout",De("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),De("v:shapetype",[De("v:stroke",null,{joinstyle:"miter"}),De("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];cc<n*1e3;)cc+=1e3;return e.forEach(function(l){var c=Ln(l[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var h=f.type=="gradient"?De("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=De("v:fill",h,f),g={on:"t",obscured:"t"};++cc,a=a.concat(["<v:shape"+vf({id:"_x0000_s"+cc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,De("v:shadow",null,g),De("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yn("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),Yn("x:AutoFill","False"),Yn("x:Row",String(c.r)),Yn("x:Column",String(c.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function S4(n){var e=[bn,De("comments",null,{xmlns:Lc[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(a){var l=Pt(a.a);t.indexOf(l)==-1&&(t.push(l),e.push("<author>"+l+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var a=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(a=t.indexOf(Pt(h.a))),l.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),l.length<=1)e.push(Yn("t",Pt(l[0]||"")));else{for(var c=`Comment:
    `+l[0]+`
`,f=1;f<l.length;++f)c+=`Reply:
    `+l[f]+`
`;e.push(Yn("t",Pt(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function rP(n,e,t){var r=[bn,De("ThreadedComments",null,{xmlns:Pn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(a){var l="";(a[1]||[]).forEach(function(c,f){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var h={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};f==0?l=h.id:h.parentId=l,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),r.push(De("threadedComment",Yn("text",c.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function iP(n){var e=[bn,De("personList",null,{xmlns:Pn.TCMNT,"xmlns:x":Lc[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(De("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function aP(n){var e={};e.iauthor=n.read_shift(4);var t=po(n);return e.rfx=t.s,e.ref=Lt(t.s),n.l+=16,e}function sP(n,e){return e==null&&(e=ve(36)),e.write_shift(4,n[1].iauthor),jc(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var lP=lr;function oP(n){return Fn(n.slice(0,54))}function cP(n){var e=Rr(),t=[];return Se(e,628),Se(e,630),n.forEach(function(r){r[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Se(e,632,oP(a.a)))})}),Se(e,631),Se(e,633),n.forEach(function(r){r[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var l={s:Ln(r[0]),e:Ln(r[0])};Se(e,635,sP([l,a])),a.t&&a.t.length>0&&Se(e,637,fM(a)),Se(e,636),delete a.iauthor})}),Se(e,634),Se(e,629),e.end()}function uP(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Bt.utils.cfb_add(n,a,e.FileIndex[r].content)}})}var A4=["xlsb","xlsm","xlam","biff8","xla"],fP=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,a,l,c){var f=!1,h=!1;l.length==0?h=!0:l.charAt(0)=="["&&(h=!0,l=l.slice(1,-1)),c.length==0?f=!0:c.charAt(0)=="["&&(f=!0,c=c.slice(1,-1));var d=l.length>0?parseInt(l,10)|0:0,g=c.length>0?parseInt(c,10)|0:0;return f?g+=e.c:--g,h?d+=e.r:--d,a+(f?"":"$")+sr(g)+(h?"":"$")+$n(d)}return function(a,l){return e=l,a.replace(n,t)}})(),Tv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,wv=(function(){return function(e,t){return e.replace(Tv,function(r,a,l,c,f,h){var d=gv(c)-(l?0:t.c),g=pv(h)-(f?0:t.r),y=g==0?"":f?g+1:"["+g+"]",_=d==0?"":l?d+1:"["+d+"]";return a+"R"+y+"C"+_})}})();function hP(n,e){return n.replace(Tv,function(t,r,a,l,c,f){return r+(a=="$"?a+l:sr(gv(l)+e.c))+(c=="$"?c+f:$n(pv(f)+e.r))})}function dP(n){return n.length!=1}function En(n){n.l+=1}function il(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function b4(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return N4(n);t.biff==12&&(r=4)}var a=n.read_shift(r),l=n.read_shift(r),c=il(n),f=il(n);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:l,c:f[0],cRel:f[1],rRel:f[2]}}}function N4(n){var e=il(n),t=il(n),r=n.read_shift(1),a=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function mP(n,e,t){if(t.biff<8)return N4(n);var r=n.read_shift(t.biff==12?4:2),a=n.read_shift(t.biff==12?4:2),l=il(n),c=il(n);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function R4(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return pP(n);var r=n.read_shift(t&&t.biff==12?4:2),a=il(n);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function pP(n){var e=il(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function gP(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function vP(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return xP(n);var a=n.read_shift(r>=12?4:2),l=n.read_shift(2),c=(l&16384)>>14,f=(l&32768)>>15;if(l&=16383,f==1)for(;a>524287;)a-=1048576;if(c==1)for(;l>8191;)l=l-16384;return{r:a,c:l,cRel:c,rRel:f}}function xP(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:r}}function yP(n,e,t){var r=(n[n.l++]&96)>>5,a=b4(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,a]}function _P(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2,"i"),l=8;if(t)switch(t.biff){case 5:n.l+=12,l=6;break;case 12:l=12;break}var c=b4(n,l,t);return[r,a,c]}function EP(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function TP(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),l=8;if(t)switch(t.biff){case 5:n.l+=12,l=6;break;case 12:l=12;break}return n.l+=l,[r,a]}function wP(n,e,t){var r=(n[n.l++]&96)>>5,a=mP(n,e-1,t);return[r,a]}function SP(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function TT(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function AP(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),a=[],l=0;l<=r;++l)a.push(n.read_shift(t&&t.biff==2?1:2));return a}function bP(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function NP(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function RP(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function CP(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function C4(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function IP(n){return n.read_shift(2),C4(n)}function DP(n){return n.read_shift(2),C4(n)}function OP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=R4(n,0,t);return[r,a]}function kP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=vP(n,0,t);return[r,a]}function MP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var l=R4(n,0,t);return[r,a,l]}function PP(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(t&&t.biff<=3?1:2);return[PL[a],O4[a],r]}function LP(n,e,t){var r=n[n.l++],a=n.read_shift(1),l=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:FP(n);return[a,(l[0]===0?O4:ML)[l[1]]]}function FP(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function jP(n,e,t){n.l+=t&&t.biff==2?3:4}function UP(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function VP(n){return n.l++,jf[n.read_shift(1)]}function BP(n){return n.l++,n.read_shift(2)}function zP(n){return n.l++,n.read_shift(1)!==0}function HP(n){return n.l++,Uc(n)}function GP(n,e,t){return n.l++,f4(n,e-1,t)}function qP(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=MM(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=jf[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Uc(n);break;case 2:t[1]=jM(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function WP(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),a=[],l=0;l!=r;++l)a.push((t.biff==12?po:BM)(n));return a}function KP(n,e,t){var r=0,a=0;t.biff==12?(r=n.read_shift(4),a=n.read_shift(4)):(a=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--a==0&&(a=256));for(var l=0,c=[];l!=r&&(c[l]=[]);++l)for(var f=0;f!=a;++f)c[l][f]=qP(n,t.biff);return c}function XP(n,e,t){var r=n.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,l=n.read_shift(a);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,l]}function YP(n,e,t){if(t.biff==5)return $P(n);var r=n.read_shift(1)>>>5&3,a=n.read_shift(2),l=n.read_shift(4);return[r,a,l]}function $P(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function QP(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function JP(n,e,t){var r=n.read_shift(1)>>>5&3,a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function ZP(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function eL(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),l=4;if(t)switch(t.biff){case 5:l=15;break;case 12:l=6;break}return n.l+=l,[r,a]}var tL=ha,nL=ha,rL=ha;function Uf(n,e,t){return n.l+=2,[gP(n)]}function Sv(n){return n.l+=6,[]}var iL=Uf,aL=Sv,sL=Sv,lL=Uf;function I4(n){return n.l+=2,[c4(n),n.read_shift(2)&1]}var oL=Uf,cL=I4,uL=Sv,fL=Uf,hL=Uf,dL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function mL(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),a=n.read_shift(2),l=n.read_shift(2),c=dL[t>>2&31];return{ixti:e,coltype:t&3,rt:c,idx:r,c:a,C:l}}function pL(n){return n.l+=2,[n.read_shift(4)]}function gL(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function vL(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function xL(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function yL(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function _L(n){return n.l+=4,[0,0]}var wT={1:{n:"PtgExp",f:UP},2:{n:"PtgTbl",f:rL},3:{n:"PtgAdd",f:En},4:{n:"PtgSub",f:En},5:{n:"PtgMul",f:En},6:{n:"PtgDiv",f:En},7:{n:"PtgPower",f:En},8:{n:"PtgConcat",f:En},9:{n:"PtgLt",f:En},10:{n:"PtgLe",f:En},11:{n:"PtgEq",f:En},12:{n:"PtgGe",f:En},13:{n:"PtgGt",f:En},14:{n:"PtgNe",f:En},15:{n:"PtgIsect",f:En},16:{n:"PtgUnion",f:En},17:{n:"PtgRange",f:En},18:{n:"PtgUplus",f:En},19:{n:"PtgUminus",f:En},20:{n:"PtgPercent",f:En},21:{n:"PtgParen",f:En},22:{n:"PtgMissArg",f:En},23:{n:"PtgStr",f:GP},26:{n:"PtgSheet",f:gL},27:{n:"PtgEndSheet",f:vL},28:{n:"PtgErr",f:VP},29:{n:"PtgBool",f:zP},30:{n:"PtgInt",f:BP},31:{n:"PtgNum",f:HP},32:{n:"PtgArray",f:SP},33:{n:"PtgFunc",f:PP},34:{n:"PtgFuncVar",f:LP},35:{n:"PtgName",f:XP},36:{n:"PtgRef",f:OP},37:{n:"PtgArea",f:yP},38:{n:"PtgMemArea",f:QP},39:{n:"PtgMemErr",f:tL},40:{n:"PtgMemNoMem",f:nL},41:{n:"PtgMemFunc",f:JP},42:{n:"PtgRefErr",f:ZP},43:{n:"PtgAreaErr",f:EP},44:{n:"PtgRefN",f:kP},45:{n:"PtgAreaN",f:wP},46:{n:"PtgMemAreaN",f:xL},47:{n:"PtgMemNoMemN",f:yL},57:{n:"PtgNameX",f:YP},58:{n:"PtgRef3d",f:MP},59:{n:"PtgArea3d",f:_P},60:{n:"PtgRefErr3d",f:eL},61:{n:"PtgAreaErr3d",f:TP},255:{}},EL={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TL={1:{n:"PtgElfLel",f:I4},2:{n:"PtgElfRw",f:fL},3:{n:"PtgElfCol",f:iL},6:{n:"PtgElfRwV",f:hL},7:{n:"PtgElfColV",f:lL},10:{n:"PtgElfRadical",f:oL},11:{n:"PtgElfRadicalS",f:uL},13:{n:"PtgElfColS",f:aL},15:{n:"PtgElfColSV",f:sL},16:{n:"PtgElfRadicalLel",f:cL},25:{n:"PtgList",f:mL},29:{n:"PtgSxName",f:pL},255:{}},wL={0:{n:"PtgAttrNoop",f:_L},1:{n:"PtgAttrSemi",f:CP},2:{n:"PtgAttrIf",f:NP},4:{n:"PtgAttrChoose",f:AP},8:{n:"PtgAttrGoto",f:bP},16:{n:"PtgAttrSum",f:jP},32:{n:"PtgAttrBaxcel",f:TT},33:{n:"PtgAttrBaxcel",f:TT},64:{n:"PtgAttrSpace",f:IP},65:{n:"PtgAttrSpaceSemi",f:DP},128:{n:"PtgAttrIfError",f:RP},255:{}};function SL(n,e,t,r){if(r.biff<8)return ha(n,e);for(var a=n.l+e,l=[],c=0;c!==t.length;++c)switch(t[c][0]){case"PtgArray":t[c][1]=KP(n,0,r),l.push(t[c][1]);break;case"PtgMemArea":t[c][2]=WP(n,t[c][1],r),l.push(t[c][2]);break;case"PtgExp":r&&r.biff==12&&(t[c][1][1]=n.read_shift(4),l.push(t[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[c][0]}return e=a-n.l,e!==0&&l.push(ha(n,e)),l}function AL(n,e,t){for(var r=n.l+e,a,l,c=[];r!=n.l;)e=r-n.l,l=n[n.l],a=wT[l]||wT[EL[l]],(l===24||l===25)&&(a=(l===24?TL:wL)[n[n.l+1]]),!a||!a.f?ha(n,e):c.push([a.n,a.f(n,e,t)]);return c}function bL(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],a=[],l=0;l<r.length;++l){var c=r[l];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var NL={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RL(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function D4(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var a="";if(t.biff>8)switch(n[r[0]][0]){case 357:return a=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return n[r[0]][0][3]?(a=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ST(n,e,t){var r=D4(n,e,t);return r=="#REF"?r:RL(r,t)}function bc(n,e,t,r,a){var l=a&&a.biff||8,c={s:{c:0,r:0}},f=[],h,d,g,y=0,_=0,w,R="";if(!n[0]||!n[0][0])return"";for(var T=-1,b="",H=0,q=n[0].length;H<q;++H){var B=n[0][H];switch(B[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=f.pop(),d=f.pop(),T>=0){switch(n[0][T][1][0]){case 0:b=ln(" ",n[0][T][1][1]);break;case 1:b=ln("\r",n[0][T][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][T][1][0])}d=d+b,T=-1}f.push(d+NL[B[0]]+h);break;case"PtgIsect":h=f.pop(),d=f.pop(),f.push(d+" "+h);break;case"PtgUnion":h=f.pop(),d=f.pop(),f.push(d+","+h);break;case"PtgRange":h=f.pop(),d=f.pop(),f.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=Zu(B[1][1],c,a),f.push(ef(g,l));break;case"PtgRefN":g=t?Zu(B[1][1],t,a):B[1][1],f.push(ef(g,l));break;case"PtgRef3d":y=B[1][1],g=Zu(B[1][2],c,a),R=ST(r,y,a),f.push(R+"!"+ef(g,l));break;case"PtgFunc":case"PtgFuncVar":var X=B[1][0],he=B[1][1];X||(X=0),X&=127;var ne=X==0?[]:f.slice(-X);f.length-=X,he==="User"&&(he=ne.shift()),f.push(he+"("+ne.join(",")+")");break;case"PtgBool":f.push(B[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(B[1]);break;case"PtgNum":f.push(String(B[1]));break;case"PtgStr":f.push('"'+B[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(B[1]);break;case"PtgAreaN":w=oT(B[1][1],t?{s:t}:c,a),f.push(mg(w,a));break;case"PtgArea":w=oT(B[1][1],c,a),f.push(mg(w,a));break;case"PtgArea3d":y=B[1][1],w=B[1][2],R=ST(r,y,a),f.push(R+"!"+mg(w,a));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=B[1][2];var N=(r.names||[])[_-1]||(r[0]||[])[_],I=N?N.Name:"SH33TJSNAME"+String(_);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),f.push(I);break;case"PtgNameX":var C=B[1][1];_=B[1][2];var F;if(a.biff<=5)C<0&&(C=-C),r[C]&&(F=r[C][_]);else{var M="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][_]&&r[C][_].itab>0&&(M=r.SheetNames[r[C][_].itab-1]+"!"):M=r.SheetNames[_-1]+"!"),r[C]&&r[C][_])M+=r[C][_].Name;else if(r[0]&&r[0][_])M+=r[0][_].Name;else{var G=(D4(r,C,a)||"").split(";;");G[_-1]?M=G[_-1]:M+="SH33TJSERRX"}f.push(M);break}F||(F={Name:"SH33TJSERRY"}),f.push(F.Name);break;case"PtgParen":var U="(",We=")";if(T>=0){switch(b="",n[0][T][1][0]){case 2:U=ln(" ",n[0][T][1][1])+U;break;case 3:U=ln("\r",n[0][T][1][1])+U;break;case 4:We=ln(" ",n[0][T][1][1])+We;break;case 5:We=ln("\r",n[0][T][1][1])+We;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][T][1][0])}T=-1}f.push(U+f.pop()+We);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":g={c:B[1][1],r:B[1][0]};var Ge={c:t.c,r:t.r};if(r.sharedf[Lt(g)]){var pe=r.sharedf[Lt(g)];f.push(bc(pe,c,Ge,r,a))}else{var Ne=!1;for(h=0;h!=r.arrayf.length;++h)if(d=r.arrayf[h],!(g.c<d[0].s.c||g.c>d[0].e.c)&&!(g.r<d[0].s.r||g.r>d[0].e.r)){f.push(bc(d[1],c,Ge,r,a)),Ne=!0;break}Ne||f.push(B[1])}break;case"PtgArray":f.push("{"+bL(B[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":T=H;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+B[1].idx+"[#"+B[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(B));default:throw new Error("Unrecognized Formula Token: "+String(B))}var Be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&T>=0&&Be.indexOf(n[0][H][0])==-1){B=n[0][T];var Ye=!0;switch(B[1][0]){case 4:Ye=!1;case 0:b=ln(" ",B[1][1]);break;case 5:Ye=!1;case 1:b=ln("\r",B[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+B[1][0])}f.push((Ye?b:"")+f.pop()+(Ye?"":b)),T=-1}}if(f.length>1&&a.WTF)throw new Error("bad formula stack");return f[0]}function CL(n){if(n==null){var e=ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return no(n);return no(0)}function IL(n,e,t,r,a){var l=ro(e,t,a),c=CL(n.v),f=ve(6),h=33;f.write_shift(2,h),f.write_shift(4,0);for(var d=ve(n.bf.length),g=0;g<n.bf.length;++g)d[g]=n.bf[g];var y=Xn([l,c,f,d]);return y}function Yd(n,e,t){var r=n.read_shift(4),a=AL(n,r,t),l=n.read_shift(4),c=l>0?SL(n,l,a,t):null;return[a,c]}var DL=Yd,$d=Yd,OL=Yd,kL=Yd,ML={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},O4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},PL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function LL(n){var e="of:="+n.replace(Tv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function FL(n){return n.replace(/\./,"!")}var tf=typeof Map<"u";function Av(n,e,t){var r=0,a=n.length;if(t){if(tf?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var l=tf?t.get(e):t[e];r<l.length;++r)if(n[l[r]].t===e)return n.Count++,l[r]}}else for(;r<a;++r)if(n[r].t===e)return n.Count++,r;return n[a]={t:e},n.Count++,n.Unique++,t&&(tf?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function Qd(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Ya=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=gd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Jg(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function k4(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function cl(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],a=60,l=n.length;if(r==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){RA(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=r=a;break}}for(a=0;a!=l;++a)if(n[a].numFmtId===r)return a;return n[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function jL(n,e,t){if(n&&n["!ref"]){var r=$t(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function UL(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+An(n[t])+'"/>';return e+"</mergeCells>"}function VL(n,e,t,r,a){var l=!1,c={},f=null;if(r.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}l=!0,c.codeName=gf(Pt(h))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),f=(f||"")+De("outlinePr",null,d)}!l&&!f||(a[a.length]=De("sheetPr",f,c))}var BL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],zL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function HL(n){var e={sheet:1};return BL.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),zL.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=g4(n.password).toString(16).toUpperCase()),De("sheetProtection",null,e)}function GL(n){return k4(n),De("pageMargins",null,n)}function qL(n,e){for(var t=["<cols>"],r,a=0;a!=e.length;++a)(r=e[a])&&(t[t.length]=De("col",null,Qd(a,r)));return t[t.length]="</cols>",t.join("")}function WL(n,e,t,r){var a=typeof n.ref=="string"?n.ref:An(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=Xr(a);c.s.r==c.e.r&&(c.e.r=Xr(e["!ref"]).e.r,a=An(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+a;break}}return f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),De("autoFilter",null,{ref:a})}function KL(n,e,t,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),De("sheetViews",De("sheetView",null,a),{})}function XL(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var a="",l=n.t,c=n.v;if(n.t!=="z")switch(n.t){case"b":a=n.v?"1":"0";break;case"n":a=""+n.v;break;case"e":a=jf[n.v];break;case"d":r&&r.cellDates?a=vr(n.v,-1).toISOString():(n=Ir(n),n.t="n",a=""+(n.v=Cr(vr(n.v)))),typeof n.z>"u"&&(n.z=on[14]);break;default:a=n.v;break}var f=Yn("v",Pt(a)),h={r:e},d=cl(r.cellXfs,n,r);switch(d!==0&&(h.s=d),n.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){f=Yn("v",""+Av(r.Strings,n.v,r.revStrings)),h.t="s";break}h.t="str";break}if(n.t!=l&&(n.t=l,n.v=c),typeof n.f=="string"&&n.f){var g=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;f=De("f",Pt(n.f),g)+(n.v!=null?f:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(h.cm=1),De("c",f,h)}function YL(n,e,t,r){var a=[],l=[],c=$t(n["!ref"]),f="",h,d="",g=[],y=0,_=0,w=n["!rows"],R=Array.isArray(n),T={r:d},b,H=-1;for(_=c.s.c;_<=c.e.c;++_)g[_]=sr(_);for(y=c.s.r;y<=c.e.r;++y){for(l=[],d=$n(y),_=c.s.c;_<=c.e.c;++_){h=g[_]+d;var q=R?(n[y]||[])[_]:n[h];q!==void 0&&(f=XL(q,h,n,e))!=null&&l.push(f)}(l.length>0||w&&w[y])&&(T={r:d},w&&w[y]&&(b=w[y],b.hidden&&(T.hidden=1),H=-1,b.hpx?H=vd(b.hpx):b.hpt&&(H=b.hpt),H>-1&&(T.ht=H,T.customHeight=1),b.level&&(T.outlineLevel=b.level)),a[a.length]=De("row",l.join(""),T))}if(w)for(;y<w.length;++y)w&&w[y]&&(T={r:y+1},b=w[y],b.hidden&&(T.hidden=1),H=-1,b.hpx?H=vd(b.hpx):b.hpt&&(H=b.hpt),H>-1&&(T.ht=H,T.customHeight=1),b.level&&(T.outlineLevel=b.level),a[a.length]=De("row","",T));return a.join("")}function M4(n,e,t,r){var a=[bn,De("worksheet",null,{xmlns:Lc[0],"xmlns:r":Pn.r})],l=t.SheetNames[n],c=0,f="",h=t.Sheets[l];h==null&&(h={});var d=h["!ref"]||"A1",g=$t(d);if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),d=An(g)}r||(r={}),h["!comments"]=[];var y=[];VL(h,t,n,e,a),a[a.length]=De("dimension",null,{ref:d}),a[a.length]=KL(h,e,n,t),e.sheetFormat&&(a[a.length]=De("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(a[a.length]=qL(h,h["!cols"])),a[c=a.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(f=YL(h,e),f.length>0&&(a[a.length]=f)),a.length>c+1&&(a[a.length]="</sheetData>",a[c]=a[c].replace("/>",">")),h["!protect"]&&(a[a.length]=HL(h["!protect"])),h["!autofilter"]!=null&&(a[a.length]=WL(h["!autofilter"],h,t,n)),h["!merges"]!=null&&h["!merges"].length>0&&(a[a.length]=UL(h["!merges"]));var _=-1,w,R=-1;return h["!links"].length>0&&(a[a.length]="<hyperlinks>",h["!links"].forEach(function(T){T[1].Target&&(w={ref:T[0]},T[1].Target.charAt(0)!="#"&&(R=Mt(r,-1,Pt(T[1].Target).replace(/#.*$/,""),Et.HLINK),w["r:id"]="rId"+R),(_=T[1].Target.indexOf("#"))>-1&&(w.location=Pt(T[1].Target.slice(_+1))),T[1].Tooltip&&(w.tooltip=Pt(T[1].Tooltip)),a[a.length]=De("hyperlink",null,w))}),a[a.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(a[a.length]=GL(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=Yn("ignoredErrors",De("ignoredError",null,{numberStoredAsText:1,sqref:d}))),y.length>0&&(R=Mt(r,-1,"../drawings/drawing"+(n+1)+".xml",Et.DRAW),a[a.length]=De("drawing",null,{"r:id":"rId"+R}),h["!drawing"]=y),h["!comments"].length>0&&(R=Mt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Et.VML),a[a.length]=De("legacyDrawing",null,{"r:id":"rId"+R}),h["!legacy"]=R),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function $L(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var a=n.read_shift(2);n.l+=1;var l=n.read_shift(1);return n.l=r,l&7&&(t.level=l&7),l&16&&(t.hidden=!0),l&32&&(t.hpt=a/20),t}function QL(n,e,t){var r=ve(145),a=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var l=320;a.hpx?l=vd(a.hpx)*20:a.hpt&&(l=a.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var c=0;a.level&&(c|=a.level),a.hidden&&(c|=16),(a.hpx||a.hpt)&&(c|=32),r.write_shift(1,c),r.write_shift(1,0);var f=0,h=r.l;r.l+=4;for(var d={r:n,c:0},g=0;g<16;++g)if(!(e.s.c>g+1<<10||e.e.c<g<<10)){for(var y=-1,_=-1,w=g<<10;w<g+1<<10;++w){d.c=w;var R=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Lt(d)];R&&(y<0&&(y=w),_=w)}y<0||(++f,r.write_shift(4,y),r.write_shift(4,_))}var T=r.l;return r.l=h,r.write_shift(4,f),r.l=T,r.length>r.l?r.slice(0,r.l):r}function JL(n,e,t,r){var a=QL(r,t,e);(a.length>17||(e["!rows"]||[])[r])&&Se(n,0,a)}var ZL=po,eF=jc;function tF(){}function nF(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=hM(n),t}function rF(n,e,t){t==null&&(t=ve(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var a=1;a<3;++a)t.write_shift(1,0);return dd({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),YA(n,t),t.slice(0,t.l)}function iF(n){var e=mi(n);return[e]}function aF(n,e,t){return t==null&&(t=ve(8)),fo(e,t)}function sF(n){var e=ho(n);return[e]}function lF(n,e,t){return t==null&&(t=ve(4)),mo(e,t)}function oF(n){var e=mi(n),t=n.read_shift(1);return[e,t,"b"]}function cF(n,e,t){return t==null&&(t=ve(9)),fo(e,t),t.write_shift(1,n.v?1:0),t}function uF(n){var e=ho(n),t=n.read_shift(1);return[e,t,"b"]}function fF(n,e,t){return t==null&&(t=ve(5)),mo(e,t),t.write_shift(1,n.v?1:0),t}function hF(n){var e=mi(n),t=n.read_shift(1);return[e,t,"e"]}function dF(n,e,t){return t==null&&(t=ve(9)),fo(e,t),t.write_shift(1,n.v),t}function mF(n){var e=ho(n),t=n.read_shift(1);return[e,t,"e"]}function pF(n,e,t){return t==null&&(t=ve(8)),mo(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function gF(n){var e=mi(n),t=n.read_shift(4);return[e,t,"s"]}function vF(n,e,t){return t==null&&(t=ve(12)),fo(e,t),t.write_shift(4,e.v),t}function xF(n){var e=ho(n),t=n.read_shift(4);return[e,t,"s"]}function yF(n,e,t){return t==null&&(t=ve(8)),mo(e,t),t.write_shift(4,e.v),t}function _F(n){var e=mi(n),t=Uc(n);return[e,t,"n"]}function EF(n,e,t){return t==null&&(t=ve(16)),fo(e,t),no(n.v,t),t}function TF(n){var e=ho(n),t=Uc(n);return[e,t,"n"]}function wF(n,e,t){return t==null&&(t=ve(12)),mo(e,t),no(n.v,t),t}function SF(n){var e=mi(n),t=$A(n);return[e,t,"n"]}function AF(n,e,t){return t==null&&(t=ve(12)),fo(e,t),QA(n.v,t),t}function bF(n){var e=ho(n),t=$A(n);return[e,t,"n"]}function NF(n,e,t){return t==null&&(t=ve(8)),mo(e,t),QA(n.v,t),t}function RF(n){var e=mi(n),t=vv(n);return[e,t,"is"]}function CF(n){var e=mi(n),t=lr(n);return[e,t,"str"]}function IF(n,e,t){return t==null&&(t=ve(12+4*n.v.length)),fo(e,t),Fn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function DF(n){var e=ho(n),t=lr(n);return[e,t,"str"]}function OF(n,e,t){return t==null&&(t=ve(8+4*n.v.length)),mo(e,t),Fn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function kF(n,e,t){var r=n.l+e,a=mi(n);a.r=t["!row"];var l=n.read_shift(1),c=[a,l,"b"];if(t.cellFormula){n.l+=2;var f=$d(n,r-n.l,t);c[3]=bc(f,null,a,t.supbooks,t)}else n.l=r;return c}function MF(n,e,t){var r=n.l+e,a=mi(n);a.r=t["!row"];var l=n.read_shift(1),c=[a,l,"e"];if(t.cellFormula){n.l+=2;var f=$d(n,r-n.l,t);c[3]=bc(f,null,a,t.supbooks,t)}else n.l=r;return c}function PF(n,e,t){var r=n.l+e,a=mi(n);a.r=t["!row"];var l=Uc(n),c=[a,l,"n"];if(t.cellFormula){n.l+=2;var f=$d(n,r-n.l,t);c[3]=bc(f,null,a,t.supbooks,t)}else n.l=r;return c}function LF(n,e,t){var r=n.l+e,a=mi(n);a.r=t["!row"];var l=lr(n),c=[a,l,"str"];if(t.cellFormula){n.l+=2;var f=$d(n,r-n.l,t);c[3]=bc(f,null,a,t.supbooks,t)}else n.l=r;return c}var FF=po,jF=jc;function UF(n,e){return e==null&&(e=ve(4)),e.write_shift(4,n),e}function VF(n,e){var t=n.l+e,r=po(n),a=xv(n),l=lr(n),c=lr(n),f=lr(n);n.l=t;var h={rfx:r,relId:a,loc:l,display:f};return c&&(h.Tooltip=c),h}function BF(n,e){var t=ve(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));jc({s:Ln(n[0]),e:Ln(n[0])},t),yv("rId"+e,t);var r=n[1].Target.indexOf("#"),a=r==-1?"":n[1].Target.slice(r+1);return Fn(a||"",t),Fn(n[1].Tooltip||"",t),Fn("",t),t.slice(0,t.l)}function zF(){}function HF(n,e,t){var r=n.l+e,a=JA(n),l=n.read_shift(1),c=[a];if(c[2]=l,t.cellFormula){var f=DL(n,r-n.l,t);c[1]=f}else n.l=r;return c}function GF(n,e,t){var r=n.l+e,a=po(n),l=[a];if(t.cellFormula){var c=kL(n,r-n.l,t);l[1]=c,n.l=r}else n.l=r;return l}function qF(n,e,t){t==null&&(t=ve(18));var r=Qd(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var P4=["left","right","top","bottom","header","footer"];function WF(n){var e={};return P4.forEach(function(t){e[t]=Uc(n)}),e}function KF(n,e){return e==null&&(e=ve(48)),k4(n),P4.forEach(function(t){no(n[t],e)}),e}function XF(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function YF(n,e,t){t==null&&(t=ve(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function $F(n){var e=ve(24);return e.write_shift(4,4),e.write_shift(4,1),jc(n,e),e}function QF(n,e){return e==null&&(e=ve(66)),e.write_shift(2,n.password?g4(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function JF(){}function ZF(){}function e7(n,e,t,r,a,l,c){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=Ir(e),e.z=e.z||on[14],e.v=Cr(vr(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var h={r:t,c:r};switch(h.s=cl(a.cellXfs,e,a),e.l&&l["!links"].push([Lt(h),e.l]),e.c&&l["!comments"].push([Lt(h),e.c]),e.t){case"s":case"str":return a.bookSST?(f=Av(a.Strings,e.v,a.revStrings),h.t="s",h.v=f,c?Se(n,18,yF(e,h)):Se(n,7,vF(e,h))):(h.t="str",c?Se(n,17,OF(e,h)):Se(n,6,IF(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?Se(n,13,NF(e,h)):Se(n,2,AF(e,h)):c?Se(n,16,wF(e,h)):Se(n,5,EF(e,h)),!0;case"b":return h.t="b",c?Se(n,15,fF(e,h)):Se(n,4,cF(e,h)),!0;case"e":return h.t="e",c?Se(n,14,pF(e,h)):Se(n,3,dF(e,h)),!0}return c?Se(n,12,lF(e,h)):Se(n,1,aF(e,h)),!0}function t7(n,e,t,r){var a=$t(e["!ref"]||"A1"),l,c="",f=[];Se(n,145);var h=Array.isArray(e),d=a.e.r;e["!rows"]&&(d=Math.max(a.e.r,e["!rows"].length-1));for(var g=a.s.r;g<=d;++g){c=$n(g),JL(n,e,a,g);var y=!1;if(g<=a.e.r)for(var _=a.s.c;_<=a.e.c;++_){g===a.s.r&&(f[_]=sr(_)),l=f[_]+c;var w=h?(e[g]||[])[_]:e[l];if(!w){y=!1;continue}y=e7(n,w,g,_,r,e,y)}}Se(n,146)}function n7(n,e){!e||!e["!merges"]||(Se(n,177,UF(e["!merges"].length)),e["!merges"].forEach(function(t){Se(n,176,jF(t))}),Se(n,178))}function r7(n,e){!e||!e["!cols"]||(Se(n,390),e["!cols"].forEach(function(t,r){t&&Se(n,60,qF(r,t))}),Se(n,391))}function i7(n,e){!e||!e["!ref"]||(Se(n,648),Se(n,649,$F($t(e["!ref"]))),Se(n,650))}function a7(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var a=Mt(t,-1,r[1].Target.replace(/#.*$/,""),Et.HLINK);Se(n,494,BF(r,a))}}),delete e["!links"]}function s7(n,e,t,r){if(e["!comments"].length>0){var a=Mt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Et.VML);Se(n,551,yv("rId"+a)),e["!legacy"]=a}}function l7(n,e,t,r){if(e["!autofilter"]){var a=e["!autofilter"],l=typeof a.ref=="string"?a.ref:An(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var c=t.Workbook.Names,f=Xr(l);f.s.r==f.e.r&&(f.e.r=Xr(e["!ref"]).e.r,l=An(f));for(var h=0;h<c.length;++h){var d=c[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+l;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+l}),Se(n,161,jc($t(l))),Se(n,162)}}function o7(n,e,t){Se(n,133),Se(n,137,YF(e,t)),Se(n,138),Se(n,134)}function c7(n,e){e["!protect"]&&Se(n,535,QF(e["!protect"]))}function u7(n,e,t,r){var a=Rr(),l=t.SheetNames[n],c=t.Sheets[l]||{},f=l;try{t&&t.Workbook&&(f=t.Workbook.Sheets[n].CodeName||f)}catch{}var h=$t(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Se(a,129),(t.vbaraw||c["!outline"])&&Se(a,147,rF(f,c["!outline"])),Se(a,148,eF(h)),o7(a,c,t.Workbook),r7(a,c),t7(a,c,n,e),c7(a,c),l7(a,c,t,n),n7(a,c),a7(a,c,r),c["!margins"]&&Se(a,476,KF(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&i7(a,c),s7(a,c,n,r),Se(a,130),a.end()}function f7(n,e){n.l+=10;var t=lr(n);return{name:t}}var h7=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function d7(n){return!n.Workbook||!n.Workbook.WBProps?"false":Gk(n.Workbook.WBProps.date1904)?"true":"false"}var m7="][*?/\\".split("");function L4(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return m7.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function p7(n,e,t){n.forEach(function(r,a){L4(r);for(var l=0;l<a;++l)if(r==n[l])throw new Error("Duplicate Sheet Name: "+r);if(t){var c=e&&e[a]&&e[a].CodeName||r;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function g7(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];p7(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)jL(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function F4(n){var e=[bn];e[e.length]=De("workbook",null,{xmlns:Lc[0],"xmlns:r":Pn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(h7.forEach(function(f){n.Workbook.WBProps[f[0]]!=null&&n.Workbook.WBProps[f[0]]!=f[1]&&(r[f[0]]=n.Workbook.WBProps[f[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=De("workbookPr",null,r);var a=n.Workbook&&n.Workbook.Sheets||[],l=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",l=0;l!=n.SheetNames.length&&!(!a[l]||!a[l].Hidden);++l);l==n.SheetNames.length&&(l=0),e[e.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",l=0;l!=n.SheetNames.length;++l){var c={name:Pt(n.SheetNames[l].slice(0,31))};if(c.sheetId=""+(l+1),c["r:id"]="rId"+(l+1),a[l])switch(a[l].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=De("sheet",null,c)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(f){var h={name:f.Name};f.Comment&&(h.comment=f.Comment),f.Sheet!=null&&(h.localSheetId=""+f.Sheet),f.Hidden&&(h.hidden="1"),f.Ref&&(e[e.length]=De("definedName",Pt(f.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function v7(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=Qg(n),t.name=lr(n),t}function x7(n,e){return e||(e=ve(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),yv(n.strRelID,e),Fn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function y7(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var a=e>8?lr(n):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function _7(n,e){e||(e=ve(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),YA(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function E7(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var a=n.read_shift(4),l=dM(n),c=OL(n,0,t),f=xv(n);n.l=r;var h={Name:l,Ptg:c};return a<268435455&&(h.Sheet=a),f&&(h.Comment=f),h}function T7(n,e){Se(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Se(n,156,x7(a))}Se(n,144)}function w7(n,e){e||(e=ve(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Fn("SheetJS",e),Fn(ad.version,e),Fn(ad.version,e),Fn("7262",e),e.length>e.l?e.slice(0,e.l):e}function S7(n,e){e||(e=ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function A7(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,a=-1,l=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&a==-1?a=r:t[r].Hidden==1&&l==-1&&(l=r);l>a||(Se(n,135),Se(n,158,S7(a)),Se(n,136))}}function b7(n,e){var t=Rr();return Se(t,131),Se(t,128,w7()),Se(t,153,_7(n.Workbook&&n.Workbook.WBProps||null)),A7(t,n),T7(t,n),Se(t,132),t.end()}function N7(n,e,t){return(e.slice(-4)===".bin"?b7:F4)(n)}function R7(n,e,t,r,a){return(e.slice(-4)===".bin"?u7:M4)(n,t,r,a)}function C7(n,e,t){return(e.slice(-4)===".bin"?K9:y4)(n,t)}function I7(n,e,t){return(e.slice(-4)===".bin"?_9:p4)(n,t)}function D7(n,e,t){return(e.slice(-4)===".bin"?cP:S4)(n)}function O7(n){return(n.slice(-4)===".bin"?tP:T4)()}function k7(n,e){var t=[];return n.Props&&t.push(CM(n.Props,e)),n.Custprops&&t.push(IM(n.Props,n.Custprops)),t.join("")}function M7(){return""}function P7(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,a){var l=[];l.push(De("NumberFormat",null,{"ss:Format":Pt(on[r.numFmtId])}));var c={"ss:ID":"s"+(21+a)};t.push(De("Style",l.join(""),c))}),De("Styles",t.join(""))}function j4(n){return De("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+wv(n.Ref,{r:0,c:0})})}function L7(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var a=e[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(j4(a)))}return De("Names",t.join(""))}function F7(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,l=[],c=0;c<a.length;++c){var f=a[c];f.Sheet==t&&(f.Name.match(/^_xlfn\./)||l.push(j4(f)))}return l.join("")}function j7(n,e,t,r){if(!n)return"";var a=[];if(n["!margins"]&&(a.push("<PageSetup>"),n["!margins"].header&&a.push(De("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&a.push(De("Footer",null,{"x:Margin":n["!margins"].footer})),a.push(De("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)a.push(De("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<t&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==t&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),n["!protect"]&&(a.push(Yn("ProtectContents","True")),n["!protect"].objects&&a.push(Yn("ProtectObjects","True")),n["!protect"].scenarios&&a.push(Yn("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?a.push(Yn("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&a.push(Yn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){n["!protect"][c[0]]&&a.push("<"+c[1]+"/>")})),a.length==0?"":De("WorksheetOptions",a.join(""),{xmlns:Gr.x})}function U7(n){return n.map(function(e){var t=Hk(e.t||""),r=De("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return De("Comment",r,{"ss:Author":e.a})}).join("")}function V7(n,e,t,r,a,l,c){if(!n||n.v==null&&n.f==null)return"";var f={};if(n.f&&(f["ss:Formula"]="="+Pt(wv(n.f,c))),n.F&&n.F.slice(0,e.length)==e){var h=Ln(n.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(n.l&&n.l.Target&&(f["ss:HRef"]=Pt(n.l.Target),n.l.Tooltip&&(f["x:HRefScreenTip"]=Pt(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],g=0;g!=d.length;++g)d[g].s.c!=c.c||d[g].s.r!=c.r||(d[g].e.c>d[g].s.c&&(f["ss:MergeAcross"]=d[g].e.c-d[g].s.c),d[g].e.r>d[g].s.r&&(f["ss:MergeDown"]=d[g].e.r-d[g].s.r));var y="",_="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",_=String(n.v);break;case"b":y="Boolean",_=n.v?"1":"0";break;case"e":y="Error",_=jf[n.v];break;case"d":y="DateTime",_=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||on[14]);break;case"s":y="String",_=zk(n.v||"");break}var w=cl(r.cellXfs,n,r);f["ss:StyleID"]="s"+(21+w),f["ss:Index"]=c.c+1;var R=n.v!=null?_:"",T=n.t=="z"?"":'<Data ss:Type="'+y+'">'+R+"</Data>";return(n.c||[]).length>0&&(T+=U7(n.c)),De("Cell",T,f)}function B7(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=x4(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function z7(n,e,t,r){if(!n["!ref"])return"";var a=$t(n["!ref"]),l=n["!merges"]||[],c=0,f=[];n["!cols"]&&n["!cols"].forEach(function(b,H){Ev(b);var q=!!b.width,B=Qd(H,b),X={"ss:Index":H+1};q&&(X["ss:Width"]=pd(B.width)),b.hidden&&(X["ss:Hidden"]="1"),f.push(De("Column",null,X))});for(var h=Array.isArray(n),d=a.s.r;d<=a.e.r;++d){for(var g=[B7(d,(n["!rows"]||[])[d])],y=a.s.c;y<=a.e.c;++y){var _=!1;for(c=0;c!=l.length;++c)if(!(l[c].s.c>y)&&!(l[c].s.r>d)&&!(l[c].e.c<y)&&!(l[c].e.r<d)){(l[c].s.c!=y||l[c].s.r!=d)&&(_=!0);break}if(!_){var w={r:d,c:y},R=Lt(w),T=h?(n[d]||[])[y]:n[R];g.push(V7(T,R,n,e,t,r,w))}}g.push("</Row>"),g.length>2&&f.push(g.join(""))}return f.join("")}function H7(n,e,t){var r=[],a=t.SheetNames[n],l=t.Sheets[a],c=l?F7(l,e,n,t):"";return c.length>0&&r.push("<Names>"+c+"</Names>"),c=l?z7(l,e,n,t):"",c.length>0&&r.push("<Table>"+c+"</Table>"),r.push(j7(l,e,n,t)),r.join("")}function G7(n,e){e||(e={}),n.SSF||(n.SSF=Ir(on)),n.SSF&&(Wd(),qd(n.SSF),e.revssf=Kd(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],cl(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(k7(n,e)),t.push(M7()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(De("Worksheet",H7(r,e,n),{"ss:Name":Pt(n.SheetNames[r])}));return t[2]=P7(n,e),t[3]=L7(n),bn+De("Workbook",t.join(""),{xmlns:Gr.ss,"xmlns:o":Gr.o,"xmlns:x":Gr.x,"xmlns:ss":Gr.ss,"xmlns:dt":Gr.dt,"xmlns:html":Gr.html})}var vg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function q7(n,e){var t=[],r=[],a=[],l=0,c,f=QE(uT,"n"),h=QE(fT,"n");if(n.Props)for(c=Jn(n.Props),l=0;l<c.length;++l)(Object.prototype.hasOwnProperty.call(f,c[l])?t:Object.prototype.hasOwnProperty.call(h,c[l])?r:a).push([c[l],n.Props[c[l]]]);if(n.Custprops)for(c=Jn(n.Custprops),l=0;l<c.length;++l)Object.prototype.hasOwnProperty.call(n.Props||{},c[l])||(Object.prototype.hasOwnProperty.call(f,c[l])?t:Object.prototype.hasOwnProperty.call(h,c[l])?r:a).push([c[l],n.Custprops[c[l]]]);var d=[];for(l=0;l<a.length;++l)o4.indexOf(a[l][0])>-1||a4.indexOf(a[l][0])>-1||a[l][1]!=null&&d.push(a[l]);r.length&&Bt.utils.cfb_add(e,"/SummaryInformation",gT(r,vg.SI,h,fT)),(t.length||d.length)&&Bt.utils.cfb_add(e,"/DocumentSummaryInformation",gT(t,vg.DSI,f,uT,d.length?d:null,vg.UDI))}function W7(n,e){var t=e||{},r=Bt.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Bt.utils.cfb_add(r,a,U4(n,t)),t.biff==8&&(n.Props||n.Custprops)&&q7(n,r),t.biff==8&&n.vbaraw&&uP(r,Bt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var K7={0:{f:$L},1:{f:iF},2:{f:SF},3:{f:hF},4:{f:oF},5:{f:_F},6:{f:CF},7:{f:gF},8:{f:LF},9:{f:PF},10:{f:kF},11:{f:MF},12:{f:sF},13:{f:bF},14:{f:mF},15:{f:uF},16:{f:TF},17:{f:DF},18:{f:xF},19:{f:vv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:E7},40:{},42:{},43:{f:C9},44:{f:N9},45:{f:O9},46:{f:M9},47:{f:k9},48:{},49:{f:sM},50:{},51:{f:$9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:l9},62:{f:RF},63:{f:nP},64:{f:JF},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ha,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XF},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:nF},148:{f:ZL,p:16},151:{f:zF},152:{},153:{f:y7},154:{},155:{},156:{f:v7},157:{},158:{},159:{T:1,f:v9},160:{T:-1},161:{T:1,f:po},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:FF},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:X9},336:{T:-1},337:{f:Z9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Qg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:t9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:HF},427:{f:GF},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:WF},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tF},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:VF},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Qg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lP},633:{T:1},634:{T:-1},635:{T:1,f:aP},636:{T:-1},637:{f:uM},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:f7},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ZF},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Oe(n,e,t,r){var a=e;if(!isNaN(a)){var l=r||(t||[]).length||0,c=n.next(4);c.write_shift(2,a),c.write_shift(2,l),l>0&&mv(t)&&n.push(t)}}function X7(n,e,t,r){var a=(t||[]).length||0;if(a<=8224)return Oe(n,e,t,a);var l=e;if(!isNaN(l)){for(var c=t.parts||[],f=0,h=0,d=0;d+(c[f]||8224)<=8224;)d+=c[f]||8224,f++;var g=n.next(4);for(g.write_shift(2,l),g.write_shift(2,d),n.push(t.slice(h,h+d)),h+=d;h<a;){for(g=n.next(4),g.write_shift(2,60),d=0;d+(c[f]||8224)<=8224;)d+=c[f]||8224,f++;g.write_shift(2,d),n.push(t.slice(h,h+d)),h+=d}}}function Vf(n,e,t){return n||(n=ve(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Y7(n,e,t,r){var a=ve(9);return Vf(a,n,e),u4(t,r||"b",a),a}function $7(n,e,t){var r=ve(8+2*t.length);return Vf(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Q7(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Cr(vr(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Oe(n,2,f9(t,r,a)):Oe(n,3,u9(t,r,a));return;case"b":case"e":Oe(n,5,Y7(t,r,e.v,e.t));return;case"s":case"str":Oe(n,4,$7(t,r,(e.v||"").slice(0,255)));return}Oe(n,1,Vf(null,t,r))}function J7(n,e,t,r){var a=Array.isArray(e),l=$t(e["!ref"]||"A1"),c,f="",h=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),c=An(l)}for(var d=l.s.r;d<=l.e.r;++d){f=$n(d);for(var g=l.s.c;g<=l.e.c;++g){d===l.s.r&&(h[g]=sr(g)),c=h[g]+f;var y=a?(e[d]||[])[g]:e[c];y&&Q7(n,y,d,g)}}}function Z7(n,e){for(var t=e||{},r=Rr(),a=0,l=0;l<n.SheetNames.length;++l)n.SheetNames[l]==t.sheet&&(a=l);if(a==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Oe(r,t.biff==4?1033:t.biff==3?521:9,_v(n,16,t)),J7(r,n.Sheets[n.SheetNames[a]],a,t),Oe(r,10),r.end()}function ej(n,e,t){Oe(n,49,KM({sz:12,name:"Arial"},t))}function tj(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Oe(n,1054,$M(a,e[a],t))})}function nj(n,e){var t=ve(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Oe(n,2151,t),t=ve(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),d4($t(e["!ref"]||"A1"),t),t.write_shift(4,4),Oe(n,2152,t)}function rj(n,e){for(var t=0;t<16;++t)Oe(n,224,xT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Oe(n,224,xT(r,0,e))})}function ij(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Oe(n,440,i9(r)),r[1].Tooltip&&Oe(n,2048,a9(r))}delete e["!links"]}function aj(n,e){if(e){var t=0;e.forEach(function(r,a){++t<=256&&r&&Oe(n,125,o9(Qd(a,r),a))})}}function sj(n,e,t,r,a){var l=16+cl(a.cellXfs,e,a);if(e.v==null&&!e.bf){Oe(n,513,ro(t,r,l));return}if(e.bf)Oe(n,6,IL(e,t,r,a,l));else switch(e.t){case"d":case"n":var c=e.t=="d"?Cr(vr(e.v)):e.v;Oe(n,515,e9(t,r,c,l));break;case"b":case"e":Oe(n,517,ZM(t,r,e.v,l,a,e.t));break;case"s":case"str":if(a.bookSST){var f=Av(a.Strings,e.v,a.revStrings);Oe(n,253,XM(t,r,f,l))}else Oe(n,516,YM(t,r,(e.v||"").slice(0,255),l,a));break;default:Oe(n,513,ro(t,r,l))}}function lj(n,e,t){var r=Rr(),a=t.SheetNames[n],l=t.Sheets[a]||{},c=(t||{}).Workbook||{},f=(c.Sheets||[])[n]||{},h=Array.isArray(l),d=e.biff==8,g,y="",_=[],w=$t(l["!ref"]||"A1"),R=d?65536:16384;if(w.e.c>255||w.e.r>=R){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,R-1)}Oe(r,2057,_v(t,16,e)),Oe(r,13,ui(1)),Oe(r,12,ui(100)),Oe(r,15,gr(!0)),Oe(r,17,gr(!1)),Oe(r,16,no(.001)),Oe(r,95,gr(!0)),Oe(r,42,gr(!1)),Oe(r,43,gr(!1)),Oe(r,130,ui(1)),Oe(r,128,JM()),Oe(r,131,gr(!1)),Oe(r,132,gr(!1)),d&&aj(r,l["!cols"]),Oe(r,512,QM(w,e)),d&&(l["!links"]=[]);for(var T=w.s.r;T<=w.e.r;++T){y=$n(T);for(var b=w.s.c;b<=w.e.c;++b){T===w.s.r&&(_[b]=sr(b)),g=_[b]+y;var H=h?(l[T]||[])[b]:l[g];H&&(sj(r,H,T,b,e),d&&H.l&&l["!links"].push([g,H.l]))}}var q=f.CodeName||f.name||a;return d&&Oe(r,574,WM((c.Views||[])[0])),d&&(l["!merges"]||[]).length&&Oe(r,229,r9(l["!merges"])),d&&ij(r,l),Oe(r,442,h4(q)),d&&nj(r,l),Oe(r,10),r.end()}function oj(n,e,t){var r=Rr(),a=(n||{}).Workbook||{},l=a.Sheets||[],c=a.WBProps||{},f=t.biff==8,h=t.biff==5;if(Oe(r,2057,_v(n,5,t)),t.bookType=="xla"&&Oe(r,135),Oe(r,225,f?ui(1200):null),Oe(r,193,kM(2)),h&&Oe(r,191),h&&Oe(r,192),Oe(r,226),Oe(r,92,zM("SheetJS",t)),Oe(r,66,ui(f?1200:1252)),f&&Oe(r,353,ui(0)),f&&Oe(r,448),Oe(r,317,c9(n.SheetNames.length)),f&&n.vbaraw&&Oe(r,211),f&&n.vbaraw){var d=c.CodeName||"ThisWorkbook";Oe(r,442,h4(d))}Oe(r,156,ui(17)),Oe(r,25,gr(!1)),Oe(r,18,gr(!1)),Oe(r,19,ui(0)),f&&Oe(r,431,gr(!1)),f&&Oe(r,444,ui(0)),Oe(r,61,qM()),Oe(r,64,gr(!1)),Oe(r,141,ui(0)),Oe(r,34,gr(d7(n)=="true")),Oe(r,14,gr(!0)),f&&Oe(r,439,gr(!1)),Oe(r,218,ui(0)),ej(r,n,t),tj(r,n.SSF,t),rj(r,t),f&&Oe(r,352,gr(!1));var g=r.end(),y=Rr();f&&Oe(y,140,s9()),f&&t.Strings&&X7(y,252,GM(t.Strings)),Oe(y,10);var _=y.end(),w=Rr(),R=0,T=0;for(T=0;T<n.SheetNames.length;++T)R+=(f?12:11)+(f?2:1)*n.SheetNames[T].length;var b=g.length+R+_.length;for(T=0;T<n.SheetNames.length;++T){var H=l[T]||{};Oe(w,133,HM({pos:b,hs:H.Hidden||0,dt:0,name:n.SheetNames[T]},t)),b+=e[T].length}var q=w.end();if(R!=q.length)throw new Error("BS8 "+R+" != "+q.length);var B=[];return g.length&&B.push(g),q.length&&B.push(q),_.length&&B.push(_),Xn(B)}function cj(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Ir(on)),n&&n.SSF&&(Wd(),qd(n.SSF),t.revssf=Kd(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,bv(t),t.cellXfs=[],cl(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var a=0;a<n.SheetNames.length;++a)r[r.length]=lj(a,t,n);return r.unshift(oj(n,r,t)),Xn(r)}function U4(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var a=Xr(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var l=e||{};switch(l.biff||2){case 8:case 5:return cj(n,e);case 4:case 3:case 2:return Z7(n,e)}throw new Error("invalid type "+l.bookType+" for BIFF")}function uj(n,e,t,r){for(var a=n["!merges"]||[],l=[],c=e.s.c;c<=e.e.c;++c){for(var f=0,h=0,d=0;d<a.length;++d)if(!(a[d].s.r>t||a[d].s.c>c)&&!(a[d].e.r<t||a[d].e.c<c)){if(a[d].s.r<t||a[d].s.c<c){f=-1;break}f=a[d].e.r-a[d].s.r+1,h=a[d].e.c-a[d].s.c+1;break}if(!(f<0)){var g=Lt({r:t,c}),y=r.dense?(n[t]||[])[c]:n[g],_=y&&y.v!=null&&(y.h||Bk(y.w||(ns(y),y.w)||""))||"",w={};f>1&&(w.rowspan=f),h>1&&(w.colspan=h),r.editable?_='<span contenteditable="true">'+_+"</span>":y&&(w["data-t"]=y&&y.t||"z",y.v!=null&&(w["data-v"]=y.v),y.z!=null&&(w["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+y.l.Target+'">'+_+"</a>")),w.id=(r.id||"sjs")+"-"+g,l.push(De("td",_,w))}}var R="<tr>";return R+l.join("")+"</tr>"}var fj='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',hj="</body></html>";function dj(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function V4(n,e){var t=e||{},r=t.header!=null?t.header:fj,a=t.footer!=null?t.footer:hj,l=[r],c=Xr(n["!ref"]);t.dense=Array.isArray(n),l.push(dj(n,c,t));for(var f=c.s.r;f<=c.e.r;++f)l.push(uj(n,c,f,t));return l.push("</table>"+a),l.join("")}function B4(n,e,t){var r=t||{},a=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ln(r.origin):r.origin;a=c.r,l=c.c}var f=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,f.length),d={s:{r:0,c:0},e:{r:a,c:l}};if(n["!ref"]){var g=Xr(n["!ref"]);d.s.r=Math.min(d.s.r,g.s.r),d.s.c=Math.min(d.s.c,g.s.c),d.e.r=Math.max(d.e.r,g.e.r),d.e.c=Math.max(d.e.c,g.e.c),a==-1&&(d.e.r=a=g.e.r+1)}var y=[],_=0,w=n["!rows"]||(n["!rows"]=[]),R=0,T=0,b=0,H=0,q=0,B=0;for(n["!cols"]||(n["!cols"]=[]);R<f.length&&T<h;++R){var X=f[R];if(AT(X)){if(r.display)continue;w[T]={hidden:!0}}var he=X.children;for(b=H=0;b<he.length;++b){var ne=he[b];if(!(r.display&&AT(ne))){var N=ne.hasAttribute("data-v")?ne.getAttribute("data-v"):ne.hasAttribute("v")?ne.getAttribute("v"):qk(ne.innerHTML),I=ne.getAttribute("data-z")||ne.getAttribute("z");for(_=0;_<y.length;++_){var C=y[_];C.s.c==H+l&&C.s.r<T+a&&T+a<=C.e.r&&(H=C.e.c+1-l,_=-1)}B=+ne.getAttribute("colspan")||1,((q=+ne.getAttribute("rowspan")||1)>1||B>1)&&y.push({s:{r:T+a,c:H+l},e:{r:T+a+(q||1)-1,c:H+l+(B||1)-1}});var F={t:"s",v:N},M=ne.getAttribute("data-t")||ne.getAttribute("t")||"";N!=null&&(N.length==0?F.t=M||"z":r.raw||N.trim().length==0||M=="s"||(N==="TRUE"?F={t:"b",v:!0}:N==="FALSE"?F={t:"b",v:!1}:isNaN(Xa(N))?isNaN(pf(N).getDate())||(F={t:"d",v:vr(N)},r.cellDates||(F={t:"n",v:Cr(F.v)}),F.z=r.dateNF||on[14]):F={t:"n",v:Xa(N)})),F.z===void 0&&I!=null&&(F.z=I);var G="",U=ne.getElementsByTagName("A");if(U&&U.length)for(var We=0;We<U.length&&!(U[We].hasAttribute("href")&&(G=U[We].getAttribute("href"),G.charAt(0)!="#"));++We);G&&G.charAt(0)!="#"&&(F.l={Target:G}),r.dense?(n[T+a]||(n[T+a]=[]),n[T+a][H+l]=F):n[Lt({c:H+l,r:T+a})]=F,d.e.c<H+l&&(d.e.c=H+l),H+=B}}++T}return y.length&&(n["!merges"]=(n["!merges"]||[]).concat(y)),d.e.r=Math.max(d.e.r,T-1+a),n["!ref"]=An(d),T>=h&&(n["!fullref"]=An((d.e.r=f.length-R+T-1+a,d))),n}function z4(n,e){var t=e||{},r=t.dense?[]:{};return B4(r,n,e)}function mj(n,e){return uo(z4(n,e),e)}function AT(n){var e="",t=pj(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function pj(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var gj=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+vf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return bn+e}})(),bT=(function(){var n=function(l){return Pt(l).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(l,c,f){var h=[];h.push('      <table:table table:name="'+Pt(c.SheetNames[f])+`" table:style-name="ta1">
`);var d=0,g=0,y=Xr(l["!ref"]||"A1"),_=l["!merges"]||[],w=0,R=Array.isArray(l);if(l["!cols"])for(g=0;g<=y.e.c;++g)h.push("        <table:table-column"+(l["!cols"][g]?' table:style-name="co'+l["!cols"][g].ods+'"':"")+`></table:table-column>
`);var T="",b=l["!rows"]||[];for(d=0;d<y.s.r;++d)T=b[d]?' table:style-name="ro'+b[d].ods+'"':"",h.push("        <table:table-row"+T+`></table:table-row>
`);for(;d<=y.e.r;++d){for(T=b[d]?' table:style-name="ro'+b[d].ods+'"':"",h.push("        <table:table-row"+T+`>
`),g=0;g<y.s.c;++g)h.push(e);for(;g<=y.e.c;++g){var H=!1,q={},B="";for(w=0;w!=_.length;++w)if(!(_[w].s.c>g)&&!(_[w].s.r>d)&&!(_[w].e.c<g)&&!(_[w].e.r<d)){(_[w].s.c!=g||_[w].s.r!=d)&&(H=!0),q["table:number-columns-spanned"]=_[w].e.c-_[w].s.c+1,q["table:number-rows-spanned"]=_[w].e.r-_[w].s.r+1;break}if(H){h.push(t);continue}var X=Lt({r:d,c:g}),he=R?(l[d]||[])[g]:l[X];if(he&&he.f&&(q["table:formula"]=Pt(LL(he.f)),he.F&&he.F.slice(0,X.length)==X)){var ne=Xr(he.F);q["table:number-matrix-columns-spanned"]=ne.e.c-ne.s.c+1,q["table:number-matrix-rows-spanned"]=ne.e.r-ne.s.r+1}if(!he){h.push(e);continue}switch(he.t){case"b":B=he.v?"TRUE":"FALSE",q["office:value-type"]="boolean",q["office:boolean-value"]=he.v?"true":"false";break;case"n":B=he.w||String(he.v||0),q["office:value-type"]="float",q["office:value"]=he.v||0;break;case"s":case"str":B=he.v==null?"":he.v,q["office:value-type"]="string";break;case"d":B=he.w||vr(he.v).toISOString(),q["office:value-type"]="date",q["office:date-value"]=vr(he.v).toISOString(),q["table:style-name"]="ce1";break;default:h.push(e);continue}var N=n(B);if(he.l&&he.l.Target){var I=he.l.Target;I=I.charAt(0)=="#"?"#"+FL(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),N=De("text:a",N,{"xlink:href":I.replace(/&/g,"&amp;")})}h.push("          "+De("table:table-cell",De("text:p",N,{}),q)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},a=function(l,c){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var f=0;c.SheetNames.map(function(d){return c.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var g=0;g<d["!cols"].length;++g)if(d["!cols"][g]){var y=d["!cols"][g];if(y.width==null&&y.wpx==null&&y.wch==null)continue;Ev(y),y.ods=f;var _=d["!cols"][g].wpx+"px";l.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),l.push(`  </style:style>
`),++f}}});var h=0;c.SheetNames.map(function(d){return c.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var g=0;g<d["!rows"].length;++g)if(d["!rows"][g]){d["!rows"][g].ods=h;var y=d["!rows"][g].hpx+"px";l.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),l.push(`  </style:style>
`),++h}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(c,f){var h=[bn],d=vf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=vf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(h.push("<office:document"+d+g+`>
`),h.push(r4().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+d+`>
`),a(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var y=0;y!=c.SheetNames.length;++y)h.push(r(c.Sheets[c.SheetNames[y]],c,y));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),f.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function H4(n,e){if(e.bookType=="fods")return bT(n,e);var t=uv(),r="",a=[],l=[];return r="mimetype",ot(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ot(t,r,bT(n,e)),a.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",ot(t,r,gj(n,e)),a.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",ot(t,r,bn+r4()),a.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",ot(t,r,RM(l)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ot(t,r,bM(a)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function xd(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function vj(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Ci(gf(n))}function xj(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function al(n){var e=n.reduce(function(a,l){return a+l.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(a){t.set(a,r),r+=a.length}),t}function yj(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var l=0;a>=1;++l,a/=256)n[e+l]=a&255;n[e+15]|=t>=0?0:128}function xf(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function kt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function xc(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Rn(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],a=xf(n,t),l=a&7;a=Math.floor(a/8);var c=0,f;if(a==0)break;switch(l){case 0:{for(var h=t[0];n[t[0]++]>=128;);f=n.slice(h,t[0])}break;case 5:c=4,f=n.slice(t[0],t[0]+c),t[0]+=c;break;case 1:c=8,f=n.slice(t[0],t[0]+c),t[0]+=c;break;case 2:c=xf(n,t),f=n.slice(t[0],t[0]+c),t[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(a," at offset ").concat(r))}var d={data:f,type:l};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function Gn(n){var e=[];return n.forEach(function(t,r){t.forEach(function(a){a.data&&(e.push(kt(r*8+a.type)),a.type==2&&e.push(kt(a.data.length)),e.push(a.data))})}),al(e)}function bi(n){for(var e,t=[],r=[0];r[0]<n.length;){var a=xf(n,r),l=Rn(n.slice(r[0],r[0]+a));r[0]+=a;var c={id:xc(l[1][0].data),messages:[]};l[2].forEach(function(f){var h=Rn(f.data),d=xc(h[3][0].data);c.messages.push({meta:h,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=l[3])!=null&&e[0]&&(c.merge=xc(l[3][0].data)>>>0>0),t.push(c)}return t}function rc(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:kt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:kt(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(c){a.push(c.data),c.meta[3]=[{type:0,data:kt(c.data.length)}],r[2].push({data:Gn(c.meta),type:2})});var l=Gn(r);e.push(kt(l.length)),e.push(l),a.forEach(function(c){return e.push(c)})}),al(e)}function _j(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=xf(e,t),a=[];t[0]<e.length;){var l=e[t[0]]&3;if(l==0){var c=e[t[0]++]>>2;if(c<60)++c;else{var f=c-59;c=e[t[0]],f>1&&(c|=e[t[0]+1]<<8),f>2&&(c|=e[t[0]+2]<<16),f>3&&(c|=e[t[0]+3]<<24),c>>>=0,c++,t[0]+=f}a.push(e.slice(t[0],t[0]+c)),t[0]+=c;continue}else{var h=0,d=0;if(l==1?(d=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,l==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[al(a)],h==0)throw new Error("Invalid offset 0");if(h>a[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(a.push(a[0].slice(-h)),d-=h;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-h,-h+d))}}var g=al(a);if(g.length!=r)throw new Error("Unexpected length: ".concat(g.length," != ").concat(r));return g}function Ni(n){for(var e=[],t=0;t<n.length;){var r=n[t++],a=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(_j(r,n.slice(t,t+a))),t+=a}if(t!==n.length)throw new Error("data is not a valid framed stream!");return al(e)}function ic(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),a=new Uint8Array(4);e.push(a);var l=kt(r),c=l.length;e.push(l),r<=60?(c++,e.push(new Uint8Array([r-1<<2]))):r<=256?(c+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(c+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(c+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(c+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),c+=r,a[0]=0,a[1]=c&255,a[2]=c>>8&255,a[3]=c>>16&255,t+=r}return al(e)}function xg(n,e){var t=new Uint8Array(32),r=xd(t),a=12,l=0;switch(t[0]=5,n.t){case"n":t[1]=2,yj(t,a,n.v),l|=1,a+=16;break;case"b":t[1]=6,r.setFloat64(a,n.v?1:0,!0),l|=2,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(a,e.indexOf(n.v),!0),l|=8,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,l,!0),t.slice(0,a)}function yg(n,e){var t=new Uint8Array(32),r=xd(t),a=12,l=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(a,n.v,!0),l|=32,a+=8;break;case"b":t[2]=6,r.setFloat64(a,n.v?1:0,!0),l|=32,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(a,e.indexOf(n.v),!0),l|=16,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,l,!0),t.slice(0,a)}function js(n){var e=Rn(n);return xf(e[1][0].data)}function Ej(n,e,t){var r,a,l,c;if(!((r=n[6])!=null&&r[0])||!((a=n[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var f=((c=(l=n[8])==null?void 0:l[0])==null?void 0:c.data)&&xc(n[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var h=0,d=xd(n[7][0].data),g=0,y=[],_=xd(n[4][0].data),w=0,R=[],T=0;T<e.length;++T){if(e[T]==null){d.setUint16(T*2,65535,!0),_.setUint16(T*2,65535);continue}d.setUint16(T*2,g,!0),_.setUint16(T*2,w,!0);var b,H;switch(typeof e[T]){case"string":b=xg({t:"s",v:e[T]},t),H=yg({t:"s",v:e[T]},t);break;case"number":b=xg({t:"n",v:e[T]},t),H=yg({t:"n",v:e[T]},t);break;case"boolean":b=xg({t:"b",v:e[T]},t),H=yg({t:"b",v:e[T]},t);break;default:throw new Error("Unsupported value "+e[T])}y.push(b),g+=b.length,R.push(H),w+=H.length,++h}for(n[2][0].data=kt(h);T<n[7][0].data.length/2;++T)d.setUint16(T*2,65535,!0),_.setUint16(T*2,65535,!0);return n[6][0].data=al(y),n[3][0].data=al(R),h}function Tj(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Xr(t["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(An(r)));var l=yd(t,{range:r,header:1}),c=["~Sh33tJ5~"];l.forEach(function(J){return J.forEach(function(K){typeof K=="string"&&c.push(K)})});var f={},h=[],d=Bt.read(e.numbers,{type:"base64"});d.FileIndex.map(function(J,K){return[J,d.FullPaths[K]]}).forEach(function(J){var K=J[0],Q=J[1];if(K.type==2&&K.name.match(/\.iwa/)){var de=K.content,Re=Ni(de),Fe=bi(Re);Fe.forEach(function(Ie){h.push(Ie.id),f[Ie.id]={deps:[],location:Q,type:xc(Ie.messages[0].meta[1][0].data)}})}}),h.sort(function(J,K){return J-K});var g=h.filter(function(J){return J>1}).map(function(J){return[J,kt(J)]});d.FileIndex.map(function(J,K){return[J,d.FullPaths[K]]}).forEach(function(J){var K=J[0];if(J[1],!!K.name.match(/\.iwa/)){var Q=bi(Ni(K.content));Q.forEach(function(de){de.messages.forEach(function(Re){g.forEach(function(Fe){de.messages.some(function(Ie){return xc(Ie.meta[1][0].data)!=11006&&xj(Ie.data,Fe[1])})&&f[Fe[0]].deps.push(de.id)})})})}});for(var y=Bt.find(d,f[1].location),_=bi(Ni(y.content)),w,R=0;R<_.length;++R){var T=_[R];T.id==1&&(w=T)}var b=js(Rn(w.messages[0].data)[1][0].data);for(y=Bt.find(d,f[b].location),_=bi(Ni(y.content)),R=0;R<_.length;++R)T=_[R],T.id==b&&(w=T);for(b=js(Rn(w.messages[0].data)[2][0].data),y=Bt.find(d,f[b].location),_=bi(Ni(y.content)),R=0;R<_.length;++R)T=_[R],T.id==b&&(w=T);for(b=js(Rn(w.messages[0].data)[2][0].data),y=Bt.find(d,f[b].location),_=bi(Ni(y.content)),R=0;R<_.length;++R)T=_[R],T.id==b&&(w=T);var H=Rn(w.messages[0].data);{H[6][0].data=kt(r.e.r+1),H[7][0].data=kt(r.e.c+1);var q=js(H[46][0].data),B=Bt.find(d,f[q].location),X=bi(Ni(B.content));{for(var he=0;he<X.length&&X[he].id!=q;++he);if(X[he].id!=q)throw"Bad ColumnRowUIDMapArchive";var ne=Rn(X[he].messages[0].data);ne[1]=[],ne[2]=[],ne[3]=[];for(var N=0;N<=r.e.c;++N){var I=[];I[1]=I[2]=[{type:0,data:kt(N+420690)}],ne[1].push({type:2,data:Gn(I)}),ne[2].push({type:0,data:kt(N)}),ne[3].push({type:0,data:kt(N)})}ne[4]=[],ne[5]=[],ne[6]=[];for(var C=0;C<=r.e.r;++C)I=[],I[1]=I[2]=[{type:0,data:kt(C+726270)}],ne[4].push({type:2,data:Gn(I)}),ne[5].push({type:0,data:kt(C)}),ne[6].push({type:0,data:kt(C)});X[he].messages[0].data=Gn(ne)}B.content=ic(rc(X)),B.size=B.content.length,delete H[46];var F=Rn(H[4][0].data);{F[7][0].data=kt(r.e.r+1);var M=Rn(F[1][0].data),G=js(M[2][0].data);B=Bt.find(d,f[G].location),X=bi(Ni(B.content));{if(X[0].id!=G)throw"Bad HeaderStorageBucket";var U=Rn(X[0].messages[0].data);for(C=0;C<l.length;++C){var We=Rn(U[2][0].data);We[1][0].data=kt(C),We[4][0].data=kt(l[C].length),U[2][C]={type:U[2][0].type,data:Gn(We)}}X[0].messages[0].data=Gn(U)}B.content=ic(rc(X)),B.size=B.content.length;var Ge=js(F[2][0].data);B=Bt.find(d,f[Ge].location),X=bi(Ni(B.content));{if(X[0].id!=Ge)throw"Bad HeaderStorageBucket";for(U=Rn(X[0].messages[0].data),N=0;N<=r.e.c;++N)We=Rn(U[2][0].data),We[1][0].data=kt(N),We[4][0].data=kt(r.e.r+1),U[2][N]={type:U[2][0].type,data:Gn(We)};X[0].messages[0].data=Gn(U)}B.content=ic(rc(X)),B.size=B.content.length;var pe=js(F[4][0].data);(function(){for(var J=Bt.find(d,f[pe].location),K=bi(Ni(J.content)),Q,de=0;de<K.length;++de){var Re=K[de];Re.id==pe&&(Q=Re)}var Fe=Rn(Q.messages[0].data);{Fe[3]=[];var Ie=[];c.forEach(function(lt,nn){Ie[1]=[{type:0,data:kt(nn)}],Ie[2]=[{type:0,data:kt(1)}],Ie[3]=[{type:2,data:vj(lt)}],Fe[3].push({type:2,data:Gn(Ie)})})}Q.messages[0].data=Gn(Fe);var Pe=rc(K),vt=ic(Pe);J.content=vt,J.size=J.content.length})();var Ne=Rn(F[3][0].data);{var Be=Ne[1][0];delete Ne[2];var Ye=Rn(Be.data);{var nt=js(Ye[2][0].data);(function(){for(var J=Bt.find(d,f[nt].location),K=bi(Ni(J.content)),Q,de=0;de<K.length;++de){var Re=K[de];Re.id==nt&&(Q=Re)}var Fe=Rn(Q.messages[0].data);{delete Fe[6],delete Ne[7];var Ie=new Uint8Array(Fe[5][0].data);Fe[5]=[];for(var Pe=0,vt=0;vt<=r.e.r;++vt){var lt=Rn(Ie);Pe+=Ej(lt,l[vt],c),lt[1][0].data=kt(vt),Fe[5].push({data:Gn(lt),type:2})}Fe[1]=[{type:0,data:kt(r.e.c+1)}],Fe[2]=[{type:0,data:kt(r.e.r+1)}],Fe[3]=[{type:0,data:kt(Pe)}],Fe[4]=[{type:0,data:kt(r.e.r+1)}]}Q.messages[0].data=Gn(Fe);var nn=rc(K),at=ic(nn);J.content=at,J.size=J.content.length})()}Be.data=Gn(Ye)}F[3][0].data=Gn(Ne)}H[4][0].data=Gn(F)}w.messages[0].data=Gn(H);var Z=rc(_),k=ic(Z);return y.content=k,y.size=y.content.length,d}function wj(n){return function(t){for(var r=0;r!=n.length;++r){var a=n[r];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function bv(n){wj([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Sj(n,e){return e.bookType=="ods"?H4(n,e):e.bookType=="numbers"?Tj(n,e):e.bookType=="xlsb"?Aj(n,e):bj(n,e)}function Aj(n,e){cc=1024,n&&!n.SSF&&(n.SSF=Ir(on)),n&&n.SSF&&(Wd(),qd(n.SSF),e.revssf=Kd(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,tf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=A4.indexOf(e.bookType)>-1,a=e4();bv(e=e||{});var l=uv(),c="",f=0;if(e.cellXfs=[],cl(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),c="docProps/core.xml",ot(l,c,i4(n.Props,e)),a.coreprops.push(c),Mt(e.rels,2,c,Et.CORE_PROPS),c="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(n.SheetNames[d]);n.Props.SheetNames=h}for(n.Props.Worksheets=n.Props.SheetNames.length,ot(l,c,s4(n.Props)),a.extprops.push(c),Mt(e.rels,3,c,Et.EXT_PROPS),n.Custprops!==n.Props&&Jn(n.Custprops||{}).length>0&&(c="docProps/custom.xml",ot(l,c,l4(n.Custprops)),a.custprops.push(c),Mt(e.rels,4,c,Et.CUST_PROPS)),f=1;f<=n.SheetNames.length;++f){var g={"!id":{}},y=n.Sheets[n.SheetNames[f-1]],_=(y||{})["!type"]||"sheet";switch(_){case"chart":default:c="xl/worksheets/sheet"+f+"."+t,ot(l,c,R7(f-1,c,e,n,g)),a.sheets.push(c),Mt(e.wbrels,-1,"worksheets/sheet"+f+"."+t,Et.WS[0])}if(y){var w=y["!comments"],R=!1,T="";w&&w.length>0&&(T="xl/comments"+f+"."+t,ot(l,T,D7(w,T)),a.comments.push(T),Mt(g,-1,"../comments"+f+"."+t,Et.CMNT),R=!0),y["!legacy"]&&R&&ot(l,"xl/drawings/vmlDrawing"+f+".vml",w4(f,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&ot(l,n4(c),gc(g))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,ot(l,c,I7(e.Strings,c,e)),a.strs.push(c),Mt(e.wbrels,-1,"sharedStrings."+t,Et.SST)),c="xl/workbook."+t,ot(l,c,N7(n,c)),a.workbooks.push(c),Mt(e.rels,1,c,Et.WB),c="xl/theme/theme1.xml",ot(l,c,E4(n.Themes,e)),a.themes.push(c),Mt(e.wbrels,-1,"theme/theme1.xml",Et.THEME),c="xl/styles."+t,ot(l,c,C7(n,c,e)),a.styles.push(c),Mt(e.wbrels,-1,"styles."+t,Et.STY),n.vbaraw&&r&&(c="xl/vbaProject.bin",ot(l,c,n.vbaraw),a.vba.push(c),Mt(e.wbrels,-1,"vbaProject.bin",Et.VBA)),c="xl/metadata."+t,ot(l,c,O7(c)),a.metadata.push(c),Mt(e.wbrels,-1,"metadata."+t,Et.XLMETA),ot(l,"[Content_Types].xml",t4(a,e)),ot(l,"_rels/.rels",gc(e.rels)),ot(l,"xl/_rels/workbook."+t+".rels",gc(e.wbrels)),delete e.revssf,delete e.ssf,l}function bj(n,e){cc=1024,n&&!n.SSF&&(n.SSF=Ir(on)),n&&n.SSF&&(Wd(),qd(n.SSF),e.revssf=Kd(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,tf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=A4.indexOf(e.bookType)>-1,a=e4();bv(e=e||{});var l=uv(),c="",f=0;if(e.cellXfs=[],cl(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),c="docProps/core.xml",ot(l,c,i4(n.Props,e)),a.coreprops.push(c),Mt(e.rels,2,c,Et.CORE_PROPS),c="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(n.SheetNames[d]);n.Props.SheetNames=h}n.Props.Worksheets=n.Props.SheetNames.length,ot(l,c,s4(n.Props)),a.extprops.push(c),Mt(e.rels,3,c,Et.EXT_PROPS),n.Custprops!==n.Props&&Jn(n.Custprops||{}).length>0&&(c="docProps/custom.xml",ot(l,c,l4(n.Custprops)),a.custprops.push(c),Mt(e.rels,4,c,Et.CUST_PROPS));var g=["SheetJ5"];for(e.tcid=0,f=1;f<=n.SheetNames.length;++f){var y={"!id":{}},_=n.Sheets[n.SheetNames[f-1]],w=(_||{})["!type"]||"sheet";switch(w){case"chart":default:c="xl/worksheets/sheet"+f+"."+t,ot(l,c,M4(f-1,e,n,y)),a.sheets.push(c),Mt(e.wbrels,-1,"worksheets/sheet"+f+"."+t,Et.WS[0])}if(_){var R=_["!comments"],T=!1,b="";if(R&&R.length>0){var H=!1;R.forEach(function(q){q[1].forEach(function(B){B.T==!0&&(H=!0)})}),H&&(b="xl/threadedComments/threadedComment"+f+"."+t,ot(l,b,rP(R,g,e)),a.threadedcomments.push(b),Mt(y,-1,"../threadedComments/threadedComment"+f+"."+t,Et.TCMNT)),b="xl/comments"+f+"."+t,ot(l,b,S4(R)),a.comments.push(b),Mt(y,-1,"../comments"+f+"."+t,Et.CMNT),T=!0}_["!legacy"]&&T&&ot(l,"xl/drawings/vmlDrawing"+f+".vml",w4(f,_["!comments"])),delete _["!comments"],delete _["!legacy"]}y["!id"].rId1&&ot(l,n4(c),gc(y))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,ot(l,c,p4(e.Strings,e)),a.strs.push(c),Mt(e.wbrels,-1,"sharedStrings."+t,Et.SST)),c="xl/workbook."+t,ot(l,c,F4(n)),a.workbooks.push(c),Mt(e.rels,1,c,Et.WB),c="xl/theme/theme1.xml",ot(l,c,E4(n.Themes,e)),a.themes.push(c),Mt(e.wbrels,-1,"theme/theme1.xml",Et.THEME),c="xl/styles."+t,ot(l,c,y4(n,e)),a.styles.push(c),Mt(e.wbrels,-1,"styles."+t,Et.STY),n.vbaraw&&r&&(c="xl/vbaProject.bin",ot(l,c,n.vbaraw),a.vba.push(c),Mt(e.wbrels,-1,"vbaProject.bin",Et.VBA)),c="xl/metadata."+t,ot(l,c,T4()),a.metadata.push(c),Mt(e.wbrels,-1,"metadata."+t,Et.XLMETA),g.length>1&&(c="xl/persons/person.xml",ot(l,c,iP(g)),a.people.push(c),Mt(e.wbrels,-1,"persons/person.xml",Et.PEOPLE)),ot(l,"[Content_Types].xml",t4(a,e)),ot(l,"_rels/.rels",gc(e.rels)),ot(l,"xl/_rels/workbook."+t+".rels",gc(e.wbrels)),delete e.revssf,delete e.ssf,l}function Nj(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ts(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function G4(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Lf(e.file,Bt.write(n,{type:St?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Bt.write(n,e)}function Rj(n,e){var t=Ir(e||{}),r=Sj(n,t);return Cj(r,t)}function Cj(n,e){var t={},r=St?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var a=n.FullPaths?Bt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Gd(a))}return e.password&&typeof encrypt_agile<"u"?G4(encrypt_agile(a,e.password),e):e.type==="file"?Lf(e.file,a):e.type=="string"?Qu(a):a}function Ij(n,e){var t=e||{},r=W7(n,t);return G4(r,t)}function Ji(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return mf(gf(r));case"binary":return gf(r);case"string":return n;case"file":return Lf(e.file,r,"utf8");case"buffer":return St?rs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ji(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Dj(n,e){switch(e.type){case"base64":return mf(n);case"binary":return n;case"string":return n;case"file":return Lf(e.file,n,"binary");case"buffer":return St?rs(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function _0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?mf(t):e.type=="string"?Qu(t):t;case"file":return Lf(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function q4(n,e){ak(),g7(n);var t=Ir(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=q4(n,t);return t.type="array",Gd(r)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=n.SheetNames.indexOf(t.sheet),!n.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ji(G7(n,t),t);case"slk":case"sylk":return Ji(d9.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"htm":case"html":return Ji(V4(n.Sheets[n.SheetNames[a]],t),t);case"txt":return Dj(W4(n.Sheets[n.SheetNames[a]],t),t);case"csv":return Ji(Nv(n.Sheets[n.SheetNames[a]],t),t,"\uFEFF");case"dif":return Ji(m9.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"dbf":return _0(h9.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"prn":return Ji(p9.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"rtf":return Ji(T9.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"eth":return Ji(m4.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"fods":return Ji(H4(n,t),t);case"wk1":return _0(yT.sheet_to_wk1(n.Sheets[n.SheetNames[a]],t),t);case"wk3":return _0(yT.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),_0(U4(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Ij(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Rj(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Oj(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function kj(n,e,t){var r={};return r.type="file",r.file=e,Oj(r),q4(n,r)}function Mj(n,e,t,r,a,l,c,f){var h=$n(t),d=f.defval,g=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),y=!0,_=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:t,enumerable:!1})}catch{_.__rowNum__=t}else _.__rowNum__=t;if(!c||n[t])for(var w=e.s.c;w<=e.e.c;++w){var R=c?n[t][w]:n[r[w]+h];if(R===void 0||R.t===void 0){if(d===void 0)continue;l[w]!=null&&(_[l[w]]=d);continue}var T=R.v;switch(R.t){case"z":if(T==null)break;continue;case"e":T=T==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+R.t)}if(l[w]!=null){if(T==null)if(R.t=="e"&&T===null)_[l[w]]=null;else if(d!==void 0)_[l[w]]=d;else if(g&&T===null)_[l[w]]=null;else continue;else _[l[w]]=g&&(R.t!=="n"||R.t==="n"&&f.rawNumbers!==!1)?T:ns(R,T,f);T!=null&&(y=!1)}}return{row:_,isempty:y}}function yd(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,a=1,l=[],c=0,f="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},g=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof g){case"string":h=$t(g);break;case"number":h=$t(n["!ref"]),h.s.r=g;break;default:h=g}r>0&&(a=0);var y=$n(h.s.r),_=[],w=[],R=0,T=0,b=Array.isArray(n),H=h.s.r,q=0,B={};b&&!n[H]&&(n[H]=[]);var X=d.skipHidden&&n["!cols"]||[],he=d.skipHidden&&n["!rows"]||[];for(q=h.s.c;q<=h.e.c;++q)if(!(X[q]||{}).hidden)switch(_[q]=sr(q),t=b?n[H][q]:n[_[q]+y],r){case 1:l[q]=q-h.s.c;break;case 2:l[q]=_[q];break;case 3:l[q]=d.header[q-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),f=c=ns(t,null,d),T=B[c]||0,!T)B[c]=1;else{do f=c+"_"+T++;while(B[f]);B[c]=T,B[f]=1}l[q]=f}for(H=h.s.r+a;H<=h.e.r;++H)if(!(he[H]||{}).hidden){var ne=Mj(n,h,H,_,r,l,b,d);(ne.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(w[R++]=ne.row)}return w.length=R,w}var NT=/"/g;function Pj(n,e,t,r,a,l,c,f){for(var h=!0,d=[],g="",y=$n(t),_=e.s.c;_<=e.e.c;++_)if(r[_]){var w=f.dense?(n[t]||[])[_]:n[r[_]+y];if(w==null)g="";else if(w.v!=null){h=!1,g=""+(f.rawNumbers&&w.t=="n"?w.v:ns(w,null,f));for(var R=0,T=0;R!==g.length;++R)if((T=g.charCodeAt(R))===a||T===l||T===34||f.forceQuotes){g='"'+g.replace(NT,'""')+'"';break}g=="ID"&&(g='"ID"')}else w.f!=null&&!w.F?(h=!1,g="="+w.f,g.indexOf(",")>=0&&(g='"'+g.replace(NT,'""')+'"')):g="";d.push(g)}return f.blankrows===!1&&h?null:d.join(c)}function Nv(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var a=$t(n["!ref"]),l=r.FS!==void 0?r.FS:",",c=l.charCodeAt(0),f=r.RS!==void 0?r.RS:`
`,h=f.charCodeAt(0),d=new RegExp((l=="|"?"\\|":l)+"+$"),g="",y=[];r.dense=Array.isArray(n);for(var _=r.skipHidden&&n["!cols"]||[],w=r.skipHidden&&n["!rows"]||[],R=a.s.c;R<=a.e.c;++R)(_[R]||{}).hidden||(y[R]=sr(R));for(var T=0,b=a.s.r;b<=a.e.r;++b)(w[b]||{}).hidden||(g=Pj(n,a,b,y,c,h,l,r),g!=null&&(r.strip&&(g=g.replace(d,"")),(g||r.blankrows!==!1)&&t.push((T++?f:"")+g)));return delete r.dense,t.join("")}function W4(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Nv(n,e);return t}function Lj(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var a=$t(n["!ref"]),l="",c=[],f,h=[],d=Array.isArray(n);for(f=a.s.c;f<=a.e.c;++f)c[f]=sr(f);for(var g=a.s.r;g<=a.e.r;++g)for(l=$n(g),f=a.s.c;f<=a.e.c;++f)if(e=c[f]+l,t=d?(n[g]||[])[f]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}h[h.length]=e+"="+r}return h}function K4(n,e,t){var r=t||{},a=+!r.skipHeader,l=n||{},c=0,f=0;if(l&&r.origin!=null)if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?Ln(r.origin):r.origin;c=h.r,f=h.c}var d,g={s:{c:0,r:0},e:{c:f,r:c+e.length-1+a}};if(l["!ref"]){var y=$t(l["!ref"]);g.e.c=Math.max(g.e.c,y.e.c),g.e.r=Math.max(g.e.r,y.e.r),c==-1&&(c=y.e.r+1,g.e.r=c+e.length-1+a)}else c==-1&&(c=0,g.e.r=e.length-1+a);var _=r.header||[],w=0;e.forEach(function(T,b){Jn(T).forEach(function(H){(w=_.indexOf(H))==-1&&(_[w=_.length]=H);var q=T[H],B="z",X="",he=Lt({c:f+w,r:c+b+a});d=yf(l,he),q&&typeof q=="object"&&!(q instanceof Date)?l[he]=q:(typeof q=="number"?B="n":typeof q=="boolean"?B="b":typeof q=="string"?B="s":q instanceof Date?(B="d",r.cellDates||(B="n",q=Cr(q)),X=r.dateNF||on[14]):q===null&&r.nullError&&(B="e",q=0),d?(d.t=B,d.v=q,delete d.w,delete d.R,X&&(d.z=X)):l[he]=d={t:B,v:q},X&&(d.z=X))})}),g.e.c=Math.max(g.e.c,f+_.length-1);var R=$n(c);if(a)for(w=0;w<_.length;++w)l[sr(w+f)+R]={t:"s",v:_[w]};return l["!ref"]=An(g),l}function Fj(n,e){return K4(null,n,e)}function yf(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Ln(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?yf(n,Lt(e)):yf(n,Lt({r:e,c:t||0}))}function jj(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Uj(){return{SheetNames:[],Sheets:{}}}function Vj(n,e,t,r){var a=1;if(!t)for(;a<=65535&&n.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var l=t.match(/(^.*?)(\d+)$/);a=l&&+l[2]||0;var c=l&&l[1]||t;for(++a;a<=65535&&n.SheetNames.indexOf(t=c+a)!=-1;++a);}if(L4(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Bj(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=jj(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function zj(n,e){return n.z=e,n}function X4(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Hj(n,e,t){return X4(n,"#"+e,t)}function Gj(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function qj(n,e,t,r){for(var a=typeof e!="string"?e:$t(e),l=typeof e=="string"?e:An(e),c=a.s.r;c<=a.e.r;++c)for(var f=a.s.c;f<=a.e.c;++f){var h=yf(n,c,f);h.t="n",h.F=l,delete h.v,c==a.s.r&&f==a.s.c&&(h.f=t,r&&(h.D=!0))}return n}var _g={encode_col:sr,encode_row:$n,encode_cell:Lt,encode_range:An,decode_col:gv,decode_row:pv,split_cell:aM,decode_cell:Ln,decode_range:Xr,format_cell:ns,sheet_add_aoa:XA,sheet_add_json:K4,sheet_add_dom:B4,aoa_to_sheet:Fc,json_to_sheet:Fj,table_to_sheet:z4,table_to_book:mj,sheet_to_csv:Nv,sheet_to_txt:W4,sheet_to_json:yd,sheet_to_html:V4,sheet_to_formulae:Lj,sheet_to_row_object_array:yd,sheet_get_cell:yf,book_new:Uj,book_append_sheet:Vj,book_set_sheet_visibility:Bj,cell_set_number_format:zj,cell_set_hyperlink:X4,cell_set_internal_link:Hj,cell_add_comment:Gj,sheet_set_array_formula:qj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Wj=()=>{const[n,e]=re.useState([]),[t,r]=re.useState(!0),[a,l]=re.useState(""),[c,f]=re.useState(""),[h,d]=re.useState(""),[g,y]=re.useState([]),_=sl();re.useEffect(()=>{(async()=>{try{const b=Vl(Ba(dn,"students")),q=(await ff(b)).docs.map(X=>X.data()),B=[...new Set(q.map(X=>X.classGrade))].sort((X,he)=>Number(X)-Number(he));y(B)}catch(b){console.error("Error fetching class list:",b)}})()},[]),re.useEffect(()=>{(async()=>{try{r(!0);let b;console.log("paymentstatusfilter:",h),c&&h?b=Vl(Ba(dn,"students"),Hl("classGrade","==",c),Hl("paymentStatus","==",h)):c?b=Vl(Ba(dn,"students"),Hl("classGrade","==",c)):h?b=Vl(Ba(dn,"students"),Hl("paymentStatus","==",h)):b=Vl(Ba(dn,"students"));const B=(await ff(b)).docs.map(X=>({id:X.id,...X.data()})).sort((X,he)=>X.rollNumber&&he.rollNumber?Number(X.rollNumber)-Number(he.rollNumber):X.rollNumber&&!he.rollNumber?1:!X.rollNumber&&he.rollNumber?-1:X.fullName.localeCompare(he.fullName));e(B),r(!1)}catch(b){console.error("Error fetching students:",b),r(!1)}})()},[c,h]);const w=n.filter(T=>T.fullName.toLowerCase().includes(a.toLowerCase())),R=()=>{if(w.length===0){alert("No data available to export");return}const T=w.map(B=>{const X={...B};return X.enrollmentDate&&typeof X.enrollmentDate.toDate=="function"&&(X.enrollmentDate=X.enrollmentDate.toDate().toLocaleDateString()),X.dateOfBirth&&(X.dateOfBirth=new Date(X.dateOfBirth).toLocaleDateString()),delete X.id,X}),b=_g.json_to_sheet(T),H=_g.book_new();_g.book_append_sheet(H,b,"Students");const q=`NymphAcademy_Students_${new Date().toISOString().slice(0,10)}.xlsx`;kj(H,q)};return t?x.jsx(Wa,{children:x.jsx("div",{className:"flex justify-center items-center h-full",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):x.jsxs(Wa,{children:[x.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Student Management"}),x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Name"}),x.jsx("input",{type:"text",id:"search",value:a,onChange:T=>l(T.target.value),placeholder:"Search students...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-4 py-2 border"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"classFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Class"}),x.jsxs("select",{id:"classFilter",value:c,onChange:T=>f(T.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-4 py-2 border",children:[x.jsx("option",{value:"",children:"All Classes"}),g.map(T=>x.jsxs("option",{value:T,children:["Class ",T]},T))]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"paymentStatusFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),x.jsxs("select",{id:"paymentStatusFilter",value:h,onChange:T=>d(T.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-4 py-2 border",children:[x.jsx("option",{value:"",children:"All Status"}),x.jsx("option",{value:"pending",children:"Pending Payment"}),x.jsx("option",{value:"completed",children:"Payment Completed"})]})]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("button",{onClick:R,disabled:w.length===0,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white 
              ${w.length===0?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}`,children:"Export to Excel"}),x.jsx("button",{onClick:()=>{l(""),f(""),d("")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset Filters"})]})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:x.jsxs("div",{className:"overflow-x-auto",children:[x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date of Birth"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),x.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(T=>x.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>_(`/admin/students/${T.id}`),children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.rollNumber||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.fullName}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Class ",T.classGrade]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.dateOfBirth).toLocaleDateString()||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.fatherName||T.motherName||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.paymentStatus==="completed"?x.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Completed"}):x.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.enrollmentDate?.toDate().toLocaleDateString()||"N/A"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.jsx("button",{onClick:b=>{b.stopPropagation(),_(`/admin/students/${T.id}`)},className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},T.id))})]}),w.length===0&&x.jsx("div",{className:"text-center py-4",children:x.jsx("p",{className:"text-gray-500",children:"No students found"})})]})})]})},Kj=()=>{const{id:n}=r1(),[e,t]=re.useState(null),[r,a]=re.useState(!0),l=sl();re.useEffect(()=>{(async()=>{try{const h=await Ii(Kr(dn,"students",n));h.exists()?t({id:h.id,...h.data()}):console.error("No student found with ID:",n),a(!1)}catch(h){console.error("Error fetching student:",h),a(!1)}})()},[n]);const c=f=>{if(!f)return"N/A";try{return f.toDate().toLocaleDateString()}catch{return"N/A"}};return r?x.jsx(Wa,{children:x.jsx("div",{className:"flex justify-center items-center h-full",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):e?x.jsxs(Wa,{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Student Details"}),x.jsxs("button",{onClick:()=>l("/admin/students"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center",children:[x.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Students"]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[x.jsx("div",{className:"p-6 border-b",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[x.jsxs("div",{className:"md:w-1/4",children:[x.jsx("div",{className:"mb-4",children:e.photoURL?x.jsx("img",{src:e.photoURL,alt:e.fullName,className:"w-full h-[250px] object-cover rounded-lg shadow-sm border border-gray-200"}):x.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center rounded-lg",children:x.jsx("p",{className:"text-gray-500",children:"No photo"})})}),x.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[x.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Roll Number"}),x.jsx("p",{className:"text-2xl font-bold",children:e.rollNumber||"Not Assigned"})]})]}),x.jsxs("div",{className:"md:w-3/4",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:e.fullName}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Class"}),x.jsxs("p",{className:"font-semibold",children:["Class ",e.classGrade]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Medium"}),x.jsx("p",{className:"font-semibold capitalize",children:e.medium})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Gender"}),x.jsx("p",{className:"font-semibold capitalize",children:e.gender})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Date of Birth"}),x.jsx("p",{className:"font-semibold",children:e.dateOfBirth})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Email"}),x.jsx("p",{className:"font-semibold",children:e.email||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"School"}),x.jsx("p",{className:"font-semibold",children:e.schoolName})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Enrollment Date"}),x.jsx("p",{className:"font-semibold",children:c(e.enrollmentDate)})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500",children:"Payment Date"}),x.jsx("p",{className:"font-semibold",children:c(e.paymentDate)})]})]})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[x.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[x.jsx("h3",{className:"font-semibold text-purple-800 mb-3",children:"Mother's Information"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Name"}),x.jsx("p",{className:"font-semibold",children:e.motherName})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Occupation"}),x.jsx("p",{className:"font-semibold",children:e.motherOccupation||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Mobile"}),x.jsx("p",{className:"font-semibold",children:e.motherMobile||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Email"}),x.jsx("p",{className:"font-semibold",children:e.motherEmail||"N/A"})]})]})]}),x.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-100",children:[x.jsx("h3",{className:"font-semibold text-cyan-800 mb-3",children:"Father's Information"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Name"}),x.jsx("p",{className:"font-semibold",children:e.fatherName})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Occupation"}),x.jsx("p",{className:"font-semibold",children:e.fatherOccupation||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Mobile"}),x.jsx("p",{className:"font-semibold",children:e.fatherMobile||"N/A"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Email"}),x.jsx("p",{className:"font-semibold",children:e.fatherEmail||"N/A"})]})]})]}),x.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-100",children:[x.jsx("h3",{className:"font-semibold text-emerald-800 mb-3",children:"Address Information"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Address"}),x.jsx("p",{className:"font-semibold",children:e.addressLine1})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"City"}),x.jsx("p",{className:"font-semibold",children:e.city})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"State"}),x.jsx("p",{className:"font-semibold",children:e.state})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"PIN Code"}),x.jsx("p",{className:"font-semibold",children:e.pincode})]})]})]}),x.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-100",children:[x.jsx("h3",{className:"font-semibold text-amber-800 mb-3",children:"Family Information"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Brothers"}),x.jsx("p",{className:"font-semibold",children:e.numberOfBrothers||"0"})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm",children:"Sisters"}),x.jsx("p",{className:"font-semibold",children:e.numberOfSisters||"0"})]})]})]})]}),x.jsxs("div",{className:"p-6 bg-gray-50",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Payment Proof"}),e.paymentScreenshotURL?x.jsx("img",{src:e.paymentScreenshotURL,alt:"Payment Screenshot",className:"max-w-full h-auto max-h-96 object-contain rounded-lg shadow-sm border border-gray-200"}):x.jsx("div",{className:"bg-gray-100 h-48 flex items-center justify-center rounded-lg",children:x.jsx("p",{className:"text-gray-500",children:"No payment screenshot available"})})]})]})]}):x.jsx(Wa,{children:x.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Student Not Found"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The student you're looking for doesn't exist or has been removed."}),x.jsx("button",{onClick:()=>l("/admin/students"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Students"})]})})},Xj=()=>{const[n,e]=re.useState(!0),[t,r]=re.useState(!1),[a,l]=re.useState(!1),[c,f]=re.useState({type:"",content:""}),[h,d]=re.useState({paymentPrice:"150",paymentQRUrl:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg",logoUrl:""}),[g,y]=re.useState({qr:"",logo:""}),_=re.useRef(null),w=re.useRef(null);re.useEffect(()=>{(async()=>{try{const X=Kr(dn,"settings","website"),he=await Ii(X);if(he.exists()){const ne=he.data();d({paymentPrice:ne.paymentPrice||"150",paymentQRUrl:ne.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg",logoUrl:ne.logoUrl||""}),y({qr:ne.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg",logo:ne.logoUrl||""})}}catch(X){console.error("Error fetching website settings:",X),f({type:"error",content:"Failed to load website settings. Please refresh the page."})}finally{e(!1)}})()},[]);const R=B=>{const{name:X,value:he}=B.target;d(ne=>({...ne,[X]:he})),X==="paymentQRUrl"?y(ne=>({...ne,qr:he})):X==="logoUrl"&&y(ne=>({...ne,logo:he}))},T=async B=>{const X=B.target.files[0];if(!X)return;if(!["image/jpeg","image/jpg","image/png"].includes(X.type)){f({type:"error",content:"Only JPG/PNG files are allowed"});return}if(X.size>5*1024*1024){f({type:"error",content:"File size exceeds 5MB limit"});return}l(!0),f({type:"",content:""});try{const ne=await id(X,"nymph_academy_qr_code_preset");d(N=>({...N,paymentQRUrl:ne.url})),y(N=>({...N,qr:ne.url})),f({type:"success",content:"QR code uploaded successfully!"}),setTimeout(()=>{f({type:"",content:""})},3e3)}catch(ne){console.error("Error uploading QR code:",ne),f({type:"error",content:`Failed to upload QR code: ${ne.message}`})}finally{l(!1),_.current&&(_.current.value="")}},b=async B=>{const X=B.target.files[0];if(!X)return;if(!["image/jpeg","image/jpg","image/png","image/svg+xml"].includes(X.type)){f({type:"error",content:"Only JPG/PNG/SVG files are allowed"});return}if(X.size>5*1024*1024){f({type:"error",content:"File size exceeds 5MB limit"});return}l(!0),f({type:"",content:""});try{const ne=await id(X,"nymph_academy_logo_preset");d(N=>({...N,logoUrl:ne.url})),y(N=>({...N,logo:ne.url})),f({type:"success",content:"Logo uploaded successfully!"}),setTimeout(()=>{f({type:"",content:""})},3e3)}catch(ne){console.error("Error uploading logo:",ne),f({type:"error",content:`Failed to upload logo: ${ne.message}`})}finally{l(!1),w.current&&(w.current.value="")}},H=async B=>{B.preventDefault(),r(!0),f({type:"",content:""});try{if(h.paymentQRUrl&&!q(h.paymentQRUrl))throw new Error("Payment QR URL is not valid");if(h.logoUrl&&!q(h.logoUrl))throw new Error("Logo URL is not valid");const X=Kr(dn,"settings","website");await Df(X,{...h,updatedAt:new Date},{merge:!0}),f({type:"success",content:"Website settings updated successfully!"}),setTimeout(()=>{f({type:"",content:""})},5e3)}catch(X){console.error("Error saving website settings:",X),f({type:"error",content:`Failed to save settings: ${X.message}`})}finally{r(!1)}},q=B=>{try{return new URL(B),!0}catch{return!1}};return n?x.jsx(Wa,{children:x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})}):x.jsx(Wa,{children:x.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[x.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Website Settings"}),c.content&&x.jsx("div",{className:`mb-4 p-3 rounded ${c.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.content}),x.jsxs("form",{onSubmit:H,children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h2",{className:"text-xl font-medium text-gray-700 mb-4",children:"Payment Settings"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"paymentPrice",children:"Payment Fee Amount ()"}),x.jsx("input",{type:"text",id:"paymentPrice",name:"paymentPrice",value:h.paymentPrice,onChange:R,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"paymentQRUrl",children:"Payment QR Code URL"}),x.jsxs("div",{className:"flex flex-col space-y-2",children:[x.jsx("input",{type:"text",id:"paymentQRUrl",name:"paymentQRUrl",value:h.paymentQRUrl,onChange:R,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/qr-code.png",required:!0}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-sm text-gray-500",children:"Or upload a QR code image:"}),x.jsx("input",{type:"file",ref:_,accept:"image/png,image/jpeg,image/jpg",className:"hidden",onChange:T}),x.jsx("button",{type:"button",onClick:()=>_.current.click(),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm py-1 px-3 rounded border border-gray-300 transition",disabled:a,children:a?"Uploading...":"Choose File"})]})]}),g.qr&&x.jsxs("div",{className:"mt-2",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"QR Code Preview:"}),x.jsx("div",{className:"border border-gray-300 rounded p-2 bg-gray-50 inline-block",children:x.jsx("img",{src:g.qr,alt:"Payment QR Preview",className:"h-32 w-32 object-contain",onError:B=>{B.target.onerror=null,B.target.src="https://via.placeholder.com/150?text=Invalid+URL"}})})]})]})]})]}),x.jsxs("div",{className:"mb-8",children:[x.jsx("h2",{className:"text-xl font-medium text-gray-700 mb-4",children:"Logo Settings"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"logoUrl",children:"Logo URL"}),x.jsxs("div",{className:"flex flex-col space-y-2",children:[x.jsx("input",{type:"text",id:"logoUrl",name:"logoUrl",value:h.logoUrl,onChange:R,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/logo.png"}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-sm text-gray-500",children:"Or upload a logo image:"}),x.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",className:"hidden",onChange:b,ref:B=>w.current=B}),x.jsx("button",{type:"button",onClick:()=>w.current.click(),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm py-1 px-3 rounded border border-gray-300 transition",disabled:a,children:a?"Uploading...":"Choose File"})]})]}),g.logo&&x.jsxs("div",{className:"mt-2",children:[x.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Logo Preview:"}),x.jsx("div",{className:"border border-gray-300 rounded p-2 bg-gray-50 inline-block",children:x.jsx("img",{src:g.logo,alt:"Logo Preview",className:"h-16 object-contain",onError:B=>{B.target.onerror=null,B.target.src="https://via.placeholder.com/150?text=Invalid+URL"}})})]})]})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-300 disabled:opacity-50",children:t?"Saving...":"Save Settings"})})]})]})})},Yj=()=>{const{currentUser:n,isAdmin:e,signIn:t}=co(),r=sl(),l=di().state?.from?.pathname||"/admin/dashboard";re.useEffect(()=>{n&&e&&r(l,{replace:!0})},[n,e,r,l]);const c=async()=>{try{await t()}catch(f){console.error("Login failed",f),alert("Login failed. Please try again.")}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"max-w-md w-full space-y-8",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in with your Google account to access the admin dashboard"})]}),x.jsx("div",{className:"mt-8 space-y-6",children:x.jsx("div",{children:x.jsxs("button",{onClick:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[x.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:x.jsx("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),"Sign in with Google"]})})})]})})},E0=({children:n})=>{const{currentUser:e,isAdmin:t,loading:r}=co(),a=di();return r?x.jsx("div",{className:"flex justify-center items-center min-h-screen",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e?t?n:x.jsx(Tg,{to:"/",replace:!0}):x.jsx(Tg,{to:"/login",state:{from:a},replace:!0})};function $j(){return x.jsx(q8,{children:x.jsx(KN,{basename:"/Nymph_Academy",children:x.jsxs(SN,{children:[x.jsx(Ri,{path:"/",element:x.jsx(W8,{})}),x.jsx(Ri,{path:"/enrollment",element:x.jsx(Y8,{})}),x.jsx(Ri,{path:"/payment/:studentId",element:x.jsx(Q8,{})}),x.jsx(Ri,{path:"/confirmation/:studentId",element:x.jsx(J8,{})}),x.jsx(Ri,{path:"/login",element:x.jsx(Yj,{})}),x.jsx(Ri,{path:"/admin",element:x.jsx(E0,{children:x.jsx(nk,{})})}),x.jsx(Ri,{path:"/admin/students",element:x.jsx(E0,{children:x.jsx(Wj,{})})}),x.jsx(Ri,{path:"/admin/settings",element:x.jsx(E0,{children:x.jsx(Xj,{})})}),x.jsx(Ri,{path:"/admin/students/:id",element:x.jsx(E0,{children:x.jsx(Kj,{})})}),x.jsx(Ri,{path:"*",element:x.jsx(Tg,{to:"/",replace:!0})})]})})})}M3.createRoot(document.getElementById("root")).render(x.jsx(re.StrictMode,{children:x.jsx($j,{})}));
