(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var dm={exports:{}},ko={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function YT(){if(Vv)return ko;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return ko.Fragment=e,ko.jsx=n,ko.jsxs=n,ko}var kv;function $T(){return kv||(kv=1,dm.exports=YT()),dm.exports}var m=$T(),fm={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function XT(){if(Lv)return we;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,P={};function W(M,ee,oe){this.props=M,this.context=ee,this.refs=P,this.updater=oe||G}W.prototype.isReactComponent={},W.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function ie(M,ee,oe){this.props=M,this.context=ee,this.refs=P,this.updater=oe||G}var ae=ie.prototype=new ne;ae.constructor=ie,B(ae,W.prototype),ae.isPureReactComponent=!0;var ge=Array.isArray;function re(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,ee,oe){var he=oe.ref;return{$$typeof:r,type:M,key:ee,ref:he!==void 0?he:null,props:oe}}function j(M,ee){return R(M.type,ee,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return ee[oe]})}var C=/\/+/g;function qe(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):ee.toString(36)}function It(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(re,re):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,ee,oe,he,Ee){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Ne){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case r:case e:Le=!0;break;case E:return Le=M._init,$(Le(M._payload),ee,oe,he,Ee)}}if(Le)return Ee=Ee(M),Le=he===""?"."+qe(M,0):he,ge(Ee)?(oe="",Le!=null&&(oe=Le.replace(C,"$&/")+"/"),$(Ee,ee,oe,"",function(bs){return bs})):Ee!=null&&(D(Ee)&&(Ee=j(Ee,oe+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+Le)),ee.push(Ee)),1;Le=0;var Dt=he===""?".":he+":";if(ge(M))for(var st=0;st<M.length;st++)he=M[st],Ne=Dt+qe(he,st),Le+=$(he,ee,oe,Ne,Ee);else if(st=V(M),typeof st=="function")for(M=st.call(M),st=0;!(he=M.next()).done;)he=he.value,Ne=Dt+qe(he,st++),Le+=$(he,ee,oe,Ne,Ee);else if(Ne==="object"){if(typeof M.then=="function")return $(It(M),ee,oe,he,Ee);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Le}function le(M,ee,oe){if(M==null)return M;var he=[],Ee=0;return $(M,he,"","",function(Ne){return ee.call(oe,Ne,Ee++)}),he}function ye(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Qe={map:le,forEach:function(M,ee,oe){le(M,function(){ee.apply(this,arguments)},oe)},count:function(M){var ee=0;return le(M,function(){ee++}),ee},toArray:function(M){return le(M,function(ee){return ee})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=x,we.Children=Qe,we.Component=W,we.Fragment=n,we.Profiler=l,we.PureComponent=ie,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,ee,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=B({},M.props),Ee=M.key;if(ee!=null)for(Ne in ee.key!==void 0&&(Ee=""+ee.key),ee)!A.call(ee,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ee.ref===void 0||(he[Ne]=ee[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=oe;else if(1<Ne){for(var Le=Array(Ne),Dt=0;Dt<Ne;Dt++)Le[Dt]=arguments[Dt+2];he.children=Le}return R(M.type,Ee,he)},we.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},we.createElement=function(M,ee,oe){var he,Ee={},Ne=null;if(ee!=null)for(he in ee.key!==void 0&&(Ne=""+ee.key),ee)A.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=ee[he]);var Le=arguments.length-2;if(Le===1)Ee.children=oe;else if(1<Le){for(var Dt=Array(Le),st=0;st<Le;st++)Dt[st]=arguments[st+2];Ee.children=Dt}if(M&&M.defaultProps)for(he in Le=M.defaultProps,Le)Ee[he]===void 0&&(Ee[he]=Le[he]);return R(M,Ne,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:p,render:M}},we.isValidElement=D,we.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ye}},we.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},we.startTransition=function(M){var ee=N.T,oe={};N.T=oe;try{var he=M(),Ee=N.S;Ee!==null&&Ee(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(re,Ue)}catch(Ne){Ue(Ne)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),N.T=ee}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(M){return N.H.use(M)},we.useActionState=function(M,ee,oe){return N.H.useActionState(M,ee,oe)},we.useCallback=function(M,ee){return N.H.useCallback(M,ee)},we.useContext=function(M){return N.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,ee){return N.H.useDeferredValue(M,ee)},we.useEffect=function(M,ee){return N.H.useEffect(M,ee)},we.useEffectEvent=function(M){return N.H.useEffectEvent(M)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(M,ee,oe){return N.H.useImperativeHandle(M,ee,oe)},we.useInsertionEffect=function(M,ee){return N.H.useInsertionEffect(M,ee)},we.useLayoutEffect=function(M,ee){return N.H.useLayoutEffect(M,ee)},we.useMemo=function(M,ee){return N.H.useMemo(M,ee)},we.useOptimistic=function(M,ee){return N.H.useOptimistic(M,ee)},we.useReducer=function(M,ee,oe){return N.H.useReducer(M,ee,oe)},we.useRef=function(M){return N.H.useRef(M)},we.useState=function(M){return N.H.useState(M)},we.useSyncExternalStore=function(M,ee,oe){return N.H.useSyncExternalStore(M,ee,oe)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var Pv;function op(){return Pv||(Pv=1,fm.exports=XT()),fm.exports}var z=op(),mm={exports:{}},Lo={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function WT(){return Uv||(Uv=1,(function(r){function e($,le){var ye=$.length;$.push(le);e:for(;0<ye;){var Ue=ye-1>>>1,Qe=$[Ue];if(0<l(Qe,le))$[Ue]=le,$[ye]=Qe,ye=Ue;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],ye=$.pop();if(ye!==le){$[0]=ye;e:for(var Ue=0,Qe=$.length,M=Qe>>>1;Ue<M;){var ee=2*(Ue+1)-1,oe=$[ee],he=ee+1,Ee=$[he];if(0>l(oe,ye))he<Qe&&0>l(Ee,oe)?($[Ue]=Ee,$[he]=ye,Ue=he):($[Ue]=oe,$[ee]=ye,Ue=ee);else if(he<Qe&&0>l(Ee,ye))$[Ue]=Ee,$[he]=ye,Ue=he;else break e}}return le}function l($,le){var ye=$.sortIndex-le.sortIndex;return ye!==0?ye:$.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,x=null,S=3,V=!1,G=!1,B=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ae($){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=$)s(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function ge($){if(B=!1,ae($),!G)if(n(g)!==null)G=!0,re||(re=!0,L());else{var le=n(y);le!==null&&It(ge,le.startTime-$)}}var re=!1,N=-1,A=5,R=-1;function j(){return P?!0:!(r.unstable_now()-R<A)}function D(){if(P=!1,re){var $=r.unstable_now();R=$;var le=!0;try{e:{G=!1,B&&(B=!1,ne(N),N=-1),V=!0;var ye=S;try{t:{for(ae($),x=n(g);x!==null&&!(x.expirationTime>$&&j());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,S=x.priorityLevel;var Qe=Ue(x.expirationTime<=$);if($=r.unstable_now(),typeof Qe=="function"){x.callback=Qe,ae($),le=!0;break t}x===n(g)&&s(g),ae($)}else s(g);x=n(g)}if(x!==null)le=!0;else{var M=n(y);M!==null&&It(ge,M.startTime-$),le=!1}}break e}finally{x=null,S=ye,V=!1}le=void 0}}finally{le?L():re=!1}}}var L;if(typeof ie=="function")L=function(){ie(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,qe=C.port2;C.port1.onmessage=D,L=function(){qe.postMessage(null)}}else L=function(){W(D,0)};function It($,le){N=W(function(){$(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ye=S;S=le;try{return $()}finally{S=ye}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=S;S=$;try{return le()}finally{S=ye}},r.unstable_scheduleCallback=function($,le,ye){var Ue=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ue+ye:Ue):ye=Ue,$){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ye+Qe,$={id:E++,callback:le,priorityLevel:$,startTime:ye,expirationTime:Qe,sortIndex:-1},ye>Ue?($.sortIndex=ye,e(y,$),n(g)===null&&$===n(y)&&(B?(ne(N),N=-1):B=!0,It(ge,ye-Ue))):($.sortIndex=Qe,e(g,$),G||V||(G=!0,re||(re=!0,L()))),$},r.unstable_shouldYield=j,r.unstable_wrapCallback=function($){var le=S;return function(){var ye=S;S=le;try{return $.apply(this,arguments)}finally{S=ye}}}})(gm)),gm}var zv;function JT(){return zv||(zv=1,pm.exports=WT()),pm.exports}var ym={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function ZT(){if(Bv)return Wt;Bv=1;var r=op();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Wt.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(g,{crossOrigin:x,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,x=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var qv;function e2(){if(qv)return ym.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=ZT(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function t2(){if(Fv)return Lo;Fv=1;var r=JT(),e=op(),n=e2();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case W:return"Profiler";case P:return"StrictMode";case ge:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var It=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ue=[],Qe=-1;function M(t){return{current:t}}function ee(t){0>Qe||(t.current=Ue[Qe],Ue[Qe]=null,Qe--)}function oe(t,i){Qe++,Ue[Qe]=t.current,t.current=i}var he=M(null),Ee=M(null),Ne=M(null),Le=M(null);function Dt(t,i){switch(oe(Ne,i),oe(Ee,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=rv(i),t=sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(he),oe(he,t)}function st(){ee(he),ee(Ee),ee(Ne)}function bs(t){t.memoizedState!==null&&oe(Le,t);var i=he.current,a=sv(i,t.type);i!==a&&(oe(Ee,t),oe(he,a))}function ga(t){Ee.current===t&&(ee(he),ee(Ee)),Le.current===t&&(ee(Le),jo._currentValue=ye)}var ya,va;function hi(t){if(ya===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ya=i&&i[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+t+va}var Dl=!1;function Es(t,i){if(!t||Dl)return"";Dl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var H=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){H=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){H=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var I=_.split(`
`),F=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===F.length)for(o=I.length-1,h=F.length-1;1<=o&&0<=h&&I[o]!==F[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==F[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==F[h]){var Y=`
`+I[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Dl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function jl(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return hi("Activity");default:return""}}function Ol(t){try{var i="",a=null;do i+=jl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,fd=r.unstable_shouldYield,vu=r.unstable_requestPaint,nn=r.unstable_now,xs=r.unstable_getCurrentPriorityLevel,Ml=r.unstable_ImmediatePriority,Vl=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,md=r.unstable_LowPriority,_u=r.unstable_IdlePriority,bu=r.log,Eu=r.unstable_setDisableYieldValue,qn=null,qt=null;function An(t){if(typeof bu=="function"&&Eu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:Tu,xu=Math.log,_a=Math.LN2;function Tu(t){return t>>>=0,t===0?32:31-(xu(t)/_a|0)|0}var di=256,Ts=262144,_t=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=fi(o):(_&=T,_!==0?h=fi(_):a||(a=T&~t,a!==0&&(h=fi(a))))):(T=o&~f,T!==0?h=fi(T):_!==0?h=fi(_):a||(a=o&~t,a!==0&&(h=fi(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gd(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-dt(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var H=F[Y];if(H!==null)for(F[Y]=null,Y=0;Y<H.length;Y++){var K=H[Y];K!==null&&(K.lane&=-536870913)}a&=~Z}o!==0&&Ss(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function kl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Ll(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Rv(t.type))}function Hn(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,kt="__reactProps$"+Gn,gi="__reactContainer$"+Gn,ba="__reactEvents$"+Gn,yd="__reactListeners$"+Gn,Au="__reactHandles$"+Gn,Nu="__reactResources$"+Gn,yi="__reactMarker$"+Gn;function Ea(t){delete t[bt],delete t[kt],delete t[ba],delete t[yd],delete t[Au]}function vi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=dv(t);t!==null;){if(a=t[bt])return a;t=dv(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[bt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[yi]=!0}var Pl=new Set,Ul={};function bi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Ul[t]=i,t=0;t<i.length;t++)Pl.add(i[t])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function Ru(t){return vt.call(ql,t)?!0:vt.call(Bl,t)?!1:zl.test(t)?ql[t]=!0:(Bl[t]=!0,!1)}function xa(t,i,a){if(Ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fl(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Fl(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Tr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function an(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,o,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Hl(t,_,Lt(i)):a!=null?Hl(t,_,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Cu(t,i,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Hl(t,i,a){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Iu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Sr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(It(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Du.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ql(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Gl(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Gl(t,f,i[f])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Kl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nr=null,Ti=null;function Cs(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[kt]||null;if(!h)throw Error(s(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Ns(o)}break e;case"textarea":Iu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wr(t,!!a.multiple,i,!1)}}}var Aa=!1;function Rr(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var o=t(i);return o}finally{if(Aa=!1,(Nr!==null||Ti!==null)&&(Sc(),Nr&&(i=Nr,t=Ti,Ti=Nr=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Is=!1}var wi=null,Yl=null,Ds=null;function $l(){if(Ds)return Ds;var t,i=Yl,a=i.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Ds=h.slice(t,1<o?1-o:void 0)}function js(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function Yn(){return!1}function Ft(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:Yn,this.isPropagationStopped=Yn,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ft(Yi),Cr=x({},Yi,{view:0,detail:0}),Xl=Ft(Cr),Ir,Na,Ai,Ra=x({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Ir=t.screenX-Ai.screenX,Na=t.screenY-Ai.screenY):Na=Ir=0,Ai=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),Wl=Ft(Ra),Os=x({},Ra,{dataTransfer:0}),Ou=Ft(Os),Mu=x({},Cr,{relatedTarget:0}),Ms=Ft(Mu),Jl=x({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=Ft(Jl),Ca=x({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Ft(Ca),Lu=x({},Yi,{data:0}),Ni=Ft(Lu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Dr(){return Bu}var rn=x({},Cr,{key:function(t){if(t.key){var i=Pu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Ft(rn),Fu=x({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ft(Fu),c=x({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),v=Ft(c),b=x({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(b),U=x({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ft(U),se=x({},Yi,{newState:0,oldState:0}),Se=Ft(se),ft=[9,13,27,32],Fe=Cn&&"CompositionEvent"in window,at=null;Cn&&"documentMode"in document&&(at=document.documentMode);var In=Cn&&"TextEvent"in window&&!at,Ri=Cn&&(!Fe||at&&8<at&&11>=at),$n=" ",Xn=!1;function Vs(t,i){switch(t){case"keyup":return ft.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function vx(t,i){switch(t){case"compositionend":return Ia(i);case"keypress":return i.which!==32?null:(Xn=!0,$n);case"textInput":return t=i.data,t===$n&&Xn?null:t;default:return null}}function _x(t,i){if(Da)return t==="compositionend"||!Fe&&Vs(t,i)?(t=$l(),Ds=Yl=wi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bx[t.type]:i==="textarea"}function gg(t,i,a,o){Nr?Ti?Ti.push(o):Ti=[o]:Nr=o,i=jc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Zl=null,eo=null;function Ex(t){J0(t,0)}function Hu(t){var i=pn(t);if(Ns(i))return t}function yg(t,i){if(t==="change")return i}var vg=!1;if(Cn){var vd;if(Cn){var _d="oninput"in document;if(!_d){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),_d=typeof _g.oninput=="function"}vd=_d}else vd=!1;vg=vd&&(!document.documentMode||9<document.documentMode)}function bg(){Zl&&(Zl.detachEvent("onpropertychange",Eg),eo=Zl=null)}function Eg(t){if(t.propertyName==="value"&&Hu(eo)){var i=[];gg(i,eo,t,Rn(t)),Rr(Ex,i)}}function xx(t,i,a){t==="focusin"?(bg(),Zl=i,eo=a,Zl.attachEvent("onpropertychange",Eg)):t==="focusout"&&bg()}function Tx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(eo)}function wx(t,i){if(t==="click")return Hu(i)}function Sx(t,i){if(t==="input"||t==="change")return Hu(i)}function Ax(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:Ax;function to(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=xg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function wg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xi(t.document)}return i}function bd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Nx=Cn&&"documentMode"in document&&11>=document.documentMode,ja=null,Ed=null,no=null,xd=!1;function Ag(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xd||ja==null||ja!==xi(o)||(o=ja,"selectionStart"in o&&bd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),no&&to(no,o)||(no=o,o=jc(Ed,"onSelect"),0<o.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ja)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Td={},Ng={};Cn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ls(t){if(Td[t])return Td[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ng)return Td[t]=i[a];return t}var Rg=Ls("animationend"),Cg=Ls("animationiteration"),Ig=Ls("animationstart"),Rx=Ls("transitionrun"),Cx=Ls("transitionstart"),Ix=Ls("transitioncancel"),Dg=Ls("transitionend"),jg=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Wn(t,i){jg.set(t,i),bi(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ma=0,Sd=0;function Qu(){for(var t=Ma,i=Sd=Ma=0;i<t;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var f=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Og(a,h,f)}}function Ku(t,i,a,o){Dn[Ma++]=t,Dn[Ma++]=i,Dn[Ma++]=a,Dn[Ma++]=o,Sd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ad(t,i,a,o){return Ku(t,i,a,o),Yu(t)}function Ps(t,i){return Ku(t,null,null,i),Yu(t)}function Og(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Yu(t){if(50<So)throw So=0,kf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={};function Dx(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,o){return new Dx(t,i,a,o)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")Nd(t)&&(_=1);else if(typeof t=="string")_=kT(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,h),t.elementType=R,t.lanes=f,t;case B:return Us(a.children,h,f,i);case P:_=8,h|=24;break;case W:return t=vn(12,a,i,h|2),t.elementType=W,t.lanes=f,t;case ge:return t=vn(13,a,i,h),t.elementType=ge,t.lanes=f,t;case re:return t=vn(19,a,i,h),t.elementType=re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case ae:_=11;break e;case N:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=vn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Us(t,i,a,o){return t=vn(7,t,o,i),t.lanes=a,t}function Rd(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Cd(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var kg=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=kg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ol(i)},kg.set(t,i),i)}return{value:t,source:i,stack:Ol(i)}}var ka=[],La=0,Xu=null,io=0,On=[],Mn=0,jr=null,Ci=1,Ii="";function Wi(t,i){ka[La++]=io,ka[La++]=Xu,Xu=t,io=i}function Lg(t,i,a){On[Mn++]=Ci,On[Mn++]=Ii,On[Mn++]=jr,jr=t;var o=Ci;t=Ii;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ci=1<<32-dt(i)+h|a<<h|o,Ii=f+t}else Ci=1<<f|a<<h|o,Ii=t}function Id(t){t.return!==null&&(Wi(t,1),Lg(t,1,0))}function Dd(t){for(;t===Xu;)Xu=ka[--La],ka[La]=null,io=ka[--La],ka[La]=null;for(;t===jr;)jr=On[--Mn],On[Mn]=null,Ii=On[--Mn],On[Mn]=null,Ci=On[--Mn],On[Mn]=null}function Pg(t,i){On[Mn++]=Ci,On[Mn++]=Ii,On[Mn++]=jr,Ci=i.id,Ii=i.overflow,jr=t}var Ht=null,nt=null,ke=!1,Or=null,Vn=!1,jd=Error(s(519));function Mr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(jn(i,t)),jd}function Ug(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[bt]=t,i[kt]=o,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<No.length;a++)Ie(No[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Cu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),Sr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||nv(i.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),o.onScroll!=null&&Ie("scroll",i),o.onScrollEnd!=null&&Ie("scrollend",i),o.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Mr(t,!0)}function zg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ht=Ht.return}}function Pa(t){if(t!==Ht)return!1;if(!ke)return zg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wf(t.type,t.memoizedProps)),a=!a),a&&nt&&Mr(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=hv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=hv(t)}else i===27?(i=nt,Yr(t.type)?(t=nm,nm=null,nt=t):nt=i):nt=Ht?Ln(t.stateNode.nextSibling):null;return!0}function zs(){nt=Ht=null,ke=!1}function Od(){var t=Or;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Or=null),t}function ro(t){Or===null?Or=[t]:Or.push(t)}var Md=M(null),Bs=null,Ji=null;function Vr(t,i,a){oe(Md,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=Md.current,ee(Md)}function Vd(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function kd(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Vd(f.return,a,t),o||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Vd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ua(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jo):t=[jo])}h=h.return}t!==null&&kd(i,t,a,o),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Bg(Bs,t)}function Ju(t,i){return Bs===null&&qs(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var jx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Ox=r.unstable_scheduleCallback,Mx=r.unstable_NormalPriority,Tt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new jx,data:new Map,refCount:0}}function so(t){t.refCount--,t.refCount===0&&Ox(Mx,function(){t.controller.abort()})}var ao=null,Pd=0,za=0,Ba=null;function Vx(t,i){if(ao===null){var a=ao=[];Pd=0,za=qf(),Ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Pd++,i.then(qg,qg),i}function qg(){if(--Pd===0&&ao!==null){Ba!==null&&(Ba.status="fulfilled");var t=ao;ao=null,za=0,Ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function kx(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Fg=$.S;$.S=function(t,i){A0=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Vx(t,i),Fg!==null&&Fg(t,i)};var Fs=M(null);function Ud(){var t=Fs.current;return t!==null?t:et.pooledCache}function Zu(t,i){i===null?oe(Fs,Fs.current):oe(Fs,i.pool)}function Hg(){var t=Ud();return t===null?null:{parent:Tt._currentValue,pool:t}}var qa=Error(s(460)),zd=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function Gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw Gs=i,qa}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,qa):a}}var Gs=null;function Kg(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function Yg(t){if(t===qa||t===ec)throw Error(s(483))}var Fa=null,lo=0;function nc(t){var i=lo;return lo+=1,Fa===null&&(Fa=[]),Qg(Fa,t,i)}function oo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $g(t){function i(k,O){if(t){var q=k.deletions;q===null?(k.deletions=[O],k.flags|=16):q.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Xi(k,O),k.index=0,k.sibling=null,k}function f(k,O,q){return k.index=q,t?(q=k.alternate,q!==null?(q=q.index,q<O?(k.flags|=67108866,O):q):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,q,X){return O===null||O.tag!==6?(O=Rd(q,k.mode,X),O.return=k,O):(O=h(O,q),O.return=k,O)}function I(k,O,q,X){var me=q.type;return me===B?Y(k,O,q.props.children,X,q.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Hs(me)===O.type)?(O=h(O,q.props),oo(O,q),O.return=k,O):(O=$u(q.type,q.key,q.props,null,k.mode,X),oo(O,q),O.return=k,O)}function F(k,O,q,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Cd(q,k.mode,X),O.return=k,O):(O=h(O,q.children||[]),O.return=k,O)}function Y(k,O,q,X,me){return O===null||O.tag!==7?(O=Us(q,k.mode,X,me),O.return=k,O):(O=h(O,q),O.return=k,O)}function Z(k,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Rd(""+O,k.mode,q),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return q=$u(O.type,O.key,O.props,null,k.mode,q),oo(q,O),q.return=k,q;case G:return O=Cd(O,k.mode,q),O.return=k,O;case A:return O=Hs(O),Z(k,O,q)}if(It(O)||L(O))return O=Us(O,k.mode,q,null),O.return=k,O;if(typeof O.then=="function")return Z(k,nc(O),q);if(O.$$typeof===ie)return Z(k,Ju(k,O),q);ic(k,O)}return null}function H(k,O,q,X){var me=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:T(k,O,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return q.key===me?I(k,O,q,X):null;case G:return q.key===me?F(k,O,q,X):null;case A:return q=Hs(q),H(k,O,q,X)}if(It(q)||L(q))return me!==null?null:Y(k,O,q,X,null);if(typeof q.then=="function")return H(k,O,nc(q),X);if(q.$$typeof===ie)return H(k,O,Ju(k,q),X);ic(k,q)}return null}function K(k,O,q,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(q)||null,T(O,k,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return k=k.get(X.key===null?q:X.key)||null,I(O,k,X,me);case G:return k=k.get(X.key===null?q:X.key)||null,F(O,k,X,me);case A:return X=Hs(X),K(k,O,q,X,me)}if(It(X)||L(X))return k=k.get(q)||null,Y(O,k,X,me,null);if(typeof X.then=="function")return K(k,O,q,nc(X),me);if(X.$$typeof===ie)return K(k,O,q,Ju(O,X),me);ic(O,X)}return null}function de(k,O,q,X){for(var me=null,ze=null,fe=O,Re=O=0,je=null;fe!==null&&Re<q.length;Re++){fe.index>Re?(je=fe,fe=null):je=fe.sibling;var Be=H(k,fe,q[Re],X);if(Be===null){fe===null&&(fe=je);break}t&&fe&&Be.alternate===null&&i(k,fe),O=f(Be,O,Re),ze===null?me=Be:ze.sibling=Be,ze=Be,fe=je}if(Re===q.length)return a(k,fe),ke&&Wi(k,Re),me;if(fe===null){for(;Re<q.length;Re++)fe=Z(k,q[Re],X),fe!==null&&(O=f(fe,O,Re),ze===null?me=fe:ze.sibling=fe,ze=fe);return ke&&Wi(k,Re),me}for(fe=o(fe);Re<q.length;Re++)je=K(fe,k,Re,q[Re],X),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?Re:je.key),O=f(je,O,Re),ze===null?me=je:ze.sibling=je,ze=je);return t&&fe.forEach(function(Zr){return i(k,Zr)}),ke&&Wi(k,Re),me}function ve(k,O,q,X){if(q==null)throw Error(s(151));for(var me=null,ze=null,fe=O,Re=O=0,je=null,Be=q.next();fe!==null&&!Be.done;Re++,Be=q.next()){fe.index>Re?(je=fe,fe=null):je=fe.sibling;var Zr=H(k,fe,Be.value,X);if(Zr===null){fe===null&&(fe=je);break}t&&fe&&Zr.alternate===null&&i(k,fe),O=f(Zr,O,Re),ze===null?me=Zr:ze.sibling=Zr,ze=Zr,fe=je}if(Be.done)return a(k,fe),ke&&Wi(k,Re),me;if(fe===null){for(;!Be.done;Re++,Be=q.next())Be=Z(k,Be.value,X),Be!==null&&(O=f(Be,O,Re),ze===null?me=Be:ze.sibling=Be,ze=Be);return ke&&Wi(k,Re),me}for(fe=o(fe);!Be.done;Re++,Be=q.next())Be=K(fe,k,Re,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Re:Be.key),O=f(Be,O,Re),ze===null?me=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(KT){return i(k,KT)}),ke&&Wi(k,Re),me}function Ze(k,O,q,X){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case V:e:{for(var me=q.key;O!==null;){if(O.key===me){if(me=q.type,me===B){if(O.tag===7){a(k,O.sibling),X=h(O,q.props.children),X.return=k,k=X;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Hs(me)===O.type){a(k,O.sibling),X=h(O,q.props),oo(X,q),X.return=k,k=X;break e}a(k,O);break}else i(k,O);O=O.sibling}q.type===B?(X=Us(q.props.children,k.mode,X,q.key),X.return=k,k=X):(X=$u(q.type,q.key,q.props,null,k.mode,X),oo(X,q),X.return=k,k=X)}return _(k);case G:e:{for(me=q.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(k,O.sibling),X=h(O,q.children||[]),X.return=k,k=X;break e}else{a(k,O);break}else i(k,O);O=O.sibling}X=Cd(q,k.mode,X),X.return=k,k=X}return _(k);case A:return q=Hs(q),Ze(k,O,q,X)}if(It(q))return de(k,O,q,X);if(L(q)){if(me=L(q),typeof me!="function")throw Error(s(150));return q=me.call(q),ve(k,O,q,X)}if(typeof q.then=="function")return Ze(k,O,nc(q),X);if(q.$$typeof===ie)return Ze(k,O,Ju(k,q),X);ic(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(a(k,O.sibling),X=h(O,q),X.return=k,k=X):(a(k,O),X=Rd(q,k.mode,X),X.return=k,k=X),_(k)):a(k,O)}return function(k,O,q,X){try{lo=0;var me=Ze(k,O,q,X);return Fa=null,me}catch(fe){if(fe===qa||fe===ec)throw fe;var ze=vn(29,fe,null,k.mode);return ze.lanes=X,ze.return=k,ze}finally{}}}var Qs=$g(!0),Xg=$g(!1),kr=!1;function Bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Yu(t),Og(t,null,a),i}return Ku(t,o,i,a),Yu(t)}function uo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,kl(t,a)}}function Fd(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hd=!1;function co(){if(Hd){var t=Ba;if(t!==null)throw t}}function ho(t,i,a,o){Hd=!1;var h=t.updateQueue;kr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,F=I.next;I.next=null,_===null?f=F:_.next=F,_=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=F:T.next=F,Y.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;_=0,Y=F=I=null,T=f;do{var H=T.lane&-536870913,K=H!==T.lane;if(K?(De&H)===H:(o&H)===H){H!==0&&H===za&&(Hd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,ve=T;H=i;var Ze=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){Z=de.call(Ze,Z,H);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,H=typeof de=="function"?de.call(Ze,Z,H):de,H==null)break e;Z=x({},Z,H);break e;case 2:kr=!0}}H=T.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(F=Y=K,I=Z):Y=Y.next=K,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Y===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=Z}}function Wg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],i)}var Ha=M(null),rc=M(0);function Zg(t,i){t=or,oe(rc,t),oe(Ha,i),or=t|i.baseLanes}function Gd(){oe(rc,or),oe(Ha,Ha.current)}function Qd(){or=rc.current,ee(Ha),ee(rc)}var _n=M(null),kn=null;function Ur(t){var i=t.alternate;oe(mt,mt.current&1),oe(_n,t),kn===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(kn=t)}function Kd(t){oe(mt,mt.current),oe(_n,t),kn===null&&(kn=t)}function ey(t){t.tag===22?(oe(mt,mt.current),oe(_n,t),kn===null&&(kn=t)):zr()}function zr(){oe(mt,mt.current),oe(_n,_n.current)}function bn(t){ee(_n),kn===t&&(kn=null),ee(mt)}var mt=M(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var er=0,Ae=null,We=null,wt=null,ac=!1,Ga=!1,Ks=!1,lc=0,fo=0,Qa=null,Lx=0;function ct(){throw Error(s(321))}function Yd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function $d(t,i,a,o,h,f){return er=f,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Ly:hf,Ks=!1,f=a(o,h),Ks=!1,Ga&&(f=ny(i,a,o,h)),ty(t),f}function ty(t){$.H=go;var i=We!==null&&We.next!==null;if(er=0,wt=We=Ae=null,ac=!1,fo=0,Qa=null,i)throw Error(s(300));t===null||St||(t=t.dependencies,t!==null&&Wu(t)&&(St=!0))}function ny(t,i,a,o){Ae=t;var h=0;do{if(Ga&&(Qa=null),fo=0,Ga=!1,25<=h)throw Error(s(301));if(h+=1,wt=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Py,f=i(a,o)}while(Ga);return f}function Px(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?mo(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Xd(){var t=lc!==0;return lc=0,t}function Wd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jd(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}er=0,wt=We=Ae=null,Ga=!1,fo=lc=0,Qa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ae.memoizedState=wt=t:wt=wt.next=t,wt}function pt(){if(We===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Ae.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ae.memoizedState=wt=t:wt=wt.next=t}return wt}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var i=fo;return fo+=1,Qa===null&&(Qa=[]),t=Qg(Qa,t,i),i=Ae,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Ly:hf),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===ie)return Gt(t)}throw Error(s(438,String(t)))}function Zd(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=j;return i.index++,a}function tr(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=pt();return ef(i,We,t)}function ef(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=_=null,I=null,F=i,Y=!1;do{var Z=F.lane&-536870913;if(Z!==F.lane?(De&Z)===Z:(er&Z)===Z){var H=F.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Z===za&&(Y=!0);else if((er&H)===H){F=F.next,H===za&&(Y=!0);continue}else Z={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=Z,_=f):I=I.next=Z,Ae.lanes|=H,Fr|=H;Z=F.action,Ks&&a(f,Z),f=F.hasEagerState?F.eagerState:a(f,Z)}else H={lane:Z,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=H,_=f):I=I.next=H,Ae.lanes|=Z,Fr|=Z;F=F.next}while(F!==null&&F!==i);if(I===null?_=f:I.next=T,!yn(f,t.memoizedState)&&(St=!0,Y&&(a=Ba,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function tf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);yn(f,i.memoizedState)||(St=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function iy(t,i,a){var o=Ae,h=pt(),f=ke;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,St=!0),h=h.queue,sf(ay.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},sy.bind(null,o,h,a,i),null),et===null)throw Error(s(349));f||(er&127)!==0||ry(o,i,a)}return a}function ry(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=oc(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function sy(t,i,a,o){i.value=a,i.getSnapshot=o,ly(i)&&oy(t)}function ay(t,i,a){return a(function(){ly(i)&&oy(t)})}function ly(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function oy(t){var i=Ps(t,2);i!==null&&dn(i,t,2)}function nf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ks){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},i}function uy(t,i,a,o){return t.baseState=a,ef(t,We,typeof o=="function"?o:tr)}function Ux(t,i,a,o,h){if(fc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};$.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,cy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function cy(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=$.T,_={};$.T=_;try{var T=a(h,o),I=$.S;I!==null&&I(_,T),hy(t,i,T)}catch(F){rf(t,i,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),$.T=f}}else try{f=a(h,o),hy(t,i,f)}catch(F){rf(t,i,F)}}function hy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){dy(t,i,o)},function(o){return rf(t,i,o)}):dy(t,i,a)}function dy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function rf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==o)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if(ke){var a=et.formState;if(a!==null){e:{var o=Ae;if(ke){if(nt){t:{for(var h=nt,f=Vn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Ln(h.nextSibling),o=h.data==="F!";break e}}Mr(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=o,a=My.bind(null,Ae,o),o.dispatch=a,o=nf(!1),f=cf.bind(null,Ae,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Ux.bind(null,Ae,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function gy(t){var i=pt();return yy(i,We,t)}function yy(t,i,a){if(i=ef(t,i,my)[0],t=cc(tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=mo(i)}catch(_){throw _===qa?ec:_}else o=i;i=pt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Ka(9,{destroy:void 0},zx.bind(null,h,a),null)),[o,f,t]}function zx(t,i){t.action=i}function vy(t){var i=pt(),a=We;if(a!==null)return yy(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ka(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=oc(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function _y(){return pt().memoizedState}function hc(t,i,a,o){var h=sn();Ae.flags|=t,h.memoizedState=Ka(1|i,{destroy:void 0},a,o===void 0?null:o)}function dc(t,i,a,o){var h=pt();o=o===void 0?null:o;var f=h.memoizedState.inst;We!==null&&o!==null&&Yd(o,We.memoizedState.deps)?h.memoizedState=Ka(i,f,a,o):(Ae.flags|=t,h.memoizedState=Ka(1|i,f,a,o))}function by(t,i){hc(8390656,8,t,i)}function sf(t,i){dc(2048,8,t,i)}function Bx(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=oc(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=pt().memoizedState;return Bx({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function xy(t,i){return dc(4,2,t,i)}function Ty(t,i){return dc(4,4,t,i)}function wy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sy(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,wy.bind(null,i,t),a)}function af(){}function Ay(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Yd(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ny(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Yd(i,o[1]))return o[0];if(o=t(),Ks){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,i],o}function lf(t,i,a){return a===void 0||(er&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R0(),Ae.lanes|=t,Fr|=t,a)}function Ry(t,i,a,o){return yn(a,i)?a:Ha.current!==null?(t=lf(t,a,o),yn(t,i)||(St=!0),t):(er&42)===0||(er&1073741824)!==0&&(De&261930)===0?(St=!0,t.memoizedState=a):(t=R0(),Ae.lanes|=t,Fr|=t,i)}function Cy(t,i,a,o,h){var f=le.p;le.p=f!==0&&8>f?f:8;var _=$.T,T={};$.T=T,cf(t,!1,i,a);try{var I=h(),F=$.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=kx(I,o);po(t,i,Y,Tn(t))}else po(t,i,o,Tn(t))}catch(Z){po(t,i,{then:function(){},status:"rejected",reason:Z},Tn())}finally{le.p=f,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function qx(){}function of(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Cy(t,h,i,ye,a===null?qx:function(){return Dy(t),a(o)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),po(t,i.next.queue,{},Tn())}function uf(){return Gt(jo)}function jy(){return pt().memoizedState}function Oy(){return pt().memoizedState}function Fx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Lr(a);var o=Pr(i,t,a);o!==null&&(dn(o,i,a),uo(o,i,a)),i={cache:Ld()},t.payload=i;return}i=i.return}}function Hx(t,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)?Vy(i,a):(a=Ad(t,i,a,o),a!==null&&(dn(a,t,o),ky(a,i,o)))}function My(t,i,a){var o=Tn();po(t,i,a,o)}function po(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(t))Vy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return Ku(t,i,h,0),et===null&&Qu(),!1}catch{}finally{}if(a=Ad(t,i,h,o),a!==null)return dn(a,t,o),ky(a,i,o),!0}return!1}function cf(t,i,a,o){if(o={lane:2,revertLane:qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(i)throw Error(s(479))}else i=Ad(t,a,o,2),i!==null&&dn(i,t,2)}function fc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Vy(t,i){Ga=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ky(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,kl(t,a)}}var go={readContext:Gt,use:uc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};go.useEffectEvent=ct;var Ly={readContext:Gt,use:uc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:by,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,wy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Ks){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Ks){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Hx.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=nf(t);var i=t.queue,a=My.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,i){var a=sn();return lf(a,t,i)},useTransition:function(){var t=nf(!1);return t=Cy.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,h=sn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||ry(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,by(ay.bind(null,o,f,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},sy.bind(null,o,f,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(ke){var a=Ii,o=Ci;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Lx++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:uf,useFormState:py,useActionState:py,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zd,useCacheRefresh:function(){return sn().memoizedState=Fx.bind(null,Ae)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hf={readContext:Gt,use:uc,useCallback:Ay,useContext:Gt,useEffect:sf,useImperativeHandle:Sy,useInsertionEffect:xy,useLayoutEffect:Ty,useMemo:Ny,useReducer:cc,useRef:_y,useState:function(){return cc(tr)},useDebugValue:af,useDeferredValue:function(t,i){var a=pt();return Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=cc(tr)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:mo(t),i]},useSyncExternalStore:iy,useId:jy,useHostTransitionStatus:uf,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=pt();return uy(a,We,t,i)},useMemoCache:Zd,useCacheRefresh:Oy};hf.useEffectEvent=Ey;var Py={readContext:Gt,use:uc,useCallback:Ay,useContext:Gt,useEffect:sf,useImperativeHandle:Sy,useInsertionEffect:xy,useLayoutEffect:Ty,useMemo:Ny,useReducer:tf,useRef:_y,useState:function(){return tf(tr)},useDebugValue:af,useDeferredValue:function(t,i){var a=pt();return We===null?lf(a,t,i):Ry(a,We.memoizedState,t,i)},useTransition:function(){var t=tf(tr)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:mo(t),i]},useSyncExternalStore:iy,useId:jy,useHostTransitionStatus:uf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=pt();return We!==null?uy(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:Oy};Py.useEffectEvent=Ey;function df(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ff={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Tn(),h=Lr(o);h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,o),i!==null&&(dn(i,t,o),uo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Tn(),h=Lr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,o),i!==null&&(dn(i,t,o),uo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),o=Lr(a);o.tag=2,i!=null&&(o.callback=i),i=Pr(t,o,a),i!==null&&(dn(i,t,a),uo(i,t,a))}};function Uy(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!to(a,o)||!to(h,f):!0}function zy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&ff.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function By(t){Gu(t)}function qy(t){console.error(t)}function Fy(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Hy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function mf(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Gy(t){return t=Lr(t),t.tag=3,t}function Qy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Hy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,o),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Gx(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ua(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Ac():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Uf(t,o,h)),!1;case 22:return a.flags|=65536,o===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Uf(t,o,h)),!1}throw Error(s(435,a.tag))}return Uf(t,o,h),Ac(),!1}if(ke)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==jd&&(t=Error(s(422),{cause:o}),ro(jn(t,a)))):(o!==jd&&(i=Error(s(423),{cause:o}),ro(jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,a),h=mf(t.stateNode,o,h),Fd(t,h),ht!==4&&(ht=2)),!1;var f=Error(s(520),{cause:o});if(f=jn(f,a),wo===null?wo=[f]:wo.push(f),ht!==4&&(ht=2),i===null)return!0;o=jn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=mf(a.stateNode,o,t),Fd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hr===null||!Hr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Qy(h,t,a,o),Fd(a,h),!1}a=a.return}while(a!==null);return!1}var pf=Error(s(461)),St=!1;function Qt(t,i,a,o){i.child=t===null?Xg(i,null,a,o):Qs(i,t.child,a,o)}function Ky(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return qs(i),o=$d(t,i,a,_,f,h),T=Xd(),t!==null&&!St?(Wd(t,i,h),nr(t,i,h)):(ke&&T&&Id(i),i.flags|=1,Qt(t,i,o,h),i.child)}function Yy(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Nd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,$y(t,i,f,o,h)):(t=$u(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Tf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(_,o)&&t.ref===i.ref)return nr(t,i,h)}return i.flags|=1,t=Xi(f,o),t.ref=i.ref,t.return=i,i.child=t}function $y(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(to(f,o)&&t.ref===i.ref)if(St=!1,i.pendingProps=o=f,Tf(t,h))(t.flags&131072)!==0&&(St=!0);else return i.lanes=t.lanes,nr(t,i,h)}return gf(t,i,a,o,h)}function Xy(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Wy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,f!==null?f.cachePool:null),f!==null?Zg(i,f):Gd(),ey(i);else return o=i.lanes=536870912,Wy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Zu(i,f.cachePool),Zg(i,f),zr(),i.memoizedState=null):(t!==null&&Zu(i,null),Gd(),zr());return Qt(t,i,h,a),i.child}function yo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Wy(t,i,a,o,h){var f=Ud();return f=f===null?null:{parent:Tt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Zu(i,null),Gd(),ey(i),t!==null&&Ua(t,i,o,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return Qs(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function Qx(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(o.mode==="hidden")return t=pc(i,o),i.lanes=536870912,yo(null,t);if(Kd(i),(t=nt)?(t=cv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Ht=i,nt=null)):t=null,t===null)throw Mr(i);return i.lanes=536870912,null}return pc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Kd(i),h)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(St||Ua(t,i,a,!1),h=(a&t.childLanes)!==0,St||h){if(o=et,o!==null&&(_=Ll(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ps(t,_),dn(o,t,_),pf;Ac(),i=Jy(t,i,a)}else t=f.treeContext,nt=Ln(_.nextSibling),Ht=i,ke=!0,Or=null,Vn=!1,t!==null&&Pg(i,t),i=pc(i,o),i.flags|=4096;return i}return t=Xi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gf(t,i,a,o,h){return qs(i),a=$d(t,i,a,o,void 0,h),o=Xd(),t!==null&&!St?(Wd(t,i,h),nr(t,i,h)):(ke&&o&&Id(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Zy(t,i,a,o,h,f){return qs(i),i.updateQueue=null,a=ny(i,o,a,h),ty(t),o=Xd(),t!==null&&!St?(Wd(t,i,f),nr(t,i,f)):(ke&&o&&Id(i),i.flags|=1,Qt(t,i,a,f),i.child)}function e0(t,i,a,o,h){if(qs(i),i.stateNode===null){var f=Va,_=a.contextType;typeof _=="object"&&_!==null&&(f=Gt(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Bd(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Gt(_):Va,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(df(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&ff.enqueueReplaceState(f,f.state,null),ho(i,o,f,h),co(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,I=Ys(a,T);f.props=I;var F=f.context,Y=a.contextType;_=Va,typeof Y=="object"&&Y!==null&&(_=Gt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||F!==_)&&zy(i,f,o,_),kr=!1;var H=i.memoizedState;f.state=H,ho(i,o,f,h),co(),F=i.memoizedState,T||H!==F||kr?(typeof Z=="function"&&(df(i,a,Z,o),F=i.memoizedState),(I=kr||Uy(i,a,I,o,H,F,_))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=_,o=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,qd(t,i),_=i.memoizedProps,Y=Ys(a,_),f.props=Y,Z=i.pendingProps,H=f.context,F=a.contextType,I=Va,typeof F=="object"&&F!==null&&(I=Gt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||H!==I)&&zy(i,f,o,I),kr=!1,H=i.memoizedState,f.state=H,ho(i,o,f,h),co();var K=i.memoizedState;_!==Z||H!==K||kr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof T=="function"&&(df(i,a,T,o),K=i.memoizedState),(Y=kr||Uy(i,a,Y,o,H,K,I)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,K,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,K,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=K),f.props=o,f.state=K,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,gc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Qs(i,t.child,null,h),i.child=Qs(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=nr(t,i,h),t}function t0(t,i,a,o){return zs(),i.flags|=256,Qt(t,i,a,o),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:Hg()}}function _f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function n0(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Ur(i):zr(),(t=nt)?(t=cv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,Ht=i,nt=null)):t=null,t===null)throw Mr(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(zr(),h=i.mode,T=yc({mode:"hidden",children:T},h),o=Us(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=vf(a),o.childLanes=_f(t,_,a),i.memoizedState=yf,yo(null,o)):(Ur(i),bf(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)i.flags&256?(Ur(i),i.flags&=-257,i=Ef(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),T=o.fallback,h=i.mode,o=yc({mode:"visible",children:o.children},h),T=Us(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Qs(i,t.child,null,a),o=i.child,o.memoizedState=vf(a),o.childLanes=_f(t,_,a),i.memoizedState=yf,i=yo(null,o));else if(Ur(i),tm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,o=Error(s(419)),o.stack="",o.digest=_,ro({value:o,source:null,stack:null}),i=Ef(t,i,a)}else if(St||Ua(t,i,a,!1),_=(a&t.childLanes)!==0,St||_){if(_=et,_!==null&&(o=Ll(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ps(t,o),dn(_,t,o),pf;em(T)||Ac(),i=Ef(t,i,a)}else em(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=Ln(T.nextSibling),Ht=i,ke=!0,Or=null,Vn=!1,t!==null&&Pg(i,t),i=bf(i,o.children),i.flags|=4096);return i}return h?(zr(),T=o.fallback,h=i.mode,I=t.child,F=I.sibling,o=Xi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,F!==null?T=Xi(F,T):(T=Us(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,yo(null,o),o=i.child,T=t.child.memoizedState,T===null?T=vf(a):(h=T.cachePool,h!==null?(I=Tt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Hg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=_f(t,_,a),i.memoizedState=yf,yo(t.child,o)):(Ur(i),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function bf(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Ef(t,i,a){return Qs(i,t.child,null,a),t=bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function i0(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Vd(t.return,i,a)}function xf(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function r0(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(mt,_),Qt(t,i,o,a),o=ke?io:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i0(t,a,i);else if(t.tag===19)i0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),xf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xf(i,!0,a,null,f,o);break;case"together":xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function nr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ua(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Tf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function Kx(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Vr(i,Tt,t.memoizedState.cache),zs();break;case 27:case 5:bs(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kd(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?n0(t,i,a):(Ur(i),t=nr(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ua(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return r0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(mt,mt.current),o)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:Vr(i,Tt,t.memoizedState.cache)}return nr(t,i,a)}function s0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)St=!0;else{if(!Tf(t,a)&&(i.flags&128)===0)return St=!1,Kx(t,i,a);St=(t.flags&131072)!==0}else St=!1,ke&&(i.flags&1048576)!==0&&Lg(i,io,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")Nd(t)?(o=Ys(t,o),i.tag=1,i=e0(null,i,t,o,a)):(i.tag=0,i=gf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ae){i.tag=11,i=Ky(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=Yy(null,i,t,o,a);break e}}throw i=qe(t)||t,Error(s(306,i,""))}}return i;case 0:return gf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ys(o,i.pendingProps),e0(t,i,o,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,qd(t,i),ho(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Vr(i,Tt,o),o!==f.cache&&kd(i,[Tt],a,!0),co(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=t0(t,i,o,a);break e}else if(o!==h){h=jn(Error(s(424)),i),ro(h),i=t0(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),Ht=i,ke=!0,Or=null,Vn=!0,a=Xg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),o===h){i=nr(t,i,a);break e}Qt(t,i,o,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,o=Oc(Ne.current).createElement(a),o[bt]=i,o[kt]=t,Kt(o,a,t),Et(o),i.stateNode=o):i.memoizedState=gv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&ke&&(o=i.stateNode=fv(i.type,i.pendingProps,Ne.current),Ht=i,Vn=!0,h=nt,Yr(i.type)?(nm=h,nt=Ln(o.firstChild)):nt=h),Qt(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=o=nt)&&(o=TT(o,i.type,i.pendingProps,Vn),o!==null?(i.stateNode=o,Ht=i,nt=Ln(o.firstChild),Vn=!1,h=!0):h=!1),h||Mr(i)),bs(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Wf(h,f)?o=null:_!==null&&Wf(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$d(t,i,Px,null,null,a),jo._currentValue=h),gc(t,i),Qt(t,i,o,a),i.child;case 6:return t===null&&ke&&((t=a=nt)&&(a=wT(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Ht=i,nt=null,t=!0):t=!1),t||Mr(i)),null;case 13:return n0(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Qs(i,null,o,a):Qt(t,i,o,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Vr(i,i.type,o.value),Qt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,qs(i),h=Gt(h),o=o(h),i.flags|=1,Qt(t,i,o,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return $y(t,i,i.type,i.pendingProps,a);case 19:return r0(t,i,a);case 31:return Qx(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return qs(i),o=Gt(Tt),t===null?(h=Ud(),h===null&&(h=et,f=Ld(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Bd(i),Vr(i,Tt,h)):((t.lanes&a)!==0&&(qd(t,i),ho(i,null,null,a),co()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vr(i,Tt,o)):(o=f.cache,Vr(i,Tt,o),o!==h.cache&&kd(i,[Tt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ir(t){t.flags|=4}function wf(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(j0())t.flags|=8192;else throw Gs=tc,zd}else t.flags&=-16777217}function a0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(j0())t.flags|=8192;else throw Gs=tc,zd}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,Wa|=i)}function vo(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function Yx(t,i,a){var o=i.pendingProps;switch(Dd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Zi(Tt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?ir(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Od())),it(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(ir(i),f!==null?(it(i),a0(i,f)):(it(i),wf(i,h,null,o,a))):f?f!==t.memoizedState?(ir(i),it(i),a0(i,f)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ir(i),it(i),wf(i,h,t,o,a)),null;case 27:if(ga(i),a=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ir(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=he.current,Pa(i)?Ug(i):(t=fv(h,o,a),i.stateNode=t,ir(i))}return it(i),null;case 5:if(ga(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ir(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(f=he.current,Pa(i))Ug(i);else{var _=Oc(Ne.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[bt]=i,f[kt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Kt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ir(i)}}return it(i),wf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ir(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ne.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||nv(t.nodeValue,a)),t||Mr(i,!0)}else t=Oc(t).createTextNode(o),t[bt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Pa(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Od(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Od(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&Qf(i.stateNode.containerInfo),it(i),null;case 10:return Zi(i.type),it(i),null;case 19:if(ee(mt),o=i.memoizedState,o===null)return it(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)vo(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=sc(t),f!==null){for(i.flags|=128,vo(o,!1),t=f.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return oe(mt,mt.current&1|2),ke&&Wi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&nn()>Tc&&(i.flags|=128,h=!0,vo(o,!1),i.lanes=4194304)}else{if(!h)if(t=sc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),vo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ke)return it(i),null}else 2*nn()-o.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,h=!0,vo(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=mt.current,oe(mt,h?a&1|2:a&1),ke&&Wi(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return bn(i),Qd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&ee(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(Tt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function $x(t,i){switch(Dd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(Tt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ga(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(mt),null;case 4:return st(),null;case 10:return Zi(i.type),null;case 22:case 23:return bn(i),Qd(),t!==null&&ee(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(Tt),null;case 25:return null;default:return null}}function l0(t,i){switch(Dd(i),i.tag){case 3:Zi(Tt),st();break;case 26:case 27:case 5:ga(i);break;case 4:st();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:ee(mt);break;case 10:Zi(i.type);break;case 22:case 23:bn(i),Qd(),t!==null&&ee(Fs);break;case 24:Zi(Tt)}}function _o(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){$e(i,i.return,T)}}function Br(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,F=T;try{F()}catch(Y){$e(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){$e(i,i.return,Y)}}function o0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(o){$e(t,t.return,o)}}}function u0(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function bo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,i,h)}}function Di(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function c0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Sf(t,i,a){try{var o=t.stateNode;yT(o,t.type,a,i),o[kt]=i}catch(h){$e(t,t.return,h)}}function h0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(o!==4&&(o===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nf(t,i,a),t=t.sibling;t!==null;)Nf(t,i,a),t=t.sibling}function _c(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function d0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,o,a),i[bt]=t,i[kt]=a}catch(f){$e(t,t.return,f)}}var rr=!1,At=!1,Rf=!1,f0=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Xx(t,i){if(t=t.containerInfo,$f=zc,t=Sg(t),bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,F=0,Y=0,Z=t,H=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==f||o!==0&&Z.nodeType!==3||(I=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)H=Z,Z=K;for(;;){if(Z===t)break t;if(H===a&&++F===h&&(T=_),H===f&&++Y===o&&(I=_),(K=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=K}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:t,selectionRange:a},zc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var de=Ys(a.type,h);t=o.getSnapshotBeforeUpdate(de,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function m0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),o&4&&_o(5,a);break;case 1:if(ar(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}o&64&&o0(a),o&512&&bo(a,a.return);break;case 3:if(ar(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&o&4&&d0(a);case 26:case 5:ar(t,a),i===null&&o&4&&c0(a),o&512&&bo(a,a.return);break;case 12:ar(t,a);break;case 31:ar(t,a),o&4&&y0(t,a);break;case 13:ar(t,a),o&4&&v0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sT.bind(null,a),ST(t,a))));break;case 22:if(o=a.memoizedState!==null||rr,!o){i=i!==null&&i.memoizedState!==null||At,h=rr;var f=At;rr=o,(At=i)&&!f?lr(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),rr=h,At=f}break;case 30:break;default:ar(t,a)}}function p0(t){var i=t.alternate;i!==null&&(t.alternate=null,p0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,on=!1;function sr(t,i,a){for(a=a.child;a!==null;)g0(t,i,a),a=a.sibling}function g0(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:At||Di(a,i),sr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Di(a,i);var o=lt,h=on;Yr(a.type)&&(lt=a.stateNode,on=!1),sr(t,i,a),Co(a.stateNode),lt=o,on=h;break;case 5:At||Di(a,i);case 6:if(o=lt,h=on,lt=null,sr(t,i,a),lt=o,on=h,lt!==null)if(on)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){$e(a,i,f)}else try{lt.removeChild(a.stateNode)}catch(f){$e(a,i,f)}break;case 18:lt!==null&&(on?(t=lt,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):ov(lt,a.stateNode));break;case 4:o=lt,h=on,lt=a.stateNode.containerInfo,on=!0,sr(t,i,a),lt=o,on=h;break;case 0:case 11:case 14:case 15:Br(2,a,i),At||Br(4,a,i),sr(t,i,a);break;case 1:At||(Di(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&u0(a,i,o)),sr(t,i,a);break;case 21:sr(t,i,a);break;case 22:At=(o=At)||a.memoizedState!==null,sr(t,i,a),At=o;break;default:sr(t,i,a)}}function y0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){$e(i,i.return,a)}}}function v0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){$e(i,i.return,a)}}function Wx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f0),i;default:throw Error(s(435,t.tag))}}function bc(t,i){var a=Wx(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=aT.bind(null,t,o);o.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Yr(T.type)){lt=T.stateNode,on=!1;break e}break;case 5:lt=T.stateNode,on=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(lt===null)throw Error(s(160));g0(f,_,h),lt=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_0(i,t),i=i.sibling}var Jn=null;function _0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),o&4&&(Br(3,t,t.return),_o(3,t),Br(5,t,t.return));break;case 1:un(i,t),cn(t),o&512&&(At||a===null||Di(a,a.return)),o&64&&rr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(un(i,t),cn(t),o&512&&(At||a===null||Di(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Kt(f,o,a),f[bt]=t,Et(f),o=f;break e;case"link":var _=_v("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=_v("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(o),Kt(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[bt]=t,Et(f),o=f}t.stateNode=o}else bv(h,t.type,t.stateNode);else t.stateNode=vv(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?bv(h,t.type,t.stateNode):vv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Sf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),o&512&&(At||a===null||Di(a,a.return)),a!==null&&o&4&&Sf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),o&512&&(At||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(de){$e(t,t.return,de)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Sf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Rf=!0);break;case 6:if(un(i,t),cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(de){$e(t,t.return,de)}}break;case 3:if(kc=null,h=Jn,Jn=Mc(i.containerInfo),un(i,t),Jn=h,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(i.containerInfo)}catch(de){$e(t,t.return,de)}Rf&&(Rf=!1,b0(t));break;case 4:o=Jn,Jn=Mc(t.stateNode.containerInfo),un(i,t),cn(t),Jn=o;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bc(t,o)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=rr,Y=At;if(rr=F||h,At=Y||I,un(i,t),At=Y,rr=F,cn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||rr||At||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){$e(I,I.return,de)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(de){$e(I,I.return,de)}}}else if(i.tag===18){if(a===null){I=i;try{var K=I.stateNode;h?uv(K,!0):uv(I.stateNode,!1)}catch(de){$e(I,I.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,bc(t,a))));break;case 19:un(i,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,bc(t,o)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(h0(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Af(t);_c(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=Af(t);_c(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Af(t);Nf(t,F,I);break;default:throw Error(s(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function b0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;b0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ar(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m0(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),$s(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&u0(i,i.return,a),$s(i);break;case 27:Co(i.stateNode);case 26:case 5:Di(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:lr(h,f,a),_o(4,f);break;case 1:if(lr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){$e(o,o.return,F)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Wg(I[h],T)}catch(F){$e(o,o.return,F)}}a&&_&64&&o0(f),bo(f,f.return);break;case 27:d0(f);case 26:case 5:lr(h,f,a),a&&o===null&&_&4&&c0(f),bo(f,f.return);break;case 12:lr(h,f,a);break;case 31:lr(h,f,a),a&&_&4&&y0(h,f);break;case 13:lr(h,f,a),a&&_&4&&v0(h,f);break;case 22:f.memoizedState===null&&lr(h,f,a),bo(f,f.return);break;case 30:break;default:lr(h,f,a)}i=i.sibling}}function Cf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&so(a))}function If(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&so(t))}function Zn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E0(t,i,a,o),i=i.sibling}function E0(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,o),h&2048&&_o(9,i);break;case 1:Zn(t,i,a,o);break;case 3:Zn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&so(t)));break;case 12:if(h&2048){Zn(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){$e(i,i.return,I)}}else Zn(t,i,a,o);break;case 31:Zn(t,i,a,o);break;case 13:Zn(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?Zn(t,i,a,o):Eo(t,i):f._visibility&2?Zn(t,i,a,o):(f._visibility|=2,Ya(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cf(_,i);break;case 24:Zn(t,i,a,o),h&2048&&If(i.alternate,i);break;default:Zn(t,i,a,o)}}function Ya(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,T=a,I=o,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(f,_,T,I,h),_o(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ya(f,_,T,I,h):Eo(f,_):(Y._visibility|=2,Ya(f,_,T,I,h)),h&&F&2048&&Cf(_.alternate,_);break;case 24:Ya(f,_,T,I,h),h&&F&2048&&If(_.alternate,_);break;default:Ya(f,_,T,I,h)}i=i.sibling}}function Eo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Eo(a,o),h&2048&&Cf(o.alternate,o);break;case 24:Eo(a,o),h&2048&&If(o.alternate,o);break;default:Eo(a,o)}i=i.sibling}}var xo=8192;function $a(t,i,a){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)x0(t,i,a),t=t.sibling}function x0(t,i,a){switch(t.tag){case 26:$a(t,i,a),t.flags&xo&&t.memoizedState!==null&&LT(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:$a(t,i,a);break;case 3:case 4:var o=Jn;Jn=Mc(t.stateNode.containerInfo),$a(t,i,a),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=xo,xo=16777216,$a(t,i,a),xo=o):$a(t,i,a));break;default:$a(t,i,a)}}function T0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function To(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pt=o,S0(o,t)}T0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w0(t),t=t.sibling}function w0(t){switch(t.tag){case 0:case 11:case 15:To(t),t.flags&2048&&Br(9,t,t.return);break;case 3:To(t);break;case 12:To(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):To(t);break;default:To(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pt=o,S0(o,t)}T0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function S0(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:so(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,f=o.return;if(p0(o),o===a){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var Jx={getCacheForType:function(t){var i=Gt(Tt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Tt).controller.signal}},Zx=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,Ce=null,De=0,Ye=0,En=null,qr=!1,Xa=!1,Df=!1,or=0,ht=0,Fr=0,Xs=0,jf=0,xn=0,Wa=0,wo=null,hn=null,Of=!1,xc=0,A0=0,Tc=1/0,wc=null,Hr=null,Ot=0,Gr=null,Ja=null,ur=0,Mf=0,Vf=null,N0=null,So=0,kf=null;function Tn(){return(He&2)!==0&&De!==0?De&-De:$.T!==null?qf():Su()}function R0(){if(xn===0)if((De&536870912)===0||ke){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),xn=t}else xn=536870912;return t=_n.current,t!==null&&(t.flags|=32),xn}function dn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Qr(t,De,xn,!1)),ws(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(Xs|=a),ht===4&&Qr(t,De,xn,!1)),ji(t))}function C0(t,i,a){if((He&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=o?nT(t,i):Pf(t,i,!0),f=o;do{if(h===0){Xa&&!o&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!eT(a)){h=Pf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=wo;var I=T.current.memoizedState.isDehydrated;if(I&&(Za(T,_).flags|=256),_=Pf(T,_,!1),_!==2){if(Df&&!I){T.errorRecoveryDisabledLanes|=f,Xs|=f,h=4;break e}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),Qr(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(o,i,xn,!qr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=xc+300-nn(),10<h)){if(Qr(o,i,xn,!qr),mi(o,0,!0)!==0)break e;ur=i,o.timeoutHandle=av(I0.bind(null,o,a,hn,wc,Of,i,xn,Xs,Wa,qr,f,"Throttled",-0,0),h);break e}I0(o,a,hn,wc,Of,i,xn,Xs,Wa,qr,f,null,-0,0)}}break}while(!0);ji(t)}function I0(t,i,a,o,h,f,_,T,I,F,Y,Z,H,K){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},x0(i,f,Z);var de=(f&62914560)===f?xc-nn():(f&4194048)===f?A0-nn():0;if(de=PT(Z,de),de!==null){ur=f,t.cancelPendingCommit=de(P0.bind(null,t,i,f,a,o,h,_,T,I,Y,Z,null,H,K)),Qr(t,f,_,!F);return}}P0(t,i,f,a,o,h,_,T,I)}function eT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,o){i&=~jf,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-dt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Ss(t,a,i)}function Sc(){return(He&6)===0?(Ao(0),!1):!0}function Lf(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,Ji=Bs=null,Jd(t),Fa=null,lo=0,t=Ce;for(;t!==null;)l0(t.alternate,t),t=t.return;Ce=null}}function Za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ur=0,Lf(),et=t,Ce=a=Xi(t.current,null),De=i,Ye=0,En=null,qr=!1,Xa=Fn(t,i),Df=!1,Wa=xn=jf=Xs=Fr=ht=0,hn=wo=null,Of=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-dt(o),f=1<<h;i|=t[h],o&=~f}return or=i,Qu(),a}function D0(t,i){Ae=null,$.H=go,i===qa||i===ec?(i=Kg(),Ye=3):i===zd?(i=Kg(),Ye=4):Ye=i===pf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ce===null&&(ht=1,mc(t,jn(i,t.current)))}function j0(){var t=_n.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function O0(){var t=$.H;return $.H=go,t===null?go:t}function M0(){var t=$.A;return $.A=Jx,t}function Ac(){ht=4,qr||(De&4194048)!==De&&_n.current!==null||(Xa=!0),(Fr&134217727)===0&&(Xs&134217727)===0||et===null||Qr(et,De,xn,!1)}function Pf(t,i,a){var o=He;He|=2;var h=O0(),f=M0();(et!==t||De!==i)&&(wc=null,Za(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&Ce!==null){var T=Ce,I=En;switch(Ye){case 8:Lf(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var F=Ye;if(Ye=0,En=null,el(t,T,I,F),a&&Xa){_=0;break e}break;default:F=Ye,Ye=0,En=null,el(t,T,I,F)}}tT(),_=ht;break}catch(Y){D0(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Ji=Bs=null,He=o,$.H=h,$.A=f,Ce===null&&(et=null,De=0,Qu()),_}function tT(){for(;Ce!==null;)V0(Ce)}function nT(t,i){var a=He;He|=2;var o=O0(),h=M0();et!==t||De!==i?(wc=null,Tc=nn()+500,Za(t,i)):Xa=Fn(t,i);e:do try{if(Ye!==0&&Ce!==null){i=Ce;var f=En;t:switch(Ye){case 1:Ye=0,En=null,el(t,i,f,1);break;case 2:case 9:if(Gg(f)){Ye=0,En=null,k0(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),ji(t)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Gg(f)?(Ye=0,En=null,k0(i)):(Ye=0,En=null,el(t,i,f,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(_?Ev(_):T.stateNode.complete){Ye=0,En=null;var I=T.sibling;if(I!==null)Ce=I;else{var F=T.return;F!==null?(Ce=F,Nc(F)):Ce=null}break t}}Ye=0,En=null,el(t,i,f,5);break;case 6:Ye=0,En=null,el(t,i,f,6);break;case 8:Lf(),ht=6;break e;default:throw Error(s(462))}}iT();break}catch(Y){D0(t,Y)}while(!0);return Ji=Bs=null,$.H=o,$.A=h,He=a,Ce!==null?0:(et=null,De=0,Qu(),ht)}function iT(){for(;Ce!==null&&!fd();)V0(Ce)}function V0(t){var i=s0(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Nc(t):Ce=i}function k0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Jd(i);default:l0(a,i),i=Ce=Mg(i,or),i=s0(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Ce=i}function el(t,i,a,o){Ji=Bs=null,Jd(i),Fa=null,lo=0;var h=i.return;try{if(Gx(t,h,i,a,De)){ht=1,mc(t,jn(a,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;ht=1,mc(t,jn(a,t.current)),Ce=null;return}i.flags&32768?(ke||o===1?t=!0:Xa||(De&536870912)!==0?t=!1:(qr=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),L0(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){L0(i,qr);return}t=i.return;var a=Yx(i.alternate,i,or);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);ht===0&&(ht=5)}function L0(t,i){do{var a=$x(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ht=6,Ce=null}function P0(t,i,a,o,h,f,_,T,I){t.cancelPendingCommit=null;do Rc();while(Ot!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Sd,gd(t,a,f,_,T,I),t===et&&(Ce=et=null,De=0),Ja=i,Gr=t,ur=a,Mf=f,Vf=h,N0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lT(xr,function(){return F0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=le.p,le.p=2,_=He,He|=4;try{Xx(t,i,a)}finally{He=_,le.p=h,$.T=o}}Ot=1,U0(),z0(),B0()}}function U0(){if(Ot===1){Ot=0;var t=Gr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var o=le.p;le.p=2;var h=He;He|=4;try{_0(i,t);var f=Xf,_=Sg(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(I!==null&&bd(T)){var F=I.start,Y=I.end;if(Y===void 0&&(Y=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var K=H.getSelection(),de=T.textContent.length,ve=Math.min(I.start,de),Ze=I.end===void 0?ve:Math.min(I.end,de);!K.extend&&ve>Ze&&(_=Ze,Ze=ve,ve=_);var k=Tg(T,ve),O=Tg(T,Ze);if(k&&O&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var q=Z.createRange();q.setStart(k.node,k.offset),K.removeAllRanges(),ve>Ze?(K.addRange(q),K.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),K.addRange(q))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}zc=!!$f,Xf=$f=null}finally{He=h,le.p=o,$.T=a}}t.current=i,Ot=2}}function z0(){if(Ot===2){Ot=0;var t=Gr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var o=le.p;le.p=2;var h=He;He|=4;try{m0(t,i.alternate,i)}finally{He=h,le.p=o,$.T=a}}Ot=3}}function B0(){if(Ot===4||Ot===3){Ot=0,vu();var t=Gr,i=Ja,a=ur,o=N0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Ja=Gr=null,q0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hr=null),Qi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=$.T,h=le.p,le.p=2,$.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{$.T=i,le.p=h}}(ur&3)!==0&&Rc(),ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kf?So++:(So=0,kf=t):So=0,Ao(0)}}function q0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,so(i)))}function Rc(){return U0(),z0(),B0(),F0()}function F0(){if(Ot!==5)return!1;var t=Gr,i=Mf;Mf=0;var a=Qi(ur),o=$.T,h=le.p;try{le.p=32>a?32:a,$.T=null,a=Vf,Vf=null;var f=Gr,_=ur;if(Ot=0,Ja=Gr=null,ur=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,w0(f.current),E0(f,f.current,_,a),He=T,Ao(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{le.p=h,$.T=o,q0(t,i)}}function H0(t,i,a){i=jn(a,i),i=mf(t.stateNode,i,2),t=Pr(t,i,2),t!==null&&(ws(t,2),ji(t))}function $e(t,i,a){if(t.tag===3)H0(t,t,a);else for(;i!==null;){if(i.tag===3){H0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hr===null||!Hr.has(o))){t=jn(a,t),a=Gy(2),o=Pr(i,a,2),o!==null&&(Qy(a,o,i,t),ws(o,2),ji(o));break}}i=i.return}}function Uf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Zx;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Df=!0,h.add(a),t=rT.bind(null,t,i,a),i.then(t,t))}function rT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>nn()-xc?(He&2)===0&&Za(t,0):jf|=a,Wa===De&&(Wa=0)),ji(t)}function G0(t,i){i===0&&(i=wu()),t=Ps(t,i),t!==null&&(ws(t,i),ji(t))}function sT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),G0(t,a)}function aT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),G0(t,a)}function lT(t,i){return jt(t,i)}var Cc=null,tl=null,zf=!1,Ic=!1,Bf=!1,Kr=0;function ji(t){t!==tl&&t.next===null&&(tl===null?Cc=tl=t:tl=tl.next=t),Ic=!0,zf||(zf=!0,uT())}function Ao(t,i){if(!Bf&&Ic){Bf=!0;do for(var a=!1,o=Cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,$0(o,f))}else f=De,f=mi(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(a=!0,$0(o,f));o=o.next}while(a);Bf=!1}}function oT(){Q0()}function Q0(){Ic=zf=!1;var t=0;Kr!==0&&_T()&&(t=Kr);for(var i=nn(),a=null,o=Cc;o!==null;){var h=o.next,f=K0(o,i);f===0?(o.next=null,a===null?Cc=h:a.next=h,h===null&&(tl=a)):(a=o,(t!==0||(f&3)!==0)&&(Ic=!0)),o=h}Ot!==0&&Ot!==5||Ao(t),Kr!==0&&(Kr=0)}function K0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-dt(f),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&o)!==0)&&(h[_]=pd(T,i)):I<=i&&(t.expiredLanes|=T),f&=~T}if(i=et,a=De,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Er(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Er(o),Qi(a)){case 2:case 8:a=Vl;break;case 32:a=xr;break;case 268435456:a=_u;break;default:a=xr}return o=Y0.bind(null,t),a=jt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Er(o),t.callbackPriority=2,t.callbackNode=null,2}function Y0(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var o=De;return o=mi(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(C0(t,o,i),K0(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Y0.bind(null,t):null)}function $0(t,i){if(Rc())return null;C0(t,i,!0)}function uT(){ET(function(){(He&6)!==0?jt(Ml,oT):Q0()})}function qf(){if(Kr===0){var t=za;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Kr=t}return Kr}function X0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function W0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function cT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=X0((h[kt]||null).action),_=o.submitter;_&&(i=(i=_[kt]||null)?X0(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var T=new Si("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Kr!==0){var I=_?W0(h,_):new FormData(h);of(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=_?W0(h,_):new FormData(h),of(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Ff=0;Ff<wd.length;Ff++){var Hf=wd[Ff],hT=Hf.toLowerCase(),dT=Hf[0].toUpperCase()+Hf.slice(1);Wn(hT,"on"+dT)}Wn(Rg,"onAnimationEnd"),Wn(Cg,"onAnimationIteration"),Wn(Ig,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Rx,"onTransitionRun"),Wn(Cx,"onTransitionStart"),Wn(Ix,"onTransitionCancel"),Wn(Dg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(No));function J0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=F;try{f(h)}catch(Y){Gu(Y)}h.currentTarget=null,f=I}else for(_=0;_<o.length;_++){if(T=o[_],I=T.instance,F=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=F;try{f(h)}catch(Y){Gu(Y)}h.currentTarget=null,f=I}}}}function Ie(t,i){var a=i[ba];a===void 0&&(a=i[ba]=new Set);var o=t+"__bubble";a.has(o)||(Z0(i,t,2,!1),a.add(o))}function Gf(t,i,a){var o=0;i&&(o|=4),Z0(a,t,o,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Qf(t){if(!t[Dc]){t[Dc]=!0,Pl.forEach(function(a){a!=="selectionchange"&&(fT.has(a)||Gf(a,!1,t),Gf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,Gf("selectionchange",!1,i))}}function Z0(t,i,a,o){switch(Rv(i)){case 2:var h=BT;break;case 8:h=qT;break;default:h=lm}a=h.bind(null,i,a,t),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kf(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=f=_;continue e}T=T.parentNode}}o=o.return}Rr(function(){var F=f,Y=Rn(a),Z=[];e:{var H=jg.get(t);if(H!==void 0){var K=Si,de=t;switch(t){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":K=qu;break;case"focusin":de="focus",K=Ms;break;case"focusout":de="blur",K=Ms;break;case"beforeblur":case"afterblur":K=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=v;break;case Rg:case Cg:case Ig:K=Vu;break;case Dg:K=w;break;case"scroll":case"scrollend":K=Xl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=$i;break;case"toggle":case"beforetoggle":K=Se}var ve=(i&4)!==0,Ze=!ve&&(t==="scroll"||t==="scrollend"),k=ve?H!==null?H+"Capture":null:H;ve=[];for(var O=F,q;O!==null;){var X=O;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||k===null||(X=Kn(O,k),X!=null&&ve.push(Ro(O,X,q))),Ze)break;O=O.return}0<ve.length&&(H=new K(H,de,null,a,Y),Z.push({event:H,listeners:ve}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==Kl&&(de=a.relatedTarget||a.fromElement)&&(vi(de)||de[gi]))break e;if((K||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=F,de=de?vi(de):null,de!==null&&(Ze=u(de),ve=de.tag,de!==Ze||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(K=null,de=F),K!==de)){if(ve=Wl,X="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=$i,X="onPointerLeave",k="onPointerEnter",O="pointer"),Ze=K==null?H:pn(K),q=de==null?H:pn(de),H=new ve(X,O+"leave",K,a,Y),H.target=Ze,H.relatedTarget=q,X=null,vi(Y)===F&&(ve=new ve(k,O+"enter",de,a,Y),ve.target=q,ve.relatedTarget=Ze,X=ve),Ze=X,K&&de)t:{for(ve=mT,k=K,O=de,q=0,X=k;X;X=ve(X))q++;X=0;for(var me=O;me;me=ve(me))X++;for(;0<q-X;)k=ve(k),q--;for(;0<X-q;)O=ve(O),X--;for(;q--;){if(k===O||O!==null&&k===O.alternate){ve=k;break t}k=ve(k),O=ve(O)}ve=null}else ve=null;K!==null&&ev(Z,H,K,ve,!1),de!==null&&Ze!==null&&ev(Z,Ze,de,ve,!0)}}e:{if(H=F?pn(F):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var ze=yg;else if(pg(H))if(vg)ze=Sx;else{ze=Tx;var fe=xx}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&wa(F.elementType)&&(ze=yg):ze=wx;if(ze&&(ze=ze(t,F))){gg(Z,ze,a,Y);break e}fe&&fe(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Hl(H,"number",H.value)}switch(fe=F?pn(F):window,t){case"focusin":(pg(fe)||fe.contentEditable==="true")&&(ja=fe,Ed=F,no=null);break;case"focusout":no=Ed=ja=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Ag(Z,a,Y);break;case"selectionchange":if(Nx)break;case"keydown":case"keyup":Ag(Z,a,Y)}var Re;if(Fe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Da?Vs(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ri&&a.locale!=="ko"&&(Da||je!=="onCompositionStart"?je==="onCompositionEnd"&&Da&&(Re=$l()):(wi=Y,Yl="value"in wi?wi.value:wi.textContent,Da=!0)),fe=jc(F,je),0<fe.length&&(je=new Ni(je,t,null,a,Y),Z.push({event:je,listeners:fe}),Re?je.data=Re:(Re=Ia(a),Re!==null&&(je.data=Re)))),(Re=In?vx(t,a):_x(t,a))&&(je=jc(F,"onBeforeInput"),0<je.length&&(fe=new Ni("onBeforeInput","beforeinput",null,a,Y),Z.push({event:fe,listeners:je}),fe.data=Re)),cT(Z,t,F,a,Y)}J0(Z,i)})}function Ro(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,a),h!=null&&o.unshift(Ro(t,h,f)),h=Kn(t,i),h!=null&&o.push(Ro(t,h,f))),t.tag===3)return o;t=t.return}return[]}function mT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var T=a,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||F===null||(I=F,h?(F=Kn(a,f),F!=null&&_.unshift(Ro(a,F,I))):h||(F=Kn(a,f),F!=null&&_.push(Ro(a,F,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var pT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(pT,`
`).replace(gT,"")}function nv(t,i){return i=tv(i),tv(t)===i}function Je(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ln(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Ql(t,o,f);break;case"data":if(i!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Sa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Sa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),xa(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,xa(t,a,o))}}function Yf(t,i,a,o,h,f){switch(a){case"style":Ql(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):xa(t,a,o)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,f,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),o&&Je(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=f=_=h=null,I=null,F=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":_=Y;break;case"checked":I=Y;break;case"defaultChecked":F=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(t,i,o,Y,a,null)}}Cu(t,f,T,I,F,_,h,!1);return;case"select":Ie("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Je(t,i,h,T,a,null)}i=f,a=_,t.multiple=!!o,i!=null?wr(t,!!o,i,!1):a!=null&&wr(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}Sr(t,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,i,I,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<No.length;o++)Ie(No[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(o=a[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,F,o,a,null)}return;default:if(wa(i)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Yf(t,i,Y,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Je(t,i,T,o,a,null))}function yT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,I=null,F=null,Y=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=Z;default:o.hasOwnProperty(K)||Je(t,i,K,null,o,Z)}}for(var H in o){var K=o[H];if(Z=a[H],o.hasOwnProperty(H)&&(K!=null||Z!=null))switch(H){case"type":f=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&Je(t,i,H,K,o,Z)}}Ta(t,_,T,I,F,Y,f,h);return;case"select":K=_=T=H=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":K=I;default:o.hasOwnProperty(f)||Je(t,i,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==I&&Je(t,i,h,f,o,I)}i=T,a=_,o=K,H!=null?wr(t,!!a,H,!1):!!o!=!!a&&(i!=null?wr(t,!!a,i,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(t,i,_,h,o,f)}Iu(t,H,K);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:Je(t,i,de,null,o,H)}for(I in o)if(H=o[I],K=a[I],o.hasOwnProperty(I)&&H!==K&&(H!=null||K!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,i,I,H,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!o.hasOwnProperty(ve)&&Je(t,i,ve,null,o,H);for(F in o)if(H=o[F],K=a[F],o.hasOwnProperty(F)&&H!==K&&(H!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,F,H,o,K)}return;default:if(wa(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!o.hasOwnProperty(Ze)&&Yf(t,i,Ze,void 0,o,H);for(Y in o)H=o[Y],K=a[Y],!o.hasOwnProperty(Y)||H===K||H===void 0&&K===void 0||Yf(t,i,Y,H,o,K);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!o.hasOwnProperty(k)&&Je(t,i,k,null,o,H);for(Z in o)H=o[Z],K=a[Z],!o.hasOwnProperty(Z)||H===K||H==null&&K==null||Je(t,i,Z,H,o,K)}function iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&iv(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],F=I.startTime;if(F>T)break;var Y=I.transferSize,Z=I.initiatorType;Y&&iv(Z)&&(I=I.responseEnd,_+=Y*(I<T?1:(T-F)/(I-F)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,Xf=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jf=null;function _T(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,bT=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(xT)}:av;function xT(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function ov(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),sl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Co(t.ownerDocument.body);a=h}while(a);sl(i)}function uv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Zf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function TT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function wT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function cv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ST(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function hv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Co(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var Pn=new Map,mv=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=le.d;le.d={f:AT,r:NT,D:RT,C:CT,L:IT,m:DT,X:OT,S:jT,M:MT};function AT(){var t=cr.f(),i=Sc();return t||i}function NT(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):cr.r(t)}var nl=typeof document>"u"?null:document;function pv(t,i,a){var o=nl;if(o&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),mv.has(h)||(mv.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Kt(i,"link",t),Et(i),o.head.appendChild(i)))}}function RT(t){cr.D(t),pv("dns-prefetch",t,null)}function CT(t,i){cr.C(t,i),pv("preconnect",t,i)}function IT(t,i,a){cr.L(t,i,a);var o=nl;if(o&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(i){case"style":f=il(t);break;case"script":f=rl(t)}Pn.has(f)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Io(f))||i==="script"&&o.querySelector(Do(f))||(i=o.createElement("link"),Kt(i,"link",t),Et(i),o.head.appendChild(i)))}}function DT(t,i){cr.m(t,i);var a=nl;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=rl(t)}if(!Pn.has(f)&&(t=x({rel:"modulepreload",href:t},i),Pn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Do(f)))return}o=a.createElement("link"),Kt(o,"link",t),Et(o),a.head.appendChild(o)}}}function jT(t,i,a){cr.S(t,i,a);var o=nl;if(o&&t){var h=_i(o).hoistableStyles,f=il(t);i=i||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Io(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(f))&&im(t,a);var I=_=o.createElement("link");Et(I),Kt(I,"link",t),I._p=new Promise(function(F,Y){I.onload=F,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function OT(t,i){cr.X(t,i);var a=nl;if(a&&t){var o=_i(a).hoistableScripts,h=rl(t),f=o.get(h);f||(f=a.querySelector(Do(h)),f||(t=x({src:t,async:!0},i),(i=Pn.get(h))&&rm(t,i),f=a.createElement("script"),Et(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function MT(t,i){cr.M(t,i);var a=nl;if(a&&t){var o=_i(a).hoistableScripts,h=rl(t),f=o.get(h);f||(f=a.querySelector(Do(h)),f||(t=x({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&rm(t,i),f=a.createElement("script"),Et(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gv(t,i,a,o){var h=(h=Ne.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=il(a.href),a=_i(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=il(a.href);var f=_i(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Io(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||VT(h,t,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=rl(a),a=_i(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function il(t){return'href="'+an(t)+'"'}function Io(t){return'link[rel="stylesheet"]['+t+"]"}function yv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function VT(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Kt(i,"link",a),Et(i),t.head.appendChild(i))}function rl(t){return'[src="'+an(t)+'"]'}function Do(t){return"script[async]"+t}function vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),Kt(o,"style",h),Vc(o,a.precedence,t),i.instance=o;case"stylesheet":h=il(a.href);var f=t.querySelector(Io(h));if(f)return i.state.loading|=4,i.instance=f,Et(f),f;o=yv(a),(h=Pn.get(h))&&im(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var _=f;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Kt(f,"link",o),i.state.loading|=4,Vc(f,a.precedence,t),i.instance=f;case"script":return f=rl(a.src),(h=t.querySelector(Do(f)))?(i.instance=h,Et(h),h):(o=a,(h=Pn.get(f))&&(o=x({},a),rm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Kt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Vc(o,a.precedence,t));return i.instance}function Vc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function _v(t,i,a){if(kc===null){var o=new Map,h=kc=new Map;h.set(a,o)}else h=kc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[yi]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function bv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function kT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LT(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=il(o.href),f=i.querySelector(Io(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Et(f);return}f=i.ownerDocument||i,o=yv(o),(h=Pn.get(h))&&im(o,h),f=f.createElement("link"),Et(f);var _=f;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Kt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function PT(t,i){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*vT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Uc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(UT,t),Pc=null,Lc.call(t))}function UT(t,i){if(!(i.state.loading&4)){var a=Pc.get(t);if(a)var o=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var jo={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function zT(t,i,a,o,h,f,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function xv(t,i,a,o,h,f,_,T,I,F,Y,Z){return t=new zT(t,i,a,_,I,F,Y,Z,T),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),t.current=f,f.stateNode=t,i=Ld(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Bd(f),t}function Tv(t){return t?(t=Va,t):Va}function wv(t,i,a,o,h,f){h=Tv(h),o.context===null?o.context=h:o.pendingContext=h,o=Lr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Pr(t,o,i),a!==null&&(dn(a,t,i),uo(a,t,i))}function Sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){Sv(t,i),(t=t.alternate)&&Sv(t,i)}function Av(t){if(t.tag===13||t.tag===31){var i=Ps(t,67108864);i!==null&&dn(i,t,67108864),am(t,67108864)}}function Nv(t){if(t.tag===13||t.tag===31){var i=Tn();i=As(i);var a=Ps(t,i);a!==null&&dn(a,t,i),am(t,i)}}var zc=!0;function BT(t,i,a,o){var h=$.T;$.T=null;var f=le.p;try{le.p=2,lm(t,i,a,o)}finally{le.p=f,$.T=h}}function qT(t,i,a,o){var h=$.T;$.T=null;var f=le.p;try{le.p=8,lm(t,i,a,o)}finally{le.p=f,$.T=h}}function lm(t,i,a,o){if(zc){var h=om(o);if(h===null)Kf(t,i,o,Bc,a),Cv(t,o);else if(HT(h,t,i,a,o))o.stopPropagation();else if(Cv(t,o),i&4&&-1<FT.indexOf(t)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=fi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-dt(_);T.entanglements[1]|=I,_&=~I}ji(f),(He&6)===0&&(Tc=nn()+500,Ao(0))}}break;case 31:case 13:T=Ps(f,2),T!==null&&dn(T,f,2),Sc(),am(f,2)}if(f=om(o),f===null&&Kf(t,i,o,Bc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Kf(t,i,o,null,a)}}function om(t){return t=Rn(t),um(t)}var Bc=null;function um(t){if(Bc=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function Rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Ml:return 2;case Vl:return 8;case xr:case md:return 32;case _u:return 268435456;default:return 32}default:return 32}}var cm=!1,$r=null,Xr=null,Wr=null,Oo=new Map,Mo=new Map,Jr=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(i.pointerId)}}function Vo(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&Av(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function HT(t,i,a,o,h){switch(i){case"focusin":return $r=Vo($r,t,i,a,o,h),!0;case"dragenter":return Xr=Vo(Xr,t,i,a,o,h),!0;case"mouseover":return Wr=Vo(Wr,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Oo.set(f,Vo(Oo.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Mo.set(f,Vo(Mo.get(f)||null,t,i,a,o,h)),!0}return!1}function Iv(t){var i=vi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){Nv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){Nv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Kl=o,a.target.dispatchEvent(o),Kl=null}else return i=Nn(a),i!==null&&Av(i),t.blockedOn=a,!1;i.shift()}return!0}function Dv(t,i,a){qc(t)&&a.delete(i)}function GT(){cm=!1,$r!==null&&qc($r)&&($r=null),Xr!==null&&qc(Xr)&&(Xr=null),Wr!==null&&qc(Wr)&&(Wr=null),Oo.forEach(Dv),Mo.forEach(Dv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GT)))}var Hc=null;function jv(t){Hc!==t&&(Hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(um(o||a)===null)continue;break}var f=Nn(a);f!==null&&(t.splice(i,3),i-=3,of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function sl(t){function i(I){return Fc(I,t)}$r!==null&&Fc($r,t),Xr!==null&&Fc(Xr,t),Wr!==null&&Fc(Wr,t),Oo.forEach(i),Mo.forEach(i);for(var a=0;a<Jr.length;a++){var o=Jr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[kt]||null;if(typeof f=="function")_||jv(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[kt]||null)T=_.formAction;else if(um(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),jv(a)}}}function Ov(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(t){this._internalRoot=t}Gc.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Tn();wv(a,o,t,i,null,null)},Gc.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;wv(t.current,2,null,t,null,null),Sc(),i[gi]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Su();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&Iv(t)}};var Mv=e.version;if(Mv!=="19.2.0")throw Error(s(527,Mv,"19.2.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var QT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{qn=Qc.inject(QT),qt=Qc}catch{}}return Lo.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=By,f=qy,_=Fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=xv(t,1,!1,null,null,a,o,null,h,f,_,Ov),t[gi]=i.current,Qf(t),new hm(i)},Lo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=By,_=qy,T=Fy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=xv(t,1,!0,i,a??null,o,h,I,f,_,T,Ov),i.context=Tv(null),a=i.current,o=Tn(),o=As(o),h=Lr(o),h.callback=null,Pr(a,h,o),a=o,i.current.lanes=a,ws(i,a),ji(i),t[gi]=i.current,Qf(t),new Gc(i)},Lo.version="19.2.0",Lo}var Hv;function n2(){if(Hv)return mm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=t2(),mm.exports}var i2=n2();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function r2(r={}){function e(s,l){let{pathname:u,search:d,hash:p}=s.location;return Om("",{pathname:u,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:$o(l)}return a2(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s2(){return Math.random().toString(36).substring(2,10)}function Qv(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:n,key:e&&e.key||s||s2()}}function $o({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function xl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function a2(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,d=l.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function x(){p="POP";let P=E(),W=P==null?null:P-y;y=P,g&&g({action:p,location:B.location,delta:W})}function S(P,W){p="PUSH";let ne=Om(B.location,P,W);y=E()+1;let ie=Qv(ne,y),ae=B.createHref(ne);try{d.pushState(ie,"",ae)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;l.location.assign(ae)}u&&g&&g({action:p,location:B.location,delta:1})}function V(P,W){p="REPLACE";let ne=Om(B.location,P,W);y=E();let ie=Qv(ne,y),ae=B.createHref(ne);d.replaceState(ie,"",ae),u&&g&&g({action:p,location:B.location,delta:0})}function G(P){return l2(P)}let B={get action(){return p},get location(){return r(l,d)},listen(P){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Gv,x),g=P,()=>{l.removeEventListener(Gv,x),g=null}},createHref(P){return e(l,P)},createURL:G,encodeLocation(P){let W=G(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:V,go(P){return d.go(P)}};return B}function l2(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$o(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ib(r,e,n="/"){return o2(r,e,n,!1)}function o2(r,e,n,s){let l=typeof e=="string"?xl(e):e,u=gr(l.pathname||"/",n);if(u==null)return null;let d=Db(r);u2(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=b2(u);p=v2(d[g],y,s)}return p}function Db(r,e=[],n=[],s="",l=!1){let u=(d,p,g=l,y)=>{let E={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ot(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let x=mr([s,E.relativePath]),S=n.concat(E);d.children&&d.children.length>0&&(ot(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Db(d.children,e,S,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:g2(x,d.index),routesMeta:S})};return r.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let g of jb(d.path))u(d,p,!0,g)}),e}function jb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let d=jb(s.join("/")),p=[];return p.push(...d.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function u2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:y2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var c2=/^:[\w-]+$/,h2=3,d2=2,f2=1,m2=10,p2=-2,Kv=r=>r==="*";function g2(r,e){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=p2),e&&(s+=d2),n.filter(l=>!Kv(l)).reduce((l,u)=>l+(c2.test(u)?h2:u===""?f2:m2),s)}function y2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function v2(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",x=ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!x&&y&&n&&!s[s.length-1].route.index&&(x=ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!x)return null;Object.assign(l,x.params),d.push({params:l,pathname:mr([u,x.pathname]),pathnameBase:w2(mr([u,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(u=mr([u,x.pathnameBase]))}return d}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=_2(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:x},S)=>{if(E==="*"){let G=p[S]||"";d=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const V=p[S];return x&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:r}}function _2(r,e=!1,n=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function b2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function E2(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?xl(r):r;return{pathname:n?n.startsWith("/")?n:x2(n,e):e,search:S2(s),hash:A2(l)}}function x2(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function vm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(r){let e=T2(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cp(r,e,n,s=!1){let l;typeof r=="string"?l=xl(r):(l={...r},ot(!l.pathname||!l.pathname.includes("?"),vm("?","pathname","search",l)),ot(!l.pathname||!l.pathname.includes("#"),vm("#","pathname","hash",l)),ot(!l.search||!l.search.includes("#"),vm("#","search","hash",l)));let u=r===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=n;else{let x=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),x-=1;l.pathname=S.join("/")}p=x>=0?e[x]:"/"}let g=E2(l,p),y=d&&d!=="/"&&d.endsWith("/"),E=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),w2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),S2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,A2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function N2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ob=["POST","PUT","PATCH","DELETE"];new Set(Ob);var R2=["GET",...Ob];new Set(R2);var Tl=z.createContext(null);Tl.displayName="DataRouter";var zh=z.createContext(null);zh.displayName="DataRouterState";z.createContext(!1);var Mb=z.createContext({isTransitioning:!1});Mb.displayName="ViewTransition";var C2=z.createContext(new Map);C2.displayName="Fetchers";var I2=z.createContext(null);I2.displayName="Await";var ui=z.createContext(null);ui.displayName="Navigation";var su=z.createContext(null);su.displayName="Location";var ci=z.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var hp=z.createContext(null);hp.displayName="RouteError";function D2(r,{relative:e}={}){ot(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(ui),{hash:l,pathname:u,search:d}=au(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:mr([n,u])),s.createHref({pathname:p,search:d,hash:l})}function wl(){return z.useContext(su)!=null}function Bn(){return ot(wl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(su).location}var Vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kb(r){z.useContext(ui).static||z.useLayoutEffect(r)}function ys(){let{isDataRoute:r}=z.useContext(ci);return r?H2():j2()}function j2(){ot(wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Tl),{basename:e,navigator:n}=z.useContext(ui),{matches:s}=z.useContext(ci),{pathname:l}=Bn(),u=JSON.stringify(up(s)),d=z.useRef(!1);return kb(()=>{d.current=!0}),z.useCallback((g,y={})=>{if(ai(d.current,Vb),!d.current)return;if(typeof g=="number"){n.go(g);return}let E=cp(g,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,l,r])}z.createContext(null);function dp(){let{matches:r}=z.useContext(ci),e=r[r.length-1];return e?e.params:{}}function au(r,{relative:e}={}){let{matches:n}=z.useContext(ci),{pathname:s}=Bn(),l=JSON.stringify(up(n));return z.useMemo(()=>cp(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function O2(r,e){return Lb(r,e)}function Lb(r,e,n,s,l){ot(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(ui),{matches:d}=z.useContext(ci),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",x=p&&p.route;{let ne=x&&x.path||"";Pb(y,!x||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=Bn(),V;if(e){let ne=typeof e=="string"?xl(e):e;ot(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=S;let G=V.pathname||"/",B=G;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");B="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let P=Ib(r,{pathname:B});ai(x||P!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ai(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=P2(P&&P.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:mr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:mr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),d,n,s,l);return e&&W?z.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},W):W}function M2(){let r=F2(),e=N2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:l},n):null,d)}var V2=z.createElement(M2,null),k2=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(ci.Provider,{value:this.props.routeContext},z.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L2({routeContext:r,match:e,children:n}){let s=z.useContext(Tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ci.Provider,{value:r},n)}function P2(r,e=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=n?.errors;if(d!=null){let y=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);ot(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:x,errors:S}=n,V=E.route.loader&&!x.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||V){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,x)=>{let S,V=!1,G=null,B=null;n&&(S=d&&E.route.id?d[E.route.id]:void 0,G=E.route.errorElement||V2,p&&(g<0&&x===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,B=null):g===x&&(V=!0,B=E.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,x+1)),W=()=>{let ne;return S?ne=G:V?ne=B:E.route.Component?ne=z.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=y,z.createElement(L2,{match:E,routeContext:{outlet:y,matches:P,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||x===0)?z.createElement(k2,{location:n.location,revalidation:n.revalidation,component:G,error:S,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):W()},null)}function fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U2(r){let e=z.useContext(Tl);return ot(e,fp(r)),e}function z2(r){let e=z.useContext(zh);return ot(e,fp(r)),e}function B2(r){let e=z.useContext(ci);return ot(e,fp(r)),e}function mp(r){let e=B2(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function q2(){return mp("useRouteId")}function F2(){let r=z.useContext(hp),e=z2("useRouteError"),n=mp("useRouteError");return r!==void 0?r:e.errors?.[n]}function H2(){let{router:r}=U2("useNavigate"),e=mp("useNavigate"),n=z.useRef(!1);return kb(()=>{n.current=!0}),z.useCallback(async(l,u={})=>{ai(n.current,Vb),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var Yv={};function Pb(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,ai(!1,n))}z.memo(G2);function G2({routes:r,future:e,state:n,unstable_onError:s}){return Lb(r,void 0,n,s,e)}function Mm({to:r,replace:e,state:n,relative:s}){ot(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(ui);ai(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ci),{pathname:d}=Bn(),p=ys(),g=cp(r,up(u),d,s==="path"),y=JSON.stringify(g);return z.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function ei(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q2({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){ot(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof n=="string"&&(n=xl(n));let{pathname:g="/",search:y="",hash:E="",state:x=null,key:S="default"}=n,V=z.useMemo(()=>{let G=gr(g,d);return G==null?null:{location:{pathname:G,search:y,hash:E,state:x,key:S},navigationType:s}},[d,g,y,E,x,S,s]);return ai(V!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:z.createElement(ui.Provider,{value:p},z.createElement(su.Provider,{children:e,value:V}))}function K2({children:r,location:e}){return O2(Vm(r),e)}function Vm(r,e=[]){let n=[];return z.Children.forEach(r,(s,l)=>{if(!z.isValidElement(s))return;let u=[...e,l];if(s.type===z.Fragment){n.push.apply(n,Vm(s.props.children,u));return}ot(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Vm(s.props.children,u)),n.push(d)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function Y2(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function $2(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function X2(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function W2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function J2(r,e){return r.button===0&&(!e||e==="_self")&&!W2(r)}var Kc=null;function Z2(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!ew.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function tw(r,e){let n,s,l,u,d;if($2(r)){let p=r.getAttribute("action");s=p?gr(p,e):null,n=r.getAttribute("method")||nh,l=_m(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(Y2(r)||X2(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?gr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||nh,l=_m(r.getAttribute("formenctype"))||_m(p.getAttribute("enctype"))||ih,u=new FormData(p,r),!Z2()){let{name:y,type:E,value:x}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,x)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,l=ih,d=r}return u&&l==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function iw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sw(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await iw(u,n);return d.links?d.links():[]}return[]}));return uw(s.flat(1).filter(rw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function $v(r,e,n,s,l,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function aw(r,e,{includeHydrateFallback:n}={}){return lw(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function lw(r){return[...new Set(r)]}function ow(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function uw(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(ow(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function Ub(){let r=z.useContext(Tl);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cw(){let r=z.useContext(zh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=z.createContext(void 0);gp.displayName="FrameworkContext";function zb(){let r=z.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function hw(r,e){let n=z.useContext(gp),[s,l]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:x}=e,S=z.useRef(null);z.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let B=W=>{W.forEach(ne=>{d(ne.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[r]),z.useEffect(()=>{if(s){let B=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(B)}}},[s]);let V=()=>{l(!0)},G=()=>{l(!1),d(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Po(p,V),onBlur:Po(g,G),onMouseEnter:Po(y,V),onMouseLeave:Po(E,G),onTouchStart:Po(x,V)}]:[!1,S,{}]}function Po(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function dw({page:r,...e}){let{router:n}=Ub(),s=z.useMemo(()=>Ib(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(mw,{page:r,matches:s,...e}):null}function fw(r){let{manifest:e,routeModules:n}=zb(),[s,l]=z.useState([]);return z.useEffect(()=>{let u=!1;return sw(r,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[r,e,n]),s}function mw({page:r,matches:e,...n}){let s=Bn(),{manifest:l,routeModules:u}=zb(),{basename:d}=Ub(),{loaderData:p,matches:g}=cw(),y=z.useMemo(()=>$v(r,e,g,l,s,"data"),[r,e,g,l,s]),E=z.useMemo(()=>$v(r,e,g,l,s,"assets"),[r,e,g,l,s]),x=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,B=!1;if(e.forEach(W=>{let ne=l.routes[W.route.id];!ne||!ne.hasLoader||(!y.some(ie=>ie.route.id===W.route.id)&&W.route.id in p&&u[W.route.id]?.shouldRevalidate||ne.hasClientLoader?B=!0:G.add(W.route.id))}),G.size===0)return[];let P=nw(r,d,"data");return B&&G.size>0&&P.searchParams.set("_routes",e.filter(W=>G.has(W.route.id)).map(W=>W.route.id).join(",")),[P.pathname+P.search]},[d,p,s,l,y,e,r,u]),S=z.useMemo(()=>aw(E,l),[E,l]),V=fw(E);return z.createElement(z.Fragment,null,x.map(G=>z.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),S.map(G=>z.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),V.map(({key:G,link:B})=>z.createElement("link",{key:G,nonce:n.nonce,...B})))}function pw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bb&&(window.__reactRouterVersion="7.9.4")}catch{}function gw({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=r2({window:n,v5Compat:!0}));let l=s.current,[u,d]=z.useState({action:l.action,location:l.location}),p=z.useCallback(g=>{z.startTransition(()=>d(g))},[d]);return z.useLayoutEffect(()=>l.listen(p),[l,p]),z.createElement(Q2,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:x,...S},V){let{basename:G}=z.useContext(ui),B=typeof y=="string"&&qb.test(y),P,W=!1;if(typeof y=="string"&&B&&(P=y,Bb))try{let R=new URL(window.location.href),j=y.startsWith("//")?new URL(R.protocol+y):new URL(y),D=gr(j.pathname,G);j.origin===R.origin&&D!=null?y=D+j.search+j.hash:W=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=D2(y,{relative:l}),[ie,ae,ge]=hw(s,S),re=bw(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:l,viewTransition:x});function N(R){e&&e(R),R.defaultPrevented||re(R)}let A=z.createElement("a",{...S,...ge,href:P||ne,onClick:W||u?e:N,ref:pw(V,ae),target:g,"data-discover":!B&&n==="render"?"true":void 0});return ie&&!B?z.createElement(z.Fragment,null,A,z.createElement(dw,{page:ne})):A});Mt.displayName="Link";var yw=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:p,children:g,...y},E){let x=au(d,{relative:y.relative}),S=Bn(),V=z.useContext(zh),{navigator:G,basename:B}=z.useContext(ui),P=V!=null&&Sw(x)&&p===!0,W=G.encodeLocation?G.encodeLocation(x).pathname:x.pathname,ne=S.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,W=W.toLowerCase()),ie&&B&&(ie=gr(ie,B)||ie);const ae=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ge=ne===W||!l&&ne.startsWith(W)&&ne.charAt(ae)==="/",re=ie!=null&&(ie===W||!l&&ie.startsWith(W)&&ie.charAt(W.length)==="/"),N={isActive:ge,isPending:re,isTransitioning:P},A=ge?e:void 0,R;typeof s=="function"?R=s(N):R=[s,ge?"active":null,re?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(N):u;return z.createElement(Mt,{...y,"aria-current":A,className:R,ref:E,style:j,to:d,viewTransition:p},typeof g=="function"?g(N):g)});yw.displayName="NavLink";var vw=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:d=nh,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:x,...S},V)=>{let G=Tw(),B=ww(p,{relative:y}),P=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&qb.test(p),ne=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let ae=ie.nativeEvent.submitter,ge=ae?.getAttribute("formmethod")||d;G(ae||ie.currentTarget,{fetcherKey:e,method:ge,navigate:n,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:x})};return z.createElement("form",{ref:V,method:P,action:B,onSubmit:s?g:ne,...S,"data-discover":!W&&r==="render"?"true":void 0})});vw.displayName="Form";function _w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(r){let e=z.useContext(Tl);return ot(e,_w(r)),e}function bw(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:d}={}){let p=ys(),g=Bn(),y=au(r,{relative:u});return z.useCallback(E=>{if(J2(E,e)){E.preventDefault();let x=n!==void 0?n:$o(g)===$o(y);p(r,{replace:x,state:s,preventScrollReset:l,relative:u,viewTransition:d})}},[g,p,y,n,s,e,r,l,u,d])}var Ew=0,xw=()=>`__${String(++Ew)}__`;function Tw(){let{router:r}=Fb("useSubmit"),{basename:e}=z.useContext(ui),n=q2();return z.useCallback(async(s,l={})=>{let{action:u,method:d,encType:p,formData:g,body:y}=tw(s,e);if(l.navigate===!1){let E=l.fetcherKey||xw();await r.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function ww(r,{relative:e}={}){let{basename:n}=z.useContext(ui),s=z.useContext(ci);ot(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...au(r||".",{relative:e})},d=Bn();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),$o(u)}function Sw(r,{relative:e}={}){let n=z.useContext(Mb);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Fb("useViewTransitionState"),l=au(r,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(l.pathname,d)!=null||ph(l.pathname,u)!=null}const Aw=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Nw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,E=u>>2,x=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,V=y&63;g||(V=64,d||(S=64)),s.push(n[E],n[x],n[S],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const x=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||x==null)throw new Rw;const S=u<<2|p>>4;if(s.push(S),y!==64){const V=p<<4&240|y>>2;if(s.push(V),x!==64){const G=y<<6&192|x;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cw=function(r){const e=Hb(r);return Gb.encodeByteArray(e,!0)},gh=function(r){return Cw(r).replace(/\./g,"")},Qb=function(r){try{return Gb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=()=>Iw().__FIREBASE_DEFAULTS__,jw=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ow=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Qb(r[1]);return e&&JSON.parse(e)},qh=()=>{try{return Aw()||Dw()||jw()||Ow()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Kb=r=>qh()?.emulatorHosts?.[r],Yb=r=>{const e=Kb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$b=()=>qh()?.config,Xb=r=>qh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gh(JSON.stringify(n)),gh(JSON.stringify(d)),""].join(".")}const Fo={};function Vw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?r.emulator.push(e):r.prod.push(e);return r}function kw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Wv=!1;function vp(r,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||Fo[r]===e||Fo[r]||Wv)return;Fo[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Vw().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Wv=!0,d()},S}function E(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function x(){const S=kw(s),V=n("text"),G=document.getElementById(V)||document.createElement("span"),B=n("learnmore"),P=document.getElementById(B)||document.createElement("a"),W=n("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;p(ie),E(P,B);const ae=y();g(ne,W),ie.append(ne,G,P,ae),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Pw(){const r=qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qw(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Fw(){return!Pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hw(){try{return typeof indexedDB=="object"}catch{return!1}}function Gw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qw,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Kw(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Hi(l,p,s)}}function Kw(r,e){return r.replace(Yw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Yw=/\{\$([^}]+)}/g;function $w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ra(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=e[l];if(Jv(u)&&Jv(d)){if(!ra(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Jv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xw(r,e){const n=new Ww(r,e);return n.subscribe.bind(n)}class Ww{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Jw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r){return r&&r._delegate?r._delegate:r}class cs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Mw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(r){return r===Ws?void 0:r}function tS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const iS={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},rS=Oe.INFO,sS={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},aS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=sS[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=rS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const lS=(r,e)=>e.some(n=>r instanceof n);let Zv,e_;function oS(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jb=new WeakMap,km=new WeakMap,Zb=new WeakMap,Em=new WeakMap,bp=new WeakMap;function cS(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(as(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Jb.set(n,r)}).catch(()=>{}),bp.set(e,r),e}function hS(r){if(km.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});km.set(r,e)}let Lm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Zb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dS(r){Lm=r(Lm)}function fS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return Zb.set(s,e.sort?e.sort():[e]),as(s)}:uS().includes(r)?function(...e){return r.apply(xm(this),e),as(Jb.get(this))}:function(...e){return as(r.apply(xm(this),e))}}function mS(r){return typeof r=="function"?fS(r):(r instanceof IDBTransaction&&hS(r),lS(r,oS())?new Proxy(r,Lm):r)}function as(r){if(r instanceof IDBRequest)return cS(r);if(Em.has(r))return Em.get(r);const e=mS(r);return e!==r&&(Em.set(r,e),bp.set(e,r)),e}const xm=r=>bp.get(r);function pS(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),p=as(d);return s&&d.addEventListener("upgradeneeded",g=>{s(as(d.result),g.oldVersion,g.newVersion,as(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Tm=new Map;function t_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=yS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(n)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Tm.set(e,u),u}dS(r=>({...r,get:(e,n,s)=>t_(e,n)||r.get(e,n,s),has:(e,n)=>!!t_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_S(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _S(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",n_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new _p("@firebase/app"),bS="@firebase/app-compat",ES="@firebase/analytics-compat",xS="@firebase/analytics",TS="@firebase/app-check-compat",wS="@firebase/app-check",SS="@firebase/auth",AS="@firebase/auth-compat",NS="@firebase/database",RS="@firebase/data-connect",CS="@firebase/database-compat",IS="@firebase/functions",DS="@firebase/functions-compat",jS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",US="@firebase/remote-config-compat",zS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",FS="@firebase/ai",HS="@firebase/firestore-compat",GS="firebase",QS="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="[DEFAULT]",KS={[Pm]:"fire-core",[bS]:"fire-core-compat",[xS]:"fire-analytics",[ES]:"fire-analytics-compat",[wS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[AS]:"fire-auth-compat",[NS]:"fire-rtdb",[RS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[IS]:"fire-fn",[DS]:"fire-fn-compat",[jS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[US]:"fire-rc-compat",[zS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[HS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,YS=new Map,zm=new Map;function i_(r,e){try{r.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function sa(r){const e=r.name;if(zm.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of yh.values())i_(n,r);for(const n of YS.values())i_(n,r);return!0}function Fh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new lu("app","Firebase",$S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=QS;function e1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ls.create("bad-app-name",{appName:String(l)});if(n||(n=$b()),!n)throw ls.create("no-options");const u=yh.get(l);if(u){if(ra(n,u.options)&&ra(s,u.config))return u;throw ls.create("duplicate-app",{appName:l})}const d=new nS(l);for(const g of zm.values())d.addComponent(g);const p=new XS(n,s,d);return yh.set(l,p),p}function Ep(r=Um){const e=yh.get(r);if(!e&&r===Um&&$b())return e1();if(!e)throw ls.create("no-app",{appName:r});return e}function Mi(r,e,n){let s=KS[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(d.join(" "));return}sa(new cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebase-heartbeat-database",JS=1,Xo="firebase-heartbeat-store";let wm=null;function t1(){return wm||(wm=pS(WS,JS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),wm}async function ZS(r){try{const n=(await t1()).transaction(Xo),s=await n.objectStore(Xo).get(n1(r));return await n.done,s}catch(e){if(e instanceof Hi)yr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function r_(r,e){try{const s=(await t1()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,n1(r)),await s.done}catch(n){if(n instanceof Hi)yr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function n1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1024,tA=30;class nA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tA){const l=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s_(),{heartbeatsToSend:n,unsentEntries:s}=iA(this._heartbeatsCache.heartbeats),l=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return yr.warn(e),""}}}function s_(){return new Date().toISOString().substring(0,10)}function iA(r,e=eA){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),a_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),a_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hw()?Gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a_(r){return gh(JSON.stringify({version:2,heartbeats:r})).length}function sA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(r){sa(new cs("platform-logger",e=>new vS(e),"PRIVATE")),sa(new cs("heartbeat",e=>new nA(e),"PRIVATE")),Mi(Pm,n_,r),Mi(Pm,n_,"esm2020"),Mi("fire-js","")}aA("");var lA="firebase",oA="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(lA,oA,"app");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,i1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(j,D,L){for(var C=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)C[qe-2]=arguments[qe];return A.prototype[D].apply(j,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,R){R||(R=0);const j=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)j[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)j[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],D=N.g[2];let L=N.g[3],C;C=A+(L^R&(D^L))+j[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+j[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+j[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+j[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(L^R&(D^L))+j[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+j[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+j[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+j[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(L^R&(D^L))+j[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+j[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+j[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+j[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(L^R&(D^L))+j[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(D^A&(R^D))+j[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=D+(R^L&(A^R))+j[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=R+(A^D&(L^A))+j[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=A+(D^L&(R^D))+j[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+j[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+j[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+j[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^L&(R^D))+j[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+j[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+j[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+j[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^L&(R^D))+j[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+j[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+j[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+j[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(D^L&(R^D))+j[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^D&(A^R))+j[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=D+(A^R&(L^A))+j[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(D^L))+j[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=A+(R^D^L)+j[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+j[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+j[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+j[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^L)+j[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+j[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+j[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+j[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^L)+j[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+j[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+j[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+j[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(R^D^L)+j[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^D)+j[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=D+(L^A^R)+j[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=R+(D^L^A)+j[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=A+(D^(R|~L))+j[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+j[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+j[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+j[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~L))+j[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+j[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+j[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+j[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~L))+j[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+j[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+j[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+j[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=A+(D^(R|~L))+j[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~D))+j[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=D+(A^(L|~R))+j[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=R+(L^(D|~A))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,j=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=R;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(j[D++]=N.charCodeAt(L++),D==this.blockSize){l(this,j),D=0;break}}else for(;L<A;)if(j[D++]=N[L++],D==this.blockSize){l(this,j),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)N[A++]=this.g[R]>>>j&255;return N};function u(N,A){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let j=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;j&&L==A||(R[D]=L,j=!1)}this.g=R}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return P(y(-N));const A=[];let R=1;for(let j=0;N>=R;j++)A[j]=N/R|0,R*=4294967296;return new d(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return P(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let j=x;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+D),A);D<8?(D=y(Math.pow(A,D)),j=j.j(D).add(y(C))):(j=j.j(R),j=j.add(y(C)))}return j}var x=g(0),S=g(1),V=g(16777216);r=d.prototype,r.m=function(){if(B(this))return-P(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);N+=(j>=0?j:4294967296+j)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(B(this))return"-"+P(this).toString(N);const A=y(Math.pow(N,6));var R=this;let j="";for(;;){const D=ae(R,A).g;R=W(R,D.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,G(R))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function B(N){return N.h==-1}r.l=function(N){return N=W(this,N),B(N)?-1:G(N)?0:1};function P(N){const A=N.g.length,R=[];for(let j=0;j<A;j++)R[j]=~N.g[j];return new d(R,~N.h).add(S)}r.abs=function(){return B(this)?P(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let j=0;for(let D=0;D<=A;D++){let L=j+(this.i(D)&65535)+(N.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);j=C>>>16,L&=65535,C&=65535,R[D]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function W(N,A){return N.add(P(A))}r.j=function(N){if(G(this)||G(N))return x;if(B(this))return B(N)?P(this).j(P(N)):P(P(this).j(N));if(B(N))return P(this.j(P(N)));if(this.l(V)<0&&N.l(V)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var j=0;j<2*A;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<N.g.length;D++){const L=this.i(j)>>>16,C=this.i(j)&65535,qe=N.i(D)>>>16,It=N.i(D)&65535;R[2*j+2*D]+=C*It,ne(R,2*j+2*D),R[2*j+2*D+1]+=L*It,ne(R,2*j+2*D+1),R[2*j+2*D+1]+=C*qe,ne(R,2*j+2*D+1),R[2*j+2*D+2]+=L*qe,ne(R,2*j+2*D+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function ne(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ie(N,A){this.g=N,this.h=A}function ae(N,A){if(G(A))throw Error("division by zero");if(G(N))return new ie(x,x);if(B(N))return A=ae(P(N),A),new ie(P(A.g),P(A.h));if(B(A))return A=ae(N,P(A)),new ie(P(A.g),A.h);if(N.g.length>30){if(B(N)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,j=A;j.l(N)<=0;)R=ge(R),j=ge(j);var D=re(R,1),L=re(j,1);for(j=re(j,2),R=re(R,2);!G(j);){var C=L.add(j);C.l(N)<=0&&(D=D.add(R),L=C),j=re(j,1),R=re(R,1)}return A=W(N,D.j(A)),new ie(D,A)}for(D=x;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=y(R),C=L.j(A);B(C)||C.l(N)>0;)R-=j,L=y(R),C=L.j(A);G(L)&&(L=S),D=D.add(L),N=W(N,C)}return new ie(D,N)}r.B=function(N){return ae(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<A;j++)R[j]=this.i(j)&N.i(j);return new d(R,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<A;j++)R[j]=this.i(j)|N.i(j);return new d(R,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let j=0;j<A;j++)R[j]=this.i(j)^N.i(j);return new d(R,this.h^N.h)};function ge(N){const A=N.g.length+1,R=[];for(let j=0;j<A;j++)R[j]=N.i(j)<<1|N.i(j-1)>>>31;return new d(R,N.h)}function re(N,A){const R=A>>5;A%=32;const j=N.g.length-R,D=[];for(let L=0;L<j;L++)D[L]=A>0?N.i(L+R)>>>A|N.i(L+R+1)<<32-A:N.i(L+R);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,i1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,os=d}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r1,Uo,s1,rh,Bm,a1,l1,o1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var v=0;v<c.length;++v){var b=c[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function l(c,v){if(v)e:{var b=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in b))break e;b=b[U]}c=c[c.length-1],w=b[c],v=v(w),v!=w&&v!=null&&e(b,c,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(v){var b=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&b.push([w,v[w]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,b){return c.call.apply(c.bind,arguments)}function y(c,v,b){return y=g,y.apply(null,arguments)}function E(c,v){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,v){function b(){}b.prototype=v.prototype,c.Z=v.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,U,Q){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return v.prototype[U].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const v=c.length;if(v>0){const b=Array(v);for(let w=0;w<v;w++)b[w]=c[w];return b}return[]}function G(c,v){for(let w=1;w<arguments.length;w++){const U=arguments[w];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=c.length||0;const Q=U.length||0;c.length=b+Q;for(let se=0;se<Q;se++)c[b+se]=U[se]}else c.push(U)}}class B{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(c){d.setTimeout(()=>{throw c},0)}function W(){var c=N;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ne{constructor(){this.h=this.g=null}add(v,b){const w=ie.get();w.set(v,b),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new B(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,re=!1,N=new ne,A=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(R)}};function R(){for(var c;c=W();){try{c.h.call(c.g)}catch(b){P(b)}var v=ie;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}re=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function qe(c,v){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}x(qe,D),qe.prototype.init=function(c,v){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(b=="mouseover"?v=c.fromElement:b=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),$=0;function le(c,v,b,w,U){this.listener=c,this.proxy=null,this.src=v,this.type=b,this.capture=!!w,this.ha=U,this.key=++$,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,v,b){for(const w in c)v.call(b,c[w],w,c)}function Qe(c,v){for(const b in c)v.call(void 0,c[b],b,c)}function M(c){const v={};for(const b in c)v[b]=c[b];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,v){let b,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(b in w)c[b]=w[b];for(let Q=0;Q<ee.length;Q++)b=ee[Q],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,v,b,w,U){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const se=Ne(c,v,w,U);return se>-1?(v=c[se],b||(v.fa=!1)):(v=new le(v,this.src,Q,!!w,U),v.fa=b,c.push(v)),v};function Ee(c,v){const b=v.type;if(b in c.g){var w=c.g[b],U=Array.prototype.indexOf.call(w,v,void 0),Q;(Q=U>=0)&&Array.prototype.splice.call(w,U,1),Q&&(ye(v),c.g[b].length==0&&(delete c.g[b],c.h--))}}function Ne(c,v,b,w){for(let U=0;U<c.length;++U){const Q=c[U];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==w)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,v,b,w,U){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)st(c,v[Q],b,w,U);return null}return b=Ol(b),c&&c[It]?c.J(v,b,p(w)?!!w.capture:!1,U):bs(c,v,b,!1,w,U)}function bs(c,v,b,w,U,Q){if(!v)throw Error("Invalid event type");const se=p(U)?!!U.capture:!!U;let Se=Es(c);if(Se||(c[Le]=Se=new he(c)),b=Se.add(v,b,w,se,Q),b.proxy)return b;if(w=ga(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)L||(U=se),U===void 0&&(U=!1),c.addEventListener(v.toString(),w,U);else if(c.attachEvent)c.attachEvent(hi(v.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ga(){function c(b){return v.call(c.src,c.listener,b)}const v=Dl;return c}function ya(c,v,b,w,U){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ya(c,v[Q],b,w,U);else w=p(w)?!!w.capture:!!w,b=Ol(b),c&&c[It]?(c=c.i,Q=String(v).toString(),Q in c.g&&(v=c.g[Q],b=Ne(v,b,w,U),b>-1&&(ye(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Es(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ne(v,b,w,U)),(b=c>-1?v[c]:null)&&va(b))}function va(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[It])Ee(v.i,c);else{var b=c.type,w=c.proxy;v.removeEventListener?v.removeEventListener(b,w,c.capture):v.detachEvent?v.detachEvent(hi(b),w):v.addListener&&v.removeListener&&v.removeListener(w),(b=Es(v))?(Ee(b,c),b.h==0&&(b.src=null,v[Le]=null)):ye(c)}}}function hi(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Dl(c,v){if(c.da)c=!0;else{v=new qe(v,this);const b=c.listener,w=c.ha||c.src;c.fa&&va(c),c=b.call(w,v)}return c}function Es(c){return c=c[Le],c instanceof he?c:null}var jl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ol(c){return typeof c=="function"?c:(c[jl]||(c[jl]=function(v){return c.handleEvent(v)}),c[jl])}function vt(){j.call(this),this.i=new he(this),this.M=this,this.G=null}x(vt,j),vt.prototype[It]=!0,vt.prototype.removeEventListener=function(c,v,b,w){ya(this,c,v,b,w)};function jt(c,v){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=v.type||v,typeof v=="string")v=new D(v,c);else if(v instanceof D)v.target=v.target||c;else{var U=v;v=new D(w,c),oe(v,U)}U=!0;let Q,se;if(b)for(se=b.length-1;se>=0;se--)Q=v.g=b[se],U=Er(Q,w,!0,v)&&U;if(Q=v.g=c,U=Er(Q,w,!0,v)&&U,U=Er(Q,w,!1,v)&&U,b)for(se=0;se<b.length;se++)Q=v.g=b[se],U=Er(Q,w,!1,v)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const b=c.g[v];for(let w=0;w<b.length;w++)ye(b[w]);delete c.g[v],c.h--}}this.G=null},vt.prototype.J=function(c,v,b,w){return this.i.add(String(c),v,!1,b,w)},vt.prototype.K=function(c,v,b,w){return this.i.add(String(c),v,!0,b,w)};function Er(c,v,b,w){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let Q=0;Q<v.length;++Q){const se=v[Q];if(se&&!se.da&&se.capture==b){const Se=se.listener,ft=se.ha||se.src;se.fa&&Ee(c.i,se),U=Se.call(ft,w)!==!1&&U}}return U&&!w.defaultPrevented}function fd(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(c,v||0)}function vu(c){c.g=fd(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class nn extends j{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){j.call(this),this.h=c,this.g={}}x(xs,j);var Ml=[];function Vl(c){Ue(c.g,function(v,b){this.g.hasOwnProperty(b)&&va(v)},c),c.g={}}xs.prototype.N=function(){xs.Z.N.call(this),Vl(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=d.JSON.stringify,md=d.JSON.parse,_u=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function bu(){}function Eu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}x(qt,D);function An(){D.call(this,"c")}x(An,D);var dt={},xu=null;function _a(){return xu=xu||new vt}dt.Ia="serverreachability";function Tu(c){D.call(this,dt.Ia,c)}x(Tu,D);function di(c){const v=_a();jt(v,new Tu(v))}dt.STAT_EVENT="statevent";function Ts(c,v){D.call(this,dt.STAT_EVENT,c),this.stat=v}x(Ts,D);function _t(c){const v=_a();jt(v,new Ts(v,c))}dt.Ja="timingevent";function fi(c,v){D.call(this,dt.Ja,c),this.size=v}x(fi,D);function mi(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function pd(c,v,b,w,U,Q){c.info(function(){if(c.g)if(Q){var se="",Se=Q.split("&");for(let Fe=0;Fe<Se.length;Fe++){var ft=Se[Fe].split("=");if(ft.length>1){const at=ft[0];ft=ft[1];const In=at.split("_");se=In.length>=2&&In[1]=="type"?se+(at+"="+ft+"&"):se+(at+"=redacted&")}}}else se=null;else se=Q;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+v+`
`+b+`
`+se})}function wu(c,v,b,w,U,Q,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+v+`
`+b+`
`+Q+" "+se})}function pi(c,v,b,w){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+gd(c,b)+(w?" "+w:"")})}function ws(c,v){c.info(function(){return"TIMEOUT: "+v})}Fn.prototype.info=function(){};function gd(c,v){if(!c.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var b=Q[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return xr(Q)}catch{return v}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function As(){}x(As,bu),As.prototype.g=function(){return new XMLHttpRequest},Ll=new As;function Qi(c){return encodeURIComponent(String(c))}function Su(c){var v=1;c=c.split(":");const b=[];for(;v>0&&c.length;)b.push(c.shift()),v--;return c.length&&b.push(c.join(":")),b}function Hn(c,v,b,w){this.j=c,this.i=v,this.l=b,this.S=w||1,this.V=new xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},kt={};function gi(c,v,b){c.M=1,c.A=Ns(xt(v)),c.u=b,c.R=!0,ba(c,null)}function ba(c,v){c.F=Date.now(),yi(c),c.B=xt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),wa(b.i,"t",w),c.C=0,b=c.j.L,c.h=new Gn,c.g=zu(c.j,b?v:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),v=c.V,b=c.g,w=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ml[0]=U.toString()),U=Ml);for(let Q=0;Q<U.length;Q++){const se=st(b,U[Q],w||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),di(),pd(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const v=this.O;v&&Yn(c)==3?v.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Yn(this.g),ft=this.g.ya(),Fe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Se!=4||ft==7||(ft==8||Fe<=0?di(3):di(2)),vi(this);var v=this.g.ca();this.X=v;var b=yd(this);if(this.o=v==200,wu(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var Q=w;break t}}Q=null}if(c=Q)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,_t(12),pn(this),Nn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<b.length;)if(at=Nu(this,b),at==kt){Se==4&&(this.m=4,_t(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,_t(15),pi(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,at,null),_i(this,at);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||b.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,b,"[Invalid Chunked Response]"),pn(this),Nn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Jl(se),se.P=!0,_t(11))}}else pi(this.i,this.l,b,null),_i(this,b);Se==4&&pn(this),this.o&&!this.K&&(Se==4?ku(this.j,this):(this.o=!1,yi(this)))}else Yi(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),pn(this),Nn(this)}}}catch{}finally{}};function yd(c){if(!Au(c))return c.g.la();const v=Ft(c.g);if(v==="")return"";let b="";const w=v.length,U=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Nn(c),"";c.h.i=new d.TextDecoder}for(let Q=0;Q<w;Q++)c.h.h=!0,b+=c.h.i.decode(v[Q],{stream:!(U&&Q==w-1)});return v.length=0,c.h.g+=b,c.C=0,c.h.g}function Au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,v){var b=c.C,w=v.indexOf(`
`,b);return w==-1?kt:(b=Number(v.substring(b,w)),isNaN(b)?bt:(w+=1,w+b>v.length?kt:(v=v.slice(w,w+b),c.C=w+b,v)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function yi(c){c.T=Date.now()+c.H,Ea(c,c.H)}function Ea(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(y(c.aa,c),v)}function vi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(di(),_t(17)),pn(this),this.m=2,Nn(this)):Ea(this,this.T-c)};function Nn(c){c.j.I==0||c.K||ku(c.j,c)}function pn(c){vi(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Vl(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function _i(c,v){try{var b=c.j;if(b.I!=0&&(b.g==c||Ei(b.h,c))){if(!c.L&&Ei(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ca(b),Ir(b);else break e;Ms(b),_t(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=mi(y(b.Va,b),6e3));bi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ni(b,11)}else if((c.L||b.g==c)&&Ca(b),!C(v))for(U=b.Ba.g.parse(v),v=0;v<U.length;v++){let Fe=U[v];const at=Fe[0];if(!(at<=b.K))if(b.K=at,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const In=Fe[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const Ri=Fe[4];Ri!=null&&(b.za=Ri,b.j.info("SVER="+b.za));const $n=Fe[5];$n!=null&&typeof $n=="number"&&$n>0&&(w=1.5*$n,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const Xn=c.g;if(Xn){const Vs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var Q=w.h;Q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(zl(Q,Q.h),Q.h=null))}if(w.G){const Ia=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(w.wa=Ia,Ke(w.J,w.G,Ia))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var se=c;if(w.na=Uu(w,w.L?w.ba:null,w.W),se.L){Bl(w.h,se);var Se=se,ft=w.O;ft&&(Se.H=ft),Se.D&&(vi(Se),yi(Se)),w.g=se}else Mu(w);b.i.length>0&&Ai(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Ni(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ni(b,7):Xl(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}di(4)}catch{}}var Et=class{constructor(c,v){this.g=c,this.map=v}};function Pl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function zl(c,v){c.g?c.g.add(v):c.h=v}function Bl(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Pl.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ql(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const b of c.g.values())v=v.concat(b.G);return v}return V(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,v){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let U,Q=null;w>=0?(U=c[b].substring(0,w),Q=c[b].substring(w+1)):U=c[b],v(U,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof gn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Fl(this,ju(c.i)),this.m=c.m):c&&(v=String(c).match(Ru))?(this.l=!1,Lt(this,v[1]||"",!0),this.o=xi(v[2]||""),this.g=xi(v[3]||"",!0),Tr(this,v[4]),this.h=xi(v[5]||"",!0),Fl(this,v[6]||"",!0),this.m=xi(v[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}gn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Rs(v,Ta,!0),":");var b=this.g;return(b||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Rs(v,Ta,!0),"@"),c.push(Qi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Rs(b,b.charAt(0)=="/"?Hl:Cu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Rs(b,Iu)),c.join("")},gn.prototype.resolve=function(c){const v=xt(this);let b=!!c.j;b?Lt(v,c.j):b=!!c.o,b?v.o=c.o:b=!!c.g,b?v.g=c.g:b=c.u!=null;var w=c.h;if(b)Tr(v,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=v.h.lastIndexOf("/");U!=-1&&(w=v.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const Q=[];for(let se=0;se<U.length;){const Se=U[se++];Se=="."?w&&se==U.length&&Q.push(""):Se==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&se==U.length&&Q.push("")):(Q.push(Se),w=!0)}w=Q.join("/")}else w=U}return b?v.h=w:b=c.i.toString()!=="",b?Fl(v,ju(c.i)):b=!!c.m,b&&(v.m=c.m),v};function xt(c){return new gn(c)}function Lt(c,v,b){c.j=b?xi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Fl(c,v,b){v instanceof Sr?(c.i=v,Sa(c.i,c.l)):(b||(v=Rs(v,wr)),c.i=new Sr(v,c.l))}function Ke(c,v,b){c.i.set(v,b)}function Ns(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,v,b){return typeof c=="string"?(c=encodeURI(c).replace(v,an),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Cu=/[#\?:]/g,Hl=/[#\?]/g,wr=/[#\?@]/g,Iu=/#/g;function Sr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(v,b){c.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=Sr.prototype,r.add=function(c,v){ln(this),this.i=null,c=Ar(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(v),this.h+=1,this};function Du(c,v){ln(c),v=Ar(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Gl(c,v){return ln(c),v=Ar(c,v),c.g.has(v)}r.forEach=function(c,v){ln(this),this.g.forEach(function(b,w){b.forEach(function(U){c.call(v,U,w,this)},this)},this)};function Ql(c,v){ln(c);let b=[];if(typeof v=="string")Gl(c,v)&&(b=b.concat(c.g.get(Ar(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)b=b.concat(c[v]);return b}r.set=function(c,v){return ln(this),this.i=null,c=Ar(this,c),Gl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=Ql(this,c),c.length>0?String(c[0]):v):v};function wa(c,v,b){Du(c,v),b.length>0&&(c.i=null,c.g.set(Ar(c,v),V(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var b=v[w];const U=Qi(b);b=Ql(this,b);for(let Q=0;Q<b.length;Q++){let se=U;b[Q]!==""&&(se+="="+Qi(b[Q])),c.push(se)}}return this.i=c.join("&")};function ju(c){const v=new Sr;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ar(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Sa(c,v){v&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(b,w){const U=w.toLowerCase();w!=U&&(Du(this,w),wa(this,U,b))},c)),c.j=v}function Qn(c,v){const b=new Fn;if(d.Image){const w=new Image;w.onload=E(Rn,b,"TestLoadImage: loaded",!0,v,w),w.onerror=E(Rn,b,"TestLoadImage: error",!1,v,w),w.onabort=E(Rn,b,"TestLoadImage: abort",!1,v,w),w.ontimeout=E(Rn,b,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else v(!1)}function Kl(c,v){const b=new Fn,w=new AbortController,U=setTimeout(()=>{w.abort(),Rn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(U),Q.ok?Rn(b,"TestPingServer: ok",!0,v):Rn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),Rn(b,"TestPingServer: error",!1,v)})}function Rn(c,v,b,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(b)}catch{}}function Nr(){this.g=new _u}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}x(Ti,bu),Ti.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,v){vt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Cs,vt),r=Cs.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Rr(this):Kn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Na=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,v){this.A.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=v.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let v="";return Ue(c,function(b,w){v+=w,v+=":",v+=b,v+=`\r
`}),v}function Is(c,v,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Cn(b),typeof c=="string"?b!=null&&Qi(b):Ke(c,v,b))}function Xe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Xe,vt);var wi=/^https?$/i,Yl=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,v,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Q){Ds(this,Q);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)b.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Yl,v,void 0)>=0)||w||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of b)this.g.setRequestHeader(Q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ds(this,Q)}};function Ds(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,$l(c),Ki(c)}function $l(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},r.Xa=function(){js(this)};function js(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var w;if(w=Q===0){let se=String(c.D).match(Ru)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),w=!wi.test(se?se.toLowerCase():"")}b=w}if(b)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var U=Yn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",$l(c)}}finally{Ki(c)}}}}function Ki(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,v||jt(c,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),md(v)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const v={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var b=Su(c[w]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[U]||[];v[U]=Q,Q.push(b)}Qe(v,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||v}function Cr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(c&&c.concurrentRequestLimit),this.Ba=new Nr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cr.prototype,r.ka=8,r.I=1,r.connect=function(c,v,b,w){_t(0),this.W=c,this.H=v||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Uu(this,null,this.W),Ai(this)};function Xl(c){if(Na(c),c.I==3){var v=c.V++,b=xt(c.J);if(Ke(b,"SID",c.M),Ke(b,"RID",v),Ke(b,"TYPE","terminate"),Os(c,b),v=new Hn(c,c.j,v),v.M=2,v.A=Ns(xt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.A,b=!0),b||(v.g=zu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),yi(v)}Pu(c)}function Ir(c){c.g&&(Jl(c),c.g.cancel(),c.g=null)}function Na(c){Ir(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Ul(c.h)&&!c.m){c.m=!0;var v=c.Ea;ge||A(),re||(ge(),re=!0),N.add(v,c),c.D=0}}function Ra(c,v){return bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(y(c.Ea,c,v),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Hn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=M(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(U.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Ou(this,U,v),b=xt(this.J),Ke(b,"RID",c),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),Os(this,b),Q&&(this.R?v="headers="+Qi(Cn(Q))+"&"+v:this.u&&Is(b,this.u,Q)),zl(this.h,U),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",v),Ke(b,"SID","null"),U.U=!0,gi(U,b,null)):gi(U,b,v),this.I=2}}else this.I==3&&(c?Wl(this,c):this.i.length==0||Ul(this.h)||Wl(this))};function Wl(c,v){var b;v?b=v.l:b=c.V++;const w=xt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",b),Ke(w,"AID",c.K),Os(c,w),c.u&&c.o&&Is(w,c.u,c.o),b=new Hn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Ou(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),zl(c.h,b),gi(b,w,v)}function Os(c,v){c.H&&Ue(c.H,function(b,w){Ke(v,w,b)}),c.l&&Ue({},function(b,w){Ke(v,w,b)})}function Ou(c,v,b){b=Math.min(c.i.length,b);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Se=-1;for(;;){const ft=["count="+b];Se==-1?b>0?(Se=U[0].g,ft.push("ofs="+Se)):Se=0:ft.push("ofs="+Se);let Fe=!0;for(let at=0;at<b;at++){var Q=U[at].g;const In=U[at].map;if(Q-=Se,Q<0)Se=Math.max(0,U[at].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var se=In instanceof Map?In:Object.entries(In);for(const[Ri,$n]of se){let Xn=$n;p($n)&&(Xn=xr($n)),ft.push(Q+Ri+"="+encodeURIComponent(Xn))}}catch(Ri){throw ft.push(Q+"type="+encodeURIComponent("_badmap")),Ri}}catch{w&&w(In)}}if(Fe){se=ft.join("&");break e}}se=void 0}return c=c.i.splice(0,b),v.G=c,se}function Mu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;ge||A(),re||(ge(),re=!0),N.add(v,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(y(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Ir(this),Vu(this))};function Jl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Vu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=xt(c.na);Ke(v,"RID","rpc"),Ke(v,"SID",c.M),Ke(v,"AID",c.K),Ke(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(v,"TO",c.ia),Ke(v,"TYPE","xmlhttp"),Os(c,v),c.u&&c.o&&Is(v,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Ns(xt(v)),b.u=null,b.R=!0,ba(b,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ms(this),_t(19))};function Ca(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ku(c,v){var b=null;if(c.g==v){Ca(c),Jl(c),c.g=null;var w=2}else if(Ei(c.h,v))b=v.G,Bl(c.h,v),w=1;else return;if(c.I!=0){if(v.o)if(w==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var U=c.D;w=_a(),jt(w,new fi(w,b)),Ai(c)}else Mu(c);else if(U=v.m,U==3||U==0&&v.X>0||!(w==1&&Ra(c,v)||w==2&&Ms(c)))switch(b&&b.length>0&&(v=c.h,v.i=v.i.concat(b)),U){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Lu(c,v){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*v}function Ni(c,v){if(c.j.info("Error code "+v),v==2){var b=y(c.bb,c),w=c.Ua;const U=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(w,"https"),Ns(w),U?Qn(w.toString(),b):Kl(w.toString(),b)}else _t(2);c.I=0,c.l&&c.l.pa(v),Pu(c),Na(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Pu(c){if(c.I=0,c.ja=[],c.l){const v=ql(c.h);(v.length!=0||c.i.length!=0)&&(G(c.ja,v),G(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Uu(c,v,b){var w=b instanceof gn?xt(b):new gn(b);if(w.g!="")v&&(w.g=v+"."+w.g),Tr(w,w.u);else{var U=d.location;w=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const Q=new gn(null);w&&Lt(Q,w),v&&(Q.g=v),U&&Tr(Q,U),b&&(Q.h=b),w=Q}return b=c.G,v=c.wa,b&&v&&Ke(w,b,v),Ke(w,"VER",c.ka),Os(c,w),w}function zu(c,v,b){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Xe(new Ti({ab:b})):new Xe(c.ma),v.Fa(c.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,v){return new rn(c,v)};function rn(c,v){vt.call(this),this.g=new Cr(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!C(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new $i(this)}x(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Xl(this.g)},rn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=xr(c),c=b);v.i.push(new Et(v.Ya++,c)),v.I==3&&Ai(v)},rn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,rn.Z.N.call(this)};function qu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const b in v){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(qu,qt);function Fu(){An.call(this),this.status=1}x(Fu,An);function $i(c){this.g=c}x($i,Bu),$i.prototype.ra=function(){jt(this.g,"a")},$i.prototype.qa=function(c){jt(this.g,new qu(c))},$i.prototype.pa=function(c){jt(this.g,new Fu)},$i.prototype.oa=function(){jt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,o1=function(){return new Dr},l1=function(){return _a()},a1=dt,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,rh=Ss,kl.COMPLETE="complete",s1=kl,Eu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Uo=Eu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,r1=Xe}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",u_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new _p("@firebase/firestore");function al(){return aa.logLevel}function ce(r,...e){if(aa.logLevel<=Oe.DEBUG){const n=e.map(xp);aa.debug(`Firestore (${Sl}): ${r}`,...n)}}function vr(r,...e){if(aa.logLevel<=Oe.ERROR){const n=e.map(xp);aa.error(`Firestore (${Sl}): ${r}`,...n)}}function ml(r,...e){if(aa.logLevel<=Oe.WARN){const n=e.map(xp);aa.warn(`Firestore (${Sl}): ${r}`,...n)}}function xp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,u1(r,s,n)}function u1(r,e,n){let s=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function Ge(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||u1(e,l,s)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class cA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vi,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new c1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class dA{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fA{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new dA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=pA(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return Sm(l)===Sm(u)?Me(l,u):Sm(l)?1:-1}return Me(r.length,e.length)}const gA=55296,yA=57343;function Sm(r){const e=r.charCodeAt(0);return e>=gA&&e<=yA}function pl(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Oi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),l=Oi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class tt extends Oi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Oi{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new $t([h_])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _A(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function d_(r){if(!pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f_(r){if(pe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function uu(r,e){if(!d1(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,p_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*p_);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=-1;function bA(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new hs(l,pe.empty(),e)}function EA(r){return new hs(r.readTime,r.key,Wo)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Te.min(),pe.empty(),Wo)}static max(){return new hs(Te.max(),pe.empty(),Wo)}}function xA(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==TA)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(g=>s(g)))})),d=!0,u===l&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((l=>l?te.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{d[y]=E,++p,p===u&&s(d)}),(E=>l(E)))}}))}static doWhile(e,n){return new te(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function SA(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Qh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function AA(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="";function NA(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=g_(e)),e=RA(r.get(n),e);return g_(e)}function RA(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case f1:n+="";break;default:n+=u}}return n}function g_(r){return r+f1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function CA(r,e){const n=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.push(e(r[s],s,r));return n}function m1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Yt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Vt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new p1("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const IA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=IA.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="server_timestamp",y1="__type__",v1="__previous_value__",_1="__local_write_time__";function Sp(r){return(r?.mapValue?.fields||{})[y1]?.stringValue===g1}function Kh(r){const e=r.mapValue.fields[v1];return Sp(e)?Kh(e):e}function Jo(r){const e=ds(r.mapValue.fields[_1].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,s,l,u,d,p,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class Zo{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__type__",jA="__max__",Xc={mapValue:{}},E1="__vector__",bh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:MA(r)?9007199254740991:OA(r)?10:11:_e(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jo(r).isEqual(Jo(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ds(l.timestampValue),p=ds(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return fs(l.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return gt(l.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(l.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return gt(l.integerValue)===gt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=gt(l.doubleValue),p=gt(u.doubleValue);return d===p?vh(d)===vh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return pl(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(y_(d)!==y_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Bi(d[g],p[g])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function gl(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=gt(u.integerValue||u.doubleValue),g=gt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return __(r.timestampValue,e.timestampValue);case 4:return __(Jo(r),Jo(e));case 5:return qm(r.stringValue,e.stringValue);case 6:return(function(u,d){const p=fs(u),g=fs(d);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Me(p[y],g[y]);if(E!==0)return E}return Me(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Me(gt(u.latitude),gt(d.latitude));return p!==0?p:Me(gt(u.longitude),gt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return b_(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[bh]?.arrayValue,E=g[bh]?.arrayValue,x=Me(y?.values?.length||0,E?.values?.length||0);return x!==0?x:b_(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Xc.mapValue&&d===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(d===Xc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const S=qm(g[x],E[x]);if(S!==0)return S;const V=gl(p[g[x]],y[E[x]]);if(V!==0)return V}return Me(g.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function __(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=ds(r),s=ds(e),l=Me(n.seconds,s.seconds);return l!==0?l:Me(n.nanos,s.nanos)}function b_(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=gl(n[l],s[l]);if(u)return u}return Me(n.length,s.length)}function yl(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${Fm(n.fields[d])}`;return l+"}"})(r.mapValue):_e(61005,{value:r})}function sh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return vs(s.fields,((u,d)=>{l+=u.length+sh(d)})),l})(r.mapValue);default:throw _e(13486,{value:r})}}function E_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function x_(r){return!!r&&"nullValue"in r}function T_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function OA(r){return(r?.mapValue?.fields||{})[b1]?.stringValue===E1}function Ho(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ho(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ho(r.arrayValue.values[n]);return e}return{...r}}function MA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(n)}setAll(e){let n=$t.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Ho(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];ah(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new mn(Ho(this.value))}}function x1(r){const e=[];return vs(r.fields,((n,s)=>{const l=new $t([n]);if(ah(s)){const u=x1(s.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,l,u,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,n,s,l){return new en(e,1,n,Te.min(),s,l,0)}static newNoDocument(e,n){return new en(e,2,n,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function w_(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(d.referenceValue),n.key):s=gl(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function S_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function VA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class Rt extends T1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LA(e,n,s):n==="array-contains"?new zA(e,s):n==="in"?new BA(e,s):n==="not-in"?new qA(e,s):n==="array-contains-any"?new FA(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PA(e,s):new UA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends T1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return w1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w1(r){return r.op==="and"}function S1(r){return kA(r)&&w1(r)}function kA(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function Gm(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+yl(r.value);if(S1(r))return r.filters.map((e=>Gm(e))).join(",");{const e=r.filters.map((n=>Gm(n))).join(",");return`${r.op}(${e})`}}function A1(r,e){return r instanceof Rt?(function(s,l){return l instanceof Rt&&s.op===l.op&&s.field.isEqual(l.field)&&Bi(s.value,l.value)})(r,e):r instanceof oi?(function(s,l){return l instanceof oi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&A1(d,l.filters[p])),!0):!1})(r,e):void _e(19439)}function N1(r){return r instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"})(r):"Filter"}class LA extends Rt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class PA extends Rt{constructor(e,n){super(e,"in",n),this.keys=R1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UA extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=R1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function R1(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class zA extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&eu(n.arrayValue,this.value)}}class BA extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class qA extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class FA extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n=null,s=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function A_(r,e=null,n=[],s=[],l=null,u=null,d=null){return new HA(r,e,n,s,l,u,d)}function Np(r){const e=xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yl(s))).join(",")),e.Te=n}return e.Te}function Rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!VA(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!A1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!S_(r.startAt,e.startAt)&&S_(r.endAt,e.endAt)}function Qm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,s=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GA(r,e,n,s,l,u,d,p){return new Rl(r,e,n,s,l,u,d,p)}function Cp(r){return new Rl(r)}function N_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function C1(r){return r.collectionGroup!==null}function Go(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt($t.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new tu($t.keyField(),s))}return e.Ie}function ki(r){const e=xe(r);return e.Ee||(e.Ee=I1(e,Go(r))),e.Ee}function QA(r){const e=xe(r);return e.de||(e.de=I1(e,r.explicitOrderBy)),e.de}function I1(r,e){if(r.limitType==="F")return A_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new tu(l.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return A_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Km(r,e){const n=r.filters.concat([e]);return new Rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ym(r,e,n){return new Rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Yh(r,e){return Rp(ki(r),ki(e))&&r.limitType===e.limitType}function D1(r){return`${Np(ki(r))}|lt:${r.limitType}`}function ll(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>N1(l))).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>yl(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>yl(l))).join(",")),`Target(${s})`})(ki(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Go(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,g){const y=w_(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,Go(s),l)||s.endAt&&!(function(d,p,g){const y=w_(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,Go(s),l))})(r,e)}function KA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j1(r){return(e,n)=>{let s=!1;for(const l of Go(r)){const u=YA(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function YA(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?gl(g,y):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new ut(pe.comparator);function _r(){return $A}const O1=new ut(pe.comparator);function zo(...r){let e=O1;for(const n of r)e=e.insert(n.key,n);return e}function M1(r){let e=O1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Qo()}function V1(){return Qo()}function Qo(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const XA=new ut(pe.comparator),WA=new Vt(pe.comparator);function Ve(...r){let e=WA;for(const n of r)e=e.add(n);return e}const JA=new Vt(Me);function ZA(){return JA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function k1(r){return{integerValue:""+r}}function eN(r,e){return AA(e)?k1(e):Ip(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function tN(r,e,n){return r instanceof xh?(function(l,u){const d={fields:{[y1]:{stringValue:g1},[_1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Sp(u)&&(u=Kh(u)),u&&(d.fields[v1]=u),{mapValue:d}})(n,e):r instanceof nu?P1(r,e):r instanceof iu?U1(r,e):(function(l,u){const d=L1(l,u),p=R_(d)+R_(l.Ae);return Hm(d)&&Hm(l.Ae)?k1(p):Ip(l.serializer,p)})(r,e)}function nN(r,e,n){return r instanceof nu?P1(r,e):r instanceof iu?U1(r,e):n}function L1(r,e){return r instanceof Th?(function(s){return Hm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends Xh{}class nu extends Xh{constructor(e){super(),this.elements=e}}function P1(r,e){const n=z1(e);for(const s of r.elements)n.some((l=>Bi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Xh{constructor(e){super(),this.elements=e}}function U1(r,e){let n=z1(e);for(const s of r.elements)n=n.filter((l=>!Bi(l,s)));return{arrayValue:{values:n}}}class Th extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function R_(r){return gt(r.integerValue||r.doubleValue)}function z1(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function iN(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof nu&&l instanceof nu||s instanceof iu&&l instanceof iu?pl(s.elements,l.elements,Bi):s instanceof Th&&l instanceof Th?Bi(s.Ae,l.Ae):s instanceof xh&&l instanceof xh})(r.transform,e.transform)}class rN{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function B1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new F1(r.key,ri.none()):new cu(r.key,r.data,ri.none());{const n=r.data,s=mn.empty();let l=new Vt($t.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new _s(r.key,s,new wn(l.toArray()),ri.none())}}function sN(r,e,n){r instanceof cu?(function(l,u,d){const p=l.value.clone(),g=I_(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,n):r instanceof _s?(function(l,u,d){if(!lh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=I_(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(q1(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Ko(r,e,n,s){return r instanceof cu?(function(u,d,p,g){if(!lh(u.precondition,d))return p;const y=u.value.clone(),E=D_(u.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof _s?(function(u,d,p,g){if(!lh(u.precondition,d))return p;const y=D_(u.fieldTransforms,g,d),E=d.data;return E.setAll(q1(u)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(r,e,n,s):(function(u,d,p){return lh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,n)}function aN(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=L1(s.transform,l||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function C_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&pl(s,l,((u,d)=>iN(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends Wh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _s extends Wh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function q1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function I_(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=e.data.field(u.field);s.set(u.field,nN(d,p,n[l]))}return s}function D_(r,e,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,tN(u,d,e))}return s}class F1 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&sN(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=V1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const g=B1(d,p);g!==null&&s.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,s)=>C_(n,s)))&&pl(this.baseMutations,e.baseMutations,((n,s)=>C_(n,s)))}}class Dp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return XA})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Dp(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Pe;function dN(r){switch(r){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function H1(r){if(r===void 0)return vr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Nt.OK:return J.OK;case Nt.CANCELLED:return J.CANCELLED;case Nt.UNKNOWN:return J.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return J.INTERNAL;case Nt.UNAVAILABLE:return J.UNAVAILABLE;case Nt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Nt.NOT_FOUND:return J.NOT_FOUND;case Nt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Nt.ABORTED:return J.ABORTED;case Nt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Nt.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:r})}}(Pe=Nt||(Nt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new os([4294967295,4294967295],0);function j_(r){const e=fN().encode(r),n=new i1;return n.update(e),new Uint8Array(n.digest())}function O_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([l,u],0)]}class jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(s<0)throw new Bo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(os.fromNumber(s)));return l.compare(mN)===1&&(l=new os([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=j_(e),[s,l]=O_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new jp(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=j_(e),[s,l]=O_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Te.min(),l,new ut(Me),_r(),Ve())}}class hu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class G1{constructor(e,n){this.targetId=e,this.Ce=n}}class Q1{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class M_{constructor(){this.ve=0,this.Fe=V_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_e(38017,{changeType:u})}})),new hu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=V_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pN{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=Wc(),this.He=Wc(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Qm(u))if(s===0){const d=new pe(u.path);this.et(n,d,en.newNoDocument(d,Te.min()))}else Ge(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=fs(s).toUint8Array()}catch(g){if(g instanceof p1)return ml("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new jp(d,l,u)}catch(g){return ml(g instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Qm(p.target)){const g=new pe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,en.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Jh(e,n,this.Ye,this.je,s);return this.je=_r(),this.Je=Wc(),this.He=Wc(),this.Ye=new ut(Me),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new M_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ut(pe.comparator)}function V_(){return new ut(pe.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vN={and:"AND",or:"OR"};class _N{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(r,e){return r.useProto3Json||Qh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bN(r,e){return wh(r,e.toTimestamp())}function Li(r){return Ge(!!r,49232),Te.fromTimestamp((function(n){const s=ds(n);return new rt(s.seconds,s.nanos)})(r))}function Op(r,e){return Xm(r,e).canonicalString()}function Xm(r,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Y1(r){const e=tt.fromString(r);return Ge(eE(e),10190,{key:e.toString()}),e}function Wm(r,e){return Op(r.databaseId,e.path)}function Am(r,e){const n=Y1(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(X1(n))}function $1(r,e){return Op(r.databaseId,e)}function EN(r){const e=Y1(r);return e.length===4?tt.emptyPath():X1(e)}function Jm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function X1(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function k_(r,e,n){return{name:Wm(r,e),fields:n.value.mapValue.fields}}function xN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:H1(y.code);return new ue(E,y.message||"")})(d);n=new Q1(s,l,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Am(r,s.document.name),u=Li(s.document.updateTime),d=s.document.createTime?Li(s.document.createTime):Te.min(),p=new mn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(l,u,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Am(r,s.document),u=s.readTime?Li(s.readTime):Te.min(),d=en.newNoDocument(l,u),p=s.removedTargetIds||[];n=new oh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Am(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new hN(l,u),p=s.targetId;n=new G1(p,d)}}return n}function TN(r,e){let n;if(e instanceof cu)n={update:k_(r,e.key,e.value)};else if(e instanceof F1)n={delete:Wm(r,e.key)};else if(e instanceof _s)n={update:k_(r,e.key,e.data),updateMask:jN(e.fieldMask)};else{if(!(e instanceof lN))return _e(16599,{Vt:e.type});n={verify:Wm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof xh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:bN(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function wN(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Li(l.updateTime):Li(u);return d.isEqual(Te.min())&&(d=Li(u)),new rN(d,l.transformResults||[])})(n,e)))):[]}function SN(r,e){return{documents:[$1(r,e.path)]}}function W1(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$1(r,l);const u=(function(y){if(y.length!==0)return Z1(oi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:ts(S.field),direction:CN(S.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=$m(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function AN(r,e,n,s){const{ft:l,parent:u}=W1(r,e),d={},p=[];let g=0;return n.forEach((y=>{const E="aggregate_"+g++;d[E]=y.alias,y.aggregateType==="count"?p.push({alias:E,count:{}}):y.aggregateType==="avg"?p.push({alias:E,avg:{field:ts(y.fieldPath)}}):y.aggregateType==="sum"&&p.push({alias:E,sum:{field:ts(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:l.structuredQuery},parent:l.parent},gt:d,parent:u}}function NN(r){let e=EN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(x){const S=J1(x);return S instanceof oi&&S1(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((S=>(function(G){return new tu(ol(G.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(x){let S;return S=typeof x=="object"?x.value:x,Qh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(x){const S=!!x.before,V=x.values||[];return new Eh(V,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const S=!x.before,V=x.values||[];return new Eh(V,S)})(n.endAt)),GA(e,l,d,u,p,"F",g,y)}function RN(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ol(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return Rt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ol(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(n.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Rt.create(ol(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>J1(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function CN(r){return gN[r]}function IN(r){return yN[r]}function DN(r){return vN[r]}function ts(r){return{fieldPath:r.canonicalString()}}function ol(r){return $t.fromServerFormat(r.fieldPath)}function Z1(r){return r instanceof Rt?(function(n){if(n.op==="=="){if(T_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:IN(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((l=>Z1(l)));return s.length===1?s[0]:{compositeFilter:{op:DN(n.op),filters:s}}})(r):_e(54877,{filter:r})}function jN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s,l,u=Te.min(),d=Te.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.yt=e}}function MN(r){const e=NN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Cn=new kN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(hs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class kN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Vt(tt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(tE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",LN=1048576;function U_([r,e],[n,s]){const l=Me(r,n);return l===0?Me(e,s):l}class PN{constructor(e){this.Ir=e,this.buffer=new Vt(U_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();U_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?ce(P_,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Vr(3e5)}))}}class zN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Gh.ce);const s=new PN(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(L_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,n)))).next((x=>(u=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),al()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function BN(r,e){return new zN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Ko(s.mutation,l,wn.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const l=Js();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let d=zo();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,s,l){let u=_r();const d=Qo(),p=(function(){return Qo()})();return n.forEach(((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Ko(E.mutation,y,E.mutation.getFieldMask(),rt.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>d.set(y,E))),n.forEach(((y,E)=>p.set(y,new FN(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Qo();let l=new ut(((d,p)=>d-p)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||wn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const x=(l.get(p.batchId)||Ve()).add(g);l=l.insert(p.batchId,x)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,x=V1();E.forEach((S=>{if(!u.has(S)){const V=B1(n.get(S),s.get(S));V!==null&&x.set(S,V),u=u.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return te.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):te.resolve(Js());let p=Wo,g=u;return d.next((y=>te.forEach(y,((E,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ve()))).next((E=>({batchId:p,changes:M1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let l=zo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let d=zo();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(g=>{const y=(function(x,S){return new Rl(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((E=>{E.forEach(((x,S)=>{d=d.insert(x,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((d=>{u.forEach(((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,en.newInvalidDocument(E)))}));let p=zo();return d.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ko(E.mutation,y,wn.empty(),rt.now()),$h(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:MN(l.bundledQuery),readTime:Li(l.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return te.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const l=Js(),u=n.length+1,d=new pe(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ut(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=Js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return te.resolve(p)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new uN(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new tt([])),s=new Ut(n,e),l=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new tt([])),s=new Ut(n,e),l=new Ut(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oN(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ut(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Me);return n.forEach((l=>{const u=new Ut(l,0),d=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{s=s.add(p.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const d=new Ut(new pe(u),0);let p=new Vt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(l=>{const u=new Ut(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),l=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=_r();const d=n.path,p=new pe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||xA(EA(E),s)<=0||(l.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,l){_e(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new XN(this)}getSize(e){return te.resolve(this.size)}}class XN extends qN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.si=new ha((n=>Np(n)),Rp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new KN,this.referenceDelegate=e(this),this.Pi=new WN(this),this.indexManager=new VN,this.remoteDocumentCache=(function(l){return new $N(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ON(n),this.Ii=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new YN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const l=new JN(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class JN extends wA{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const l=pe.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.pi=new ha((s=>NA(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=BN(this,n)}static mi(e,n){return new Sh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?te.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(s++,u.removeEntry(d,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return te.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Ve(),l=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new kp(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Fw()?8:SA(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new ZN;return this.Ss(e,n,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(al()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(al()<=Oe.DEBUG&&ce("QueryEngine","Query:",ll(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(al()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):te.resolve())}ys(e,n){if(N_(n))return te.resolve(null);let s=ki(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Ym(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=Ve(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,l){return N_(n)||l.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,l)?te.resolve(null):(al()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ll(n)),this.vs(e,d,n,bA(l,Wo)).next((p=>p)))}))}Ds(e,n){let s=new Vt(j1(e));return n.forEach(((l,u)=>{$h(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return al()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ll(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",tR=3e8;class nR{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Me),this.xs=new ha((u=>Np(u)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iR(r,e,n,s){return new nR(r,e,n,s)}async function iE(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let g=Ve();for(const y of l){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function rR(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const x=y.batch,S=x.keys();let V=te.resolve();return S.forEach((G=>{V=V.next((()=>E.getEntry(g,G))).next((B=>{const P=y.docVersions.get(G);Ge(P!==null,48541),B.version.compareTo(P)<0&&(x.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ve();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function rE(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sR(r,e){const n=xe(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((E,x)=>{const S=l.get(x);if(!S)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,x))));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?V=V.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),l=l.insert(x,V),(function(B,P,W){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=tR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(S,V,E)&&p.push(n.Pi.updateTargetData(u,V))}));let g=_r(),y=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(aR(u,d,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return te.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function aR(r,e,n){let s=Ve(),l=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=_r();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ce(Lp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function lR(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function oR(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,te.resolve(l)):n.Pi.allocateTargetId(s).next((d=>(l=new ss(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Zm(r,e,n){const s=xe(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Nl(d))throw d;ce(Lp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function z_(r,e,n){const s=xe(r);let l=Te.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,E){const x=xe(g),S=x.xs.get(E);return S!==void 0?te.resolve(x.Ms.get(S)):x.Pi.getTargetData(y,E)})(s,d,ki(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?l:Te.min(),n?u:Ve()))).next((p=>(uR(s,KA(e),p),{documents:p,Qs:u})))))}function uR(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class B_{constructor(){this.activeTargetIds=ZA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class F_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function ep(){return Jc===null?Jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",dR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const d=ep(),p=this.zo(e,n.toUriEncodedString());ce(Nm,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),E=ua(y);return this.Jo(e,p,g,s,E).then((x=>(ce(Nm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw ml(Nm,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",s),x}))}Ho(e,n,s,l,u,d){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=dR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class pR extends fR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const d=ep();return new Promise(((p,g)=>{const y=new r1;y.setWithCredentials(!0),y.listenOnce(s1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const x=y.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case rh.TIMEOUT:ce(Jt,`RPC '${e}' ${d} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const S=y.getStatus();if(ce(Jt,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V?.error;if(G&&G.status&&G.message){const B=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(G.status);g(new ue(B,G.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Jt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);ce(Jt,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const l=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=o1(),p=l1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(Jt,`Creating RPC '${e}' stream ${l}: ${E}`,g);const x=d.createWebChannel(E,g);this.I_(x);let S=!1,V=!1;const G=new mR({Yo:P=>{V?ce(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,P):(S||(ce(Jt,`Opening RPC '${e}' stream ${l} transport.`),x.open(),S=!0),ce(Jt,`RPC '${e}' stream ${l} sending:`,P),x.send(P))},Zo:()=>x.close()}),B=(P,W,ne)=>{P.listen(W,(ie=>{try{ne(ie)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return B(x,Uo.EventType.OPEN,(()=>{V||(ce(Jt,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),B(x,Uo.EventType.CLOSE,(()=>{V||(V=!0,ce(Jt,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(x))})),B(x,Uo.EventType.ERROR,(P=>{V||(V=!0,ml(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),G.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),B(x,Uo.EventType.MESSAGE,(P=>{if(!V){const W=P.data[0];Ge(!!W,16349);const ne=W,ie=ne?.error||ne[0]?.error;if(ie){ce(Jt,`RPC '${e}' stream ${l} received error:`,ie);const ae=ie.status;let ge=(function(A){const R=Nt[A];if(R!==void 0)return H1(R)})(ae),re=ie.message;ge===void 0&&(ge=J.INTERNAL,re="Unknown error status: "+ae+" with message "+ie.message),V=!0,G.a_(new ue(ge,re)),x.close()}else ce(Jt,`RPC '${e}' stream ${l} received:`,W),G.u_(W)}})),B(p,a1.STAT_EVENT,(P=>{P.stat===Bm.PROXY?ce(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):P.stat===Bm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(r){return new _N(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class aE{constructor(e,n,s,l,u,d,p,g){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends aE{constructor(e,n,s,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Li(d.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=(function(u,d){let p;const g=d.target;if(p=Qm(g)?{documents:SN(u,g)}:{query:W1(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=K1(u,d.resumeToken);const y=$m(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=wh(u,d.snapshotVersion.toTimestamp());const y=$m(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=RN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.q_(n)}}class yR extends aE{constructor(e,n,s,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wN(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>TN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{}class _R extends vR{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Xm(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Xm(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class ER{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{da(this)&&(ce(la,"Restarting streams for network reachability change."),await(async function(g){const y=xe(g);y.Ea.add(4),await du(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ed(y)})(this))}))})),this.Ra=new bR(s,l)}}async function ed(r){if(da(r))for(const e of r.da)await e(!0)}async function du(r){for(const e of r.da)await e(!1)}function lE(r,e){const n=xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bp(n)?zp(n):Cl(n).O_()&&Up(n,e))}function Pp(r,e){const n=xe(r),s=Cl(n);n.Ia.delete(e),s.O_()&&oE(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function Up(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(r).Y_(e)}function oE(r,e){r.Va.Ue(e),Cl(r).Z_(e)}function zp(r){r.Va=new pN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Cl(r).start(),r.Ra.ua()}function Bp(r){return da(r)&&!Cl(r).x_()&&r.Ia.size>0}function da(r){return xe(r).Ea.size===0}function uE(r){r.Va=void 0}async function xR(r){r.Ra.set("Online")}async function TR(r){r.Ia.forEach(((e,n)=>{Up(r,e)}))}async function wR(r,e){uE(r),Bp(r)?(r.Ra.ha(e),zp(r)):r.Ra.set("Unknown")}async function SR(r,e,n){if(r.Ra.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(s){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof oh?r.Va.Ze(e):e instanceof G1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await rE(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),oE(u,g);const x=new ss(E.target,g,y,E.sequenceNumber);Up(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ce(la,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!Nl(e))throw e;r.Ea.add(1),await du(r),r.Ra.set("Offline"),n||(n=()=>rE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(la,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ed(r)}))}function cE(r,e){return e().catch((n=>Ah(r,n,e)))}async function td(r){const e=xe(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;AR(e);)try{const l=await lR(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,NR(e,l)}catch(l){await Ah(e,l)}hE(e)&&dE(e)}function AR(r){return da(r)&&r.Ta.length<10}function NR(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function hE(r){return da(r)&&!ps(r).x_()&&r.Ta.length>0}function dE(r){ps(r).start()}async function RR(r){ps(r).ra()}async function CR(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function IR(r,e,n){const s=r.Ta.shift(),l=Dp.from(s,e,n);await cE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await td(r)}async function DR(r,e){e&&ps(r).X_&&await(async function(s,l){if((function(d){return dN(d)&&d!==J.ABORTED})(l.code)){const u=s.Ta.shift();ps(s).B_(),await cE(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await td(s)}})(r,e),hE(r)&&dE(r)}async function G_(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ed(n)}async function jR(r,e){const n=xe(r);e?(n.Ea.delete(2),await ed(n)):e||(n.Ea.add(2),await du(n),n.Ra.set("Unknown"))}function Cl(r){return r.ma||(r.ma=(function(n,s,l){const u=xe(n);return u.sa(),new gR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xR.bind(null,r),t_:TR.bind(null,r),r_:wR.bind(null,r),H_:SR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Bp(r)?zp(r):r.Ra.set("Unknown")):(await r.ma.stop(),uE(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,l){const u=xe(n);return u.sa(),new yR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,r),r_:DR.bind(null,r),ta:CR.bind(null,r),na:IR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await td(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const d=Date.now()+s,p=new qp(e,n,d,l,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(vr("AsyncQueue",`${e}: ${r}`),Nl(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=zo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _l{constructor(e,n,s,l,u,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new _l(e,n,ul.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MR{constructor(){this.queries=K_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=xe(n),u=l.queries;l.queries=K_(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function K_(){return new ha((r=>D1(r)),Yh)}async function fE(r,e){const n=xe(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new OR,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Fp(d,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function mE(r,e){const n=xe(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function VR(r,e){const n=xe(r);let s=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Hp(n)}function kR(r,e,n){const s=xe(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var tp,Y_;(Y_=tp||(tp={})).Ma="default",Y_.Cache="cache";class pE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new _l(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.key=e}}class yE{constructor(e){this.key=e}}class LR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=j1(e),this.tu=new ul(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Q_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,x)=>{const S=l.get(E),V=$h(this.query,x)?x:null,G=!!S&&this.mutatedKeys.has(S.key),B=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let P=!1;S&&V?S.data.isEqual(V.data)?G!==B&&(s.track({type:3,doc:V}),P=!0):this.su(S,V)||(s.track({type:2,doc:V}),P=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(p=!0)):!S&&V?(s.track({type:0,doc:V}),P=!0):S&&!V&&(s.track({type:1,doc:S}),P=!0,(g||y)&&(p=!0)),P&&(V?(d=d.add(V),u=B?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,x)=>(function(V,G){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:P})}};return B(V)-B(G)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new _l(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yE(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new gE(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gp="SyncEngine";class PR{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UR{constructor(e){this.key=e,this.hu=!1}}class zR{constructor(e,n,s,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((p=>D1(p)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BR(r,e,n=!0){const s=TE(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await vE(s,e,n,!0),l}async function qR(r,e){const n=TE(r);await vE(n,e,!0,!1)}async function vE(r,e,n,s){const l=await oR(r.localStore,ki(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await FR(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&lE(r.remoteStore,l),p}async function FR(r,e,n,s,l){r.pu=(x,S,V)=>(async function(B,P,W,ne){let ie=P.view.ru(W);ie.Cs&&(ie=await z_(B.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,ie))));const ae=ne&&ne.targetChanges.get(P.targetId),ge=ne&&ne.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(ie,B.isPrimaryClient,ae,ge);return X_(B,P.targetId,re.au),re.snapshot})(r,x,S,V);const u=await z_(r.localStore,e,!0),d=new LR(e,u.Qs),p=d.ru(u.documents),g=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,g);X_(r,n,y.au);const E=new PR(e,n,d);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function HR(r,e,n){const s=xe(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Yh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Zm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Pp(s.remoteStore,l.targetId),np(s,l.targetId)})).catch(Al)):(np(s,l.targetId),await Zm(s.localStore,l.targetId,!0))}async function GR(r,e){const n=xe(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function QR(r,e,n){const s=ZR(r);try{const l=await(function(d,p){const g=xe(d),y=rt.now(),E=p.reduce(((V,G)=>V.add(G.key)),Ve());let x,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=_r(),B=Ve();return g.Ns.getEntries(V,E).next((P=>{G=P,G.forEach(((W,ne)=>{ne.isValidDocument()||(B=B.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,G))).next((P=>{x=P;const W=[];for(const ne of p){const ie=aN(ne,x.get(ne.key).overlayedDocument);ie!=null&&W.push(new _s(ne.key,ie,x1(ie.value.mapValue),ri.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,W,p)})).next((P=>{S=P;const W=P.applyToLocalDocumentSet(x,B);return g.documentOverlayCache.saveOverlays(V,P.batchId,W)}))})).then((()=>({batchId:S.batchId,changes:M1(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ut(Me)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,l.batchId,n),await fu(s,l.changes),await td(s.remoteStore)}catch(l){const u=Fp(l,"Failed to persist write");n.reject(u)}}async function _E(r,e){const n=xe(r);try{const s=await sR(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ge(d.hu,14607):l.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))})),await fu(n,s,e)}catch(s){await Al(s)}}function $_(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=xe(d);g.onlineState=p;let y=!1;g.queries.forEach(((E,x)=>{for(const S of x.Sa)S.va(p)&&(y=!0)})),y&&Hp(g)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KR(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let d=new ut(pe.comparator);d=d.insert(u,en.newNoDocument(u,Te.min()));const p=Ve().add(u),g=new Jh(Te.min(),new Map,new ut(Me),d,p);await _E(s,g),s.du=s.du.remove(u),s.Au.delete(e),Qp(s)}else await Zm(s.localStore,e,!1).then((()=>np(s,e,n))).catch(Al)}async function YR(r,e){const n=xe(r),s=e.batch.batchId;try{const l=await rR(n.localStore,e);EE(n,s,null),bE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,l)}catch(l){await Al(l)}}async function $R(r,e,n){const s=xe(r);try{const l=await(function(d,p){const g=xe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Ge(x!==null,37113),E=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);EE(s,e,n),bE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,l)}catch(l){await Al(l)}}function bE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function EE(r,e,n){const s=xe(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||xE(r,s)}))}function xE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Pp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Qp(r))}function X_(r,e,n){for(const s of n)s instanceof gE?(r.Ru.addReference(s.key,e),XR(r,s)):s instanceof yE?(ce(Gp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||xE(r,s.key)):_e(19791,{wu:s})}function XR(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(Gp,"New document in limbo: "+n),r.Eu.add(s),Qp(r))}function Qp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new UR(n)),r.du=r.du.insert(n,s),lE(r.remoteStore,new ss(ki(Cp(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function fu(r,e,n){const s=xe(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=kp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(g,y){const E=xe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>te.forEach(y,(S=>te.forEach(S.Es,(V=>E.persistence.referenceDelegate.addReference(x,S.targetId,V))).next((()=>te.forEach(S.ds,(V=>E.persistence.referenceDelegate.removeReference(x,S.targetId,V)))))))))}catch(x){if(!Nl(x))throw x;ce(Lp,"Failed to update sequence numbers: "+x)}for(const x of y){const S=x.targetId;if(!x.fromCache){const V=E.Ms.get(S),G=V.snapshotVersion,B=V.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,B)}}})(s.localStore,u))}async function WR(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){ce(Gp,"User change. New user:",e.toKey());const s=await iE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue(J.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function JR(r,e){const n=xe(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let l=Ve();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function TE(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KR.bind(null,e),e.Pu.H_=VR.bind(null,e.eventManager),e.Pu.yu=kR.bind(null,e.eventManager),e}function ZR(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iR(this.persistence,new eR,e.initialUser,this.serializer)}Cu(e){return new nE(Vp.mi,this.serializer)}Du(e){return new cR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class eC extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new nE((s=>Sh.mi(s,n)),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await jR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=(function(u){return new pR(u)})(e.databaseInfo);return(function(u,d,p,g){return new _R(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,d,p){return new ER(s,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>$_(this.syncEngine,n,0)),(function(){return F_.v()?new F_:new hR})())}createSyncEngine(e,n){return(function(l,u,d,p,g,y,E){const x=new zR(l,u,d,p,g,y);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);ce(la,"RemoteStore shutting down."),s.Ea.add(5),await du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class tC{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ce(gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ce(gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Cm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await iE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function W_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nC(r);ce(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>G_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>G_(e.remoteStore,l))),r._onlineComponents=e}async function nC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(gs,"Using user provided OfflineComponentProvider");try{await Cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Cm(r,new Nh)}}else ce(gs,"Using default OfflineComponentProvider"),await Cm(r,new eC(void 0));return r._offlineComponents}async function Kp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(gs,"Using user provided OnlineComponentProvider"),await W_(r,r._uninitializedComponentsProvider._online)):(ce(gs,"Using default OnlineComponentProvider"),await W_(r,new ip))),r._onlineComponents}function iC(r){return Kp(r).then((e=>e.syncEngine))}function rC(r){return Kp(r).then((e=>e.datastore))}async function SE(r){const e=await Kp(r),n=e.eventManager;return n.onListen=BR.bind(null,e.syncEngine),n.onUnlisten=HR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GR.bind(null,e.syncEngine),n}function sC(r,e,n={}){const s=new Vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const E=new wE({next:S=>{E.Nu(),d.enqueueAndForget((()=>mE(u,x)));const V=S.docs.has(p);!V&&S.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&g&&g.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),x=new pE(Cp(p.path),E,{includeMetadataChanges:!0,qa:!0});return fE(u,x)})(await SE(r),r.asyncQueue,e,n,s))),s.promise}function aC(r,e,n={}){const s=new Vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const E=new wE({next:S=>{E.Nu(),d.enqueueAndForget((()=>mE(u,x))),S.fromCache&&g.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),x=new pE(p,E,{includeMetadataChanges:!0,qa:!0});return fE(u,x)})(await SE(r),r.asyncQueue,e,n,s))),s.promise}function lC(r,e,n){const s=new Vi;return r.asyncQueue.enqueueAndForget((async()=>{try{const l=await rC(r);s.resolve((async function(d,p,g){const y=xe(d),{request:E,gt:x,parent:S}=AN(y.serializer,QA(p),g);y.connection.$o||delete E.parent;const V=(await y.Ho("RunAggregationQuery",y.serializer.databaseId,S,E,1)).filter((B=>!!B.result));Ge(V.length===1,64727);const G=V[0].result?.aggregateFields;return Object.keys(G).reduce(((B,P)=>(B[x[P]]=G[P],B)),{})})(l,e,n))}catch(l){s.reject(l)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firestore.googleapis.com",Z_=!0;class eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=Z_}else this.host=e.host,this.ssl=e.ssl??Z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LN)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uA;switch(s.type){case"firstParty":return new fA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=J_.get(n);s&&(ce("ComponentProvider","Removing Datastore"),J_.delete(n),s.terminate())})(this),Promise.resolve()}}function oC(r,e,n,s={}){r=li(r,nd);const l=ua(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;l&&(yp(`https://${p}`),vp("Firestore",!0)),u.host!==NE&&u.host!==p&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:s};if(!ra(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=Wb(s.mockUserToken,r._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(x)}r._authCredentials=new cA(new c1(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(uu(n,yt._jsonSchema))return new yt(e,s||null,new pe(tt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Ct("string",yt._jsonSchemaVersion),referencePath:Ct("string")};class us extends fa{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new pe(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function bl(r,e,...n){if(r=Bt(r),h1("collection","path",e),r instanceof nd){const s=tt.fromString(e,...n);return f_(s),new us(r,null,s)}{if(!(r instanceof yt||r instanceof us))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return f_(s),new us(r.firestore,null,s)}}function Sn(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=Tp.newId()),h1("doc","path",e),r instanceof nd){const s=tt.fromString(e,...n);return d_(s),new yt(r,null,new pe(s))}{if(!(r instanceof yt||r instanceof us))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return d_(s),new yt(r.firestore,r instanceof us?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="AsyncQueue";class nb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sE(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&ce(tb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;ce(tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",ib(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ib(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ma extends nd{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new nb,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nb(e),this._firestoreClient=void 0,await e}}}function uC(r,e){const n=typeof r=="object"?r:Ep(),s=typeof r=="string"?r:_h,l=Fh(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Yb("firestore");u&&oC(l,...u)}return l}function id(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cC(r),r._firestoreClient}function cC(r){const e=r._freezeSettings(),n=(function(l,u,d,p){return new DA(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class dC{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ct("string",zn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(uu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ct("string",Pi._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Ct("string",Ui._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=/^__.*__$/;class mC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class RE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class $p{constructor(e,n,s,l,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CE(this.Ac)&&fC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}Cc(e,n,s,l=!1){return new $p({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new pC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function IE(r,e,n,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Xp("Data must be an object, but it was:",d,s);const p=DE(s,d);let g,y;if(u.merge)g=new wn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const x of u.mergeFields){const S=rp(e,x,n);if(!d.contains(S))throw new ue(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);OE(E,S)||E.push(S)}g=new wn(E),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new mC(new mn(p),g,y)}class ad extends Yp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}function gC(r,e,n,s){const l=r.Cc(1,e,n);Xp("Data must be an object, but it was:",l,s);const u=[],d=mn.empty();vs(s,((g,y)=>{const E=Wp(e,g,n);y=Bt(y);const x=l.yc(E);if(y instanceof ad)u.push(E);else{const S=mu(y,x);S!=null&&(u.push(E),d.set(E,S))}}));const p=new wn(u);return new RE(d,p,l.fieldTransforms)}function yC(r,e,n,s,l,u){const d=r.Cc(1,e,n),p=[rp(e,s,n)],g=[l];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(rp(e,u[S])),g.push(u[S+1]);const y=[],E=mn.empty();for(let S=p.length-1;S>=0;--S)if(!OE(y,p[S])){const V=p[S];let G=g[S];G=Bt(G);const B=d.yc(V);if(G instanceof ad)y.push(V);else{const P=mu(G,B);P!=null&&(y.push(V),E.set(V,P))}}const x=new wn(y);return new RE(E,x,d.fieldTransforms)}function vC(r,e,n,s=!1){return mu(n,r.Cc(s?4:3,e))}function mu(r,e){if(jE(r=Bt(r)))return Xp("Unsupported field value:",e,r),DE(r,e);if(r instanceof Yp)return(function(s,l){if(!CE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let g=mu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eN(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:wh(l.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(l.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:K1(l.serializer,s._byteString)};if(s instanceof yt){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ui)return(function(d,p){return{mapValue:{fields:{[b1]:{stringValue:E1},[bh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ip(p.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Hh(s)}`)})(r,e)}function DE(r,e){const n={};return m1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,l)=>{const u=mu(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function jE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Pi||r instanceof zn||r instanceof yt||r instanceof Yp||r instanceof Ui)}function Xp(r,e,n){if(!jE(n)||!d1(n)){const s=Hh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function rp(r,e,n){if((e=Bt(e))instanceof rd)return e._internalPath;if(typeof e=="string")return Wp(r,e);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const _C=new RegExp("[~\\*/\\[\\]]");function Wp(r,e,n){if(e.search(_C)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rd(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rh(r,e,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${l}`),g+=")"),new ue(J.INVALID_ARGUMENT,p+r+g)}function OE(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ld("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bC extends ME{data(){return super.data()}}function ld(r,e){return typeof e=="string"?Wp(r,e):e instanceof rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class VE extends Jp{}function Ch(r,e,...n){let s=[];e instanceof Jp&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((g=>g instanceof Zp)).length,p=u.filter((g=>g instanceof od)).length;if(d>1||d>0&&p>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class od extends VE{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new od(e,n,s)}_apply(e){const n=this._parse(e);return kE(e._query,n),new fa(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=sd(e.firestore);return(function(u,d,p,g,y,E,x){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ab(x,E);const G=[];for(const B of x)G.push(sb(g,u,B));S={arrayValue:{values:G}}}else S=sb(g,u,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ab(x,E),S=vC(p,d,x,E==="in"||E==="not-in");return Rt.create(y,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uh(r,e,n){const s=e,l=ld("where",r);return od._create(l,s,n)}class Zp extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)kE(d,g),d=Km(d,g)})(e._query,n),new fa(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends VE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,d)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Rl(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function rb(r,e="asc"){const n=e,s=ld("orderBy",r);return eg._create(s,n)}function sb(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return E_(r,new pe(s))}if(n instanceof yt)return E_(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function ab(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kE(r,e){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xC{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[bh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new Pi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=ds(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(eE(s),9688,{name:e});const l=new Zo(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return l.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}function TC(){return new hC("count")}class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends ME{constructor(e,n,s,l,u,d){super(e,n,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ld("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Ct("string",ea._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class ch extends ea{data(e={}){return super.data(e)}}class cl{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new qo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new qo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new ch(l._firestore,l._userDataWriter,p.doc.key,p.doc,new qo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ch(l._firestore,l._userDataWriter,p.doc.key,p.doc,new qo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:wC(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r){r=li(r,yt);const e=li(r.firestore,ma);return sC(id(e),r._key).then((n=>NC(e,r,n)))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:Ct("string",cl._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class tg extends xC{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Ih(r){r=li(r,fa);const e=li(r.firestore,ma),n=id(e),s=new tg(e);return EC(r._query),aC(n,r._query).then((l=>new cl(e,s,r,l)))}function ud(r,e,n){r=li(r,yt);const s=li(r.firestore,ma),l=LE(r.converter,e,n);return ng(s,[IE(sd(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ri.none())])}function SC(r,e,n,...s){r=li(r,yt);const l=li(r.firestore,ma),u=sd(l);let d;return d=typeof(e=Bt(e))=="string"||e instanceof rd?yC(u,"updateDoc",r._key,e,n,s):gC(u,"updateDoc",r._key,e),ng(l,[d.toMutation(r._key,ri.exists(!0))])}function AC(r,e){const n=li(r.firestore,ma),s=Sn(r),l=LE(r.converter,e);return ng(n,[IE(sd(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function ng(r,e){return(function(s,l){const u=new Vi;return s.asyncQueue.enqueueAndForget((async()=>QR(await iC(s),l,u))),u.promise})(id(r),e)}function NC(r,e,n){const s=n.docs.get(e._key),l=new tg(r);return new ea(r,l,e._key,s,new qo(n.hasPendingWrites,n.fromCache),e.converter)}function RC(r){return CC(r,{count:TC()})}function CC(r,e){const n=li(r.firestore,ma),s=id(n),l=CA(e,((u,d)=>new cN(d,u.aggregateType,u._internalFieldPath)));return lC(s,r._query,l).then((u=>(function(p,g,y){const E=new tg(p);return new dC(g,E,y)})(n,r,u)))}(function(e,n=!0){(function(l){Sl=l})(ca),sa(new cs("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new ma(new hA(s.getProvider("auth-internal")),new mA(d,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(y.options.projectId,E)})(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Mi(o_,u_,e),Mi(o_,u_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebasestorage.googleapis.com",IC="storageBucket",DC=120*1e3,jC=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Hi{constructor(e,n,s=0){super(Im(e),`Firebase Storage: ${n} (${Im(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qi||(qi={}));function Im(r){return"storage/"+r}function OC(){const r="An unknown error occurred, please check the error payload for server response.";return new Gi(qi.UNKNOWN,r)}function MC(){return new Gi(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VC(){return new Gi(qi.CANCELED,"User canceled the upload/download.")}function kC(r){return new Gi(qi.INVALID_URL,"Invalid URL '"+r+"'.")}function LC(r){return new Gi(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function lb(r){return new Gi(qi.INVALID_ARGUMENT,r)}function UE(){return new Gi(qi.APP_DELETED,"The Firebase app was deleted.")}function PC(r){return new Gi(qi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(s.path==="")return s;throw LC(e)}static makeFromUrl(e,n){let s=null;const l="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),g={bucket:1,path:3};function y(ae){ae.path_=decodeURIComponent(ae.path)}const E="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",V=new RegExp(`^https?://${x}/${E}/b/${l}/o${S}`,"i"),G={bucket:1,path:3},B=n===PE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",W=new RegExp(`^https?://${B}/${l}/${P}`,"i"),ie=[{regex:p,indices:g,postModify:u},{regex:V,indices:G,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let ae=0;ae<ie.length;ae++){const ge=ie[ae],re=ge.regex.exec(e);if(re){const N=re[ge.indices.bucket];let A=re[ge.indices.path];A||(A=""),s=new ni(N,A),ge.postModify(s);break}}if(s==null)throw kC(e);return s}}class UC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r,e,n){let s=1,l=null,u=null,d=!1,p=0;function g(){return p===2}let y=!1;function E(...P){y||(y=!0,e.apply(null,P))}function x(P){l=setTimeout(()=>{l=null,r(V,g())},P)}function S(){u&&clearTimeout(u)}function V(P,...W){if(y){S();return}if(P){S(),E.call(null,P,...W);return}if(g()||d){S(),E.call(null,P,...W);return}s<64&&(s*=2);let ie;p===1?(p=2,ie=0):ie=(s+Math.random())*1e3,x(ie)}let G=!1;function B(P){G||(G=!0,S(),!y&&(l!==null?(P||(p=2),clearTimeout(l),x(0)):P||(p=1)))}return x(0),u=setTimeout(()=>{d=!0,B(!0)},n),B}function BC(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){return r!==void 0}function ob(r,e,n,s){if(s<e)throw lb(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw lb(`Invalid value for '${r}'. Expected ${n} or less.`)}function FC(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const l=e(s)+"="+e(r[s]);n=n+l+"&"}return n=n.slice(0,-1),n}var Dh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Dh||(Dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r,e){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,s,l,u,d,p,g,y,E,x,S=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=x,this.retry=S,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,B)=>{this.resolve_=G,this.reject_=B,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new Zc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Dh.NO_ERROR,g=u.getStatus();if(!p||HC(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Dh.ABORT;s(!1,new Zc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Zc(y,u))})},n=(s,l)=>{const u=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());qC(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=OC();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(l.canceled){const g=this.appDelete_?UE():VC();d(g)}else{const g=MC();d(g)}};this.canceled_?n(!1,new Zc(!1,null,!0)):this.backoffId_=zC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function QC(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function KC(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YC(r,e){e&&(r["X-Firebase-GMPID"]=e)}function $C(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function XC(r,e,n,s,l,u,d=!0,p=!1){const g=FC(r.urlParams),y=r.url+g,E=Object.assign({},r.headers);return YC(E,e),QC(E,n),KC(E,u),$C(E,s),new GC(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function JC(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jh(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JC(this._location.path)}get storage(){return this._service}get parent(){const e=WC(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new jh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PC(e)}}function ub(r,e){const n=e?.[IC];return n==null?null:ni.makeFromBucketSpec(n,r)}function ZC(r,e,n,s={}){r.host=`${e}:${n}`;const l=ua(e);l&&(yp(`https://${r.host}/b`),vp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:Wb(u,r.app.options.projectId))}class e4{constructor(e,n,s,l,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=PE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DC,this._maxUploadRetryTime=jC,this._requests=new Set,l!=null?this._bucket=ni.makeFromBucketSpec(l,this._host):this._bucket=ub(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=ub(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ob("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ob("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jh(this,e)}_makeRequest(e,n,s,l,u=!0){if(this._deleted)return new UC(UE());{const d=XC(e,this._appId,s,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,l).getPromise()}}const cb="@firebase/storage",hb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="storage";function t4(r=Ep(),e){r=Bt(r);const s=Fh(r,zE).getImmediate({identifier:e}),l=Yb("storage");return l&&n4(s,...l),s}function n4(r,e,n,s={}){ZC(r,e,n,s)}function i4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new e4(n,s,l,e,ca)}function r4(){sa(new cs(zE,i4,"PUBLIC").setMultipleInstances(!0)),Mi(cb,hb,""),Mi(cb,hb,"esm2020")}r4();function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s4=BE,qE=new lu("auth","Firebase",BE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new _p("@firebase/auth");function a4(r,...e){Oh.logLevel<=Oe.WARN&&Oh.warn(`Auth (${ca}): ${r}`,...e)}function hh(r,...e){Oh.logLevel<=Oe.ERROR&&Oh.error(`Auth (${ca}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r,...e){throw rg(r,...e)}function si(r,...e){return rg(r,...e)}function ig(r,e,n){const s={...s4(),[e]:n};return new lu("auth","Firebase",s).create(e,{appName:r.name})}function ta(r){return ig(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l4(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Fi(r,"argument-error"),ig(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return qE.create(r,...e)}function be(r,e,...n){if(!r)throw rg(e,...n)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function br(r,e){r||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof self<"u"&&self.location?.href||""}function o4(){return db()==="http:"||db()==="https:"}function db(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o4()||zw()||"connection"in navigator)?navigator.onLine:!0}function c4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=Lw()||Bw()}get(){return u4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r,e){br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f4=new pu(3e4,6e4);function ag(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Il(r,e,n,s,l={}){return HE(r,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=ou({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Uw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ua(r.emulatorConfig.host)&&(y.credentials="include"),FE.fetch()(await GE(r,r.config.apiHost,n,p),y)})}async function HE(r,e,n){r._canInitEmulator=!1;const s={...h4,...e};try{const l=new p4(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw eh(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw eh(r,"user-disabled",d);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ig(r,E,y);Fi(r,E)}}catch(l){if(l instanceof Hi)throw l;Fi(r,"network-request-failed",{message:String(l)})}}async function m4(r,e,n,s,l={}){const u=await Il(r,e,n,s,l);return"mfaPendingCredential"in u&&Fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function GE(r,e,n,s){const l=`${e}${n}?${s}`,u=r,d=u.config.emulator?sg(r.config,l):`${r.config.apiScheme}://${l}`;return d4.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class p4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),f4.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=si(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(r,e){return Il(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return Il(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y4(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),l=lg(s);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:Yo(Dm(l.auth_time)),issuedAtTime:Yo(Dm(l.iat)),expirationTime:Yo(Dm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(r){return Number(r)*1e3}function lg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Qb(n);return l?JSON.parse(l):(hh("Failed to decode base64 JWT payload"),null)}catch(l){return hh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function fb(r){const e=lg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&v4(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function v4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(r){const e=r.auth,n=await r.getIdToken(),s=await ru(r,Mh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?QE(l.providerUserInfo):[],d=E4(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,y=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ap(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function b4(r){const e=Bt(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E4(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function QE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(r,e){const n=await HE(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await GE(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&ua(r.emulatorConfig.host)&&(g.credentials="include"),FE.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T4(r,e){return Il(r,"POST","/v2/accounts:revokeToken",ag(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=fb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await x4(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new hl;return s&&(be(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new _4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ap(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y4(this,e)}reload(){return b4(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await ru(this,g4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:x,emailVerified:S,isAnonymous:V,providerData:G,stsTokenManager:B}=n;be(x&&B,e,"internal-error");const P=hl.fromJSON(this.name,B);be(typeof x=="string",e,"internal-error"),es(s,e.name),es(l,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof V=="boolean",e,"internal-error"),es(u,e.name),es(d,e.name),es(p,e.name),es(g,e.name),es(y,e.name),es(E,e.name);const W=new ii({uid:x,auth:e,email:l,emailVerified:S,displayName:s,isAnonymous:V,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:P,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(W.providerData=G.map(ne=>({...ne}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(e,n,s=!1){const l=new hl;l.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];be(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?QE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new hl;p.updateFromIdToken(s);const g=new ii({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ap(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new Map;function fr(r){br(r instanceof Function,"Expected a class definition");let e=mb.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KE.type="NONE";const pb=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class dl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=dh(this.userKey,l.apiKey,u),this.fullPersistenceKey=dh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new dl(fr(pb),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||fr(pb);const d=dh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const E=await y._get(d);if(E){let x;if(typeof E=="string"){const S=await Mh(e,{idToken:E}).catch(()=>{});if(!S)break;x=await ii._fromGetAccountInfoResponse(e,S,E)}else x=ii._fromJSON(e,E);y!==u&&(p=x),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new dl(u,e,s):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new dl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZE(e))return"Blackberry";if(ex(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||XE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function YE(r=tn()){return/firefox\//i.test(r)}function $E(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XE(r=tn()){return/crios\//i.test(r)}function WE(r=tn()){return/iemobile/i.test(r)}function JE(r=tn()){return/android/i.test(r)}function ZE(r=tn()){return/blackberry/i.test(r)}function ex(r=tn()){return/webos/i.test(r)}function og(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function w4(r=tn()){return og(r)&&!!window.navigator?.standalone}function S4(){return qw()&&document.documentMode===10}function tx(r=tn()){return og(r)||JE(r)||ex(r)||ZE(r)||/windows phone/i.test(r)||WE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r,e=[]){let n;switch(r){case"Browser":n=gb(tn());break;case"Worker":n=`${gb(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(r,e={}){return Il(r,"GET","/v2/passwordPolicy",ag(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=6;class C4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new A4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ta(this));const n=e?Bt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N4(this),n=new C4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await T4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&a4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cd(r){return Bt(r)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xw(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D4(r){ug=r}function j4(r){return ug.loadJS(r)}function O4(){return ug.gapiScript}function M4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(r,e){const n=Fh(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return l;Fi(l,"already-initialized")}return n.initialize({options:e})}function k4(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function L4(r,e,n){const s=cd(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=ix(e),{host:d,port:p}=P4(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},E=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ra(y,s.config.emulator)&&ra(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ua(d)?(yp(`${u}//${d}${g}`),vp("Auth",!0)):U4()}function ix(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function P4(r){const e=ix(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:vb(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:vb(d)}}}function vb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function U4(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(r,e){return m4(r,"POST","/v1/accounts:signInWithIdp",ag(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="http://localhost";class oa extends rx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new oa(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:z4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends gu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends gu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends gu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ii._fromIdTokenResponse(e,s,l),d=_b(s);return new El({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=_b(s);return new El({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function _b(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Hi{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new kh(e,n,s,l)}}function sx(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(r,u,e,s):u})}async function B4(r,e,n=!1){const s=await ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return El._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(ta(s));const l="reauthenticate";try{const u=await ru(r,sx(s,l,e,r),n);be(u.idToken,s,"internal-error");const d=lg(u.idToken);be(d,s,"internal-error");const{sub:p}=d;return be(r.uid===p,s,"user-mismatch"),El._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Fi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(r,e,n=!1){if(Un(r.app))return Promise.reject(ta(r));const s="signIn",l=await sx(r,s,e),u=await El._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function H4(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function G4(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function Q4(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function K4(r){return Bt(r).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1e3,$4=10;class lx extends ax{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);S4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$4):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lx.type="LOCAL";const X4=lx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends ax{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ox.type="SESSION";const ux=ox;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new hd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),g=await W4(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=hg("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(x){const S=x;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function Z4(r){zi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){return navigator?.serviceWorker?.controller||null}function nI(){return cx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="firebaseLocalStorageDb",iI=1,Ph="firebaseLocalStorage",dx="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function rI(){const r=indexedDB.deleteDatabase(hx);return new yu(r).toPromise()}function lp(){const r=indexedDB.open(hx,iI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ph,{keyPath:dx})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await rI(),e(await lp()))})})}async function bb(r,e,n){const s=dd(r,!0).put({[dx]:e,value:n});return new yu(s).toPromise()}async function sI(r,e){const n=dd(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function Eb(r,e){const n=dd(r,!0).delete(e);return new yu(n).toPromise()}const aI=800,lI=3;class fx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(nI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await bb(e,Lh,"1"),await Eb(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Eb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=dd(l,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fx.type="LOCAL";const oI=fx;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r,e){return e?fr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends rx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uI(r){return F4(r.auth,new dg(r),r.bypassAuthState)}function cI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),q4(n,new dg(r),r.bypassAuthState)}async function hI(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),B4(n,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uI;case"linkViaPopup":case"linkViaRedirect":return hI;case"reauthViaPopup":case"reauthViaRedirect":return cI;default:Fi(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new pu(2e3,1e4);async function fI(r,e,n){if(Un(r.app))return Promise.reject(si(r,"operation-not-supported-in-this-environment"));const s=cd(r);l4(r,e,cg);const l=mx(s,n);return new Zs(s,"signInViaPopup",e,l).executeNotNull()}class Zs extends px{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dI.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="pendingRedirect",fh=new Map;class pI extends px{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await gI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gI(r,e){const n=_I(e),s=vI(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function yI(r,e){fh.set(r._key(),e)}function vI(r){return fr(r._redirectPersistence)}function _I(r){return dh(mI,r.config.apiKey,r.name)}async function bI(r,e,n=!1){if(Un(r.app))return Promise.reject(ta(r));const s=cd(r),l=mx(s,e),d=await new pI(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=600*1e3;class xI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EI&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function TI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gx(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,e={}){return Il(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function NI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await wI(r);for(const n of e)try{if(RI(n))return}catch{}Fi(r,"unauthorized-domain")}function RI(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!AI.test(n))return!1;if(SI.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new pu(3e4,6e4);function Tb(){const r=zi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function II(r){return new Promise((e,n)=>{function s(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),n(si(r,"network-request-failed"))},timeout:CI.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)s();else{const l=M4("iframefcb");return zi()[l]=()=>{gapi.load?s():n(si(r,"network-request-failed"))},j4(`${O4()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function DI(r){return mh=mh||II(r),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new pu(5e3,15e3),OI="__/auth/iframe",MI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sg(e,MI):`https://${r.config.authDomain}/${OI}`,s={apiKey:e.apiKey,appName:r.name,v:ca},l=kI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function PI(r){const e=await DI(r),n=zi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:LI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=si(r,"network-request-failed"),p=zi().setTimeout(()=>{u(d)},jI.get());function g(){zi().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,BI=600,qI="_blank",FI="http://localhost";class wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,e,n,s=zI,l=BI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...UI,width:s.toString(),height:l.toString(),top:u,left:d},y=tn().toLowerCase();n&&(p=XE(y)?qI:n),YE(y)&&(e=e||FI,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[V,G])=>`${S}${V}=${G},`,"");if(w4(y)&&p!=="_self")return GI(e||"",p),new wb(null);const x=window.open(e||"",p,E);be(x,r,"popup-blocked");try{x.focus()}catch{}return new wb(x)}function GI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="__/auth/handler",KI="emulator/auth/handler",YI=encodeURIComponent("fac");async function Sb(r,e,n,s,l,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ca,eventId:l};if(e instanceof cg){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",$w(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))d[E]=x}if(e instanceof gu){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${YI}=${encodeURIComponent(g)}`:"";return`${$I(r)}?${ou(p).slice(1)}${y}`}function $I({config:r}){return r.emulator?sg(r,KI):`https://${r.authDomain}/${QI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class XI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ux,this._completeRedirectFn=bI,this._overrideRedirectResult=yI}async _openPopup(e,n,s,l){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Sb(e,n,s,sp(),l);return HI(e,u,hg())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await Sb(e,n,s,sp(),l);return Z4(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await PI(e),s=new xI(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},l=>{const u=l?.[0]?.[jm];u!==void 0&&n(!!u),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tx()||$E()||og()}}const WI=XI;var Ab="@firebase/auth",Nb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e3(r){sa(new cs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(r)},y=new I4(s,l,u,g);return k4(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),sa(new cs("auth-internal",e=>{const n=cd(e.getProvider("auth").getImmediate());return(s=>new JI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(Ab,Nb,ZI(r)),Mi(Ab,Nb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=300,n3=Xb("authIdTokenMaxAge")||t3;let Rb=null;const i3=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>n3)return;const l=n?.token;Rb!==l&&(Rb=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function r3(r=Ep()){const e=Fh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=V4(r,{popupRedirectResolver:WI,persistence:[oI,X4,ux]}),s=Xb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=i3(u.toString());G4(n,d,()=>d(n.currentUser)),H4(n,p=>d(p))}}const l=Kb("auth");return l&&L4(n,`http://${l}`),n}function s3(){return document.getElementsByTagName("head")?.[0]??document}D4({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=si("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",s3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e3("Browser");const a3={apiKey:"AIzaSyDJf6Rh33Bqtp8o3-B5WGomLn6A7WwdQyM",authDomain:"nymph-academy.firebaseapp.com",projectId:"nymph-academy",storageBucket:"nymph-academy.firebasestorage.app",messagingSenderId:"512174893453",appId:"1:512174893453:web:38d0c7a40f72191bfc35c4",measurementId:"G-VEZ86H618Y"},fg=e1(a3),zt=uC(fg);t4(fg);const mg=r3(fg),l3=new hr,o3=async()=>{try{const e=(await fI(mg,l3)).user,n=Sn(zt,"users",e.uid);return(await ti(n)).exists()||await ud(n,{uid:e.uid,name:e.displayName,email:e.email,photoURL:e.photoURL,isAdmin:!1,createdAt:new Date}),e}catch(r){throw console.error("Error signing in with Google: ",r),r}},u3=()=>K4(mg),c3=async r=>{if(!r)return!1;try{const e=Sn(zt,"users",r),n=await ti(e);return n.exists()?n.data().isAdmin===!0:!1}catch(e){return console.error("Error checking admin status: ",e),!1}},h3=async()=>{const r=Sn(zt,"settings","website");(await ti(r)).exists()||await ud(r,{paymentQRUrl:"",paymentPrice:"1000",logoUrl:"",updatedAt:new Date})};h3().catch(console.error);const yx=z.createContext(),d3=({children:r})=>{const[e,n]=z.useState(null),[s,l]=z.useState(!1),[u,d]=z.useState(!0);z.useEffect(()=>{const E=Q4(mg,async x=>{if(n(x),x){const S=await c3(x.uid);l(S)}else l(!1);d(!1)});return()=>E()},[]);const y={currentUser:e,isAdmin:s,loading:u,signIn:async()=>{try{await o3()}catch(E){throw console.error("Error during sign in:",E),E}},signOut:async()=>{try{await u3(),n(null),l(!1)}catch(E){throw console.error("Error during sign out:",E),E}}};return m.jsx(yx.Provider,{value:y,children:!u&&r})},pa=()=>z.useContext(yx),na=()=>{const{currentUser:r,isAdmin:e,signOut:n}=pa(),[s,l]=z.useState(!1);return m.jsx("header",{className:"bg-blue-500 text-white py-4 relative  z-30",children:m.jsxs("div",{className:"container mx-auto flex flex-wrap items-center justify-between px-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("img",{src:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760100212/nymph_academy_logo_rpafjh.png",alt:"Nymph Academy Logo",className:"h-8 mr-2",onError:u=>{u.target.onerror=null,u.target.style.display="none"}}),m.jsx(Mt,{to:"/",className:"text-xl font-bold",children:"Nymph Academy"})]}),m.jsxs("nav",{className:"hidden md:flex space-x-6",children:[m.jsx(Mt,{to:"/enrollment",className:"hover:text-blue-200 transition",children:"Enrollment"}),r&&e&&m.jsx(Mt,{to:"/admin",className:"hover:text-blue-200 transition",children:"Admin Dashboard"}),r?m.jsxs("div",{className:"relative group",children:[m.jsxs("button",{className:"flex items-center hover:text-blue-200 transition",children:[m.jsx("span",{className:"mr-1",children:r.displayName?.split(" ")[0]||"Account"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[e&&m.jsx(Mt,{to:"/admin",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Admin Dashboard"}),m.jsx("button",{onClick:n,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})]}):m.jsx(Mt,{to:"/login",className:"bg-white text-blue-500 hover:bg-blue-100 px-4 py-1 rounded transition",children:"Admin Login"})]}),m.jsx("button",{className:"md:hidden text-white p-1 rounded-md hover:bg-blue-600 transition",onClick:()=>l(!s),"aria-label":s?"Close menu":"Open menu","aria-expanded":s,children:s?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsx("div",{className:`md:hidden fixed top-[60px] left-0 right-0 bg-blue-600 z-20 shadow-lg transition-all duration-300 ease-in-out ${s?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:m.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4 divide-y divide-blue-500",children:[m.jsxs("div",{className:"pt-2",children:[m.jsx(Mt,{to:"/",className:"block text-white hover:text-blue-200 transition py-2 border-b border-blue-500",onClick:()=>l(!1),children:"Home"}),m.jsx(Mt,{to:"/enrollment",className:"block text-white hover:text-blue-200 transition py-2",onClick:()=>l(!1),children:"Enrollment"})]}),m.jsx("div",{className:"pt-3",children:r?m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsxs("div",{className:"text-white font-medium pb-2 border-b border-blue-500",children:["Signed in as ",r.displayName||"Account"]}),e&&m.jsxs(Mt,{to:"/admin",className:"text-white hover:text-blue-200 transition py-2",onClick:()=>l(!1),children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Admin Dashboard"]}),m.jsxs("button",{onClick:()=>{n(),l(!1)},className:"text-white hover:text-blue-200 transition py-2 text-left flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 inline mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Sign Out"]})]}):m.jsx(Mt,{to:"/login",className:"inline-block bg-white text-blue-500 hover:bg-blue-100 px-4 py-2 rounded-md transition w-full text-center font-medium",onClick:()=>l(!1),children:"Admin Login"})})]})})]})})},ia=()=>{const r=new Date().getFullYear();return m.jsx("footer",{className:"bg-gray-800 text-white py-8",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Nymph Academy"}),m.jsx("p",{className:"text-gray-400 mb-2",children:"Empowering young minds through quality education."}),m.jsxs("div",{className:"flex items-center text-gray-400 my-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"7737072875, 8854856756"]}),m.jsxs("div",{className:"flex items-center text-gray-400 my-2",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"nymphacademyschool@gmail.com"]}),m.jsxs("div",{className:"flex items-center text-gray-400 my-2",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Plot No. A-4-7, Anupam Vihar, Gandhi Path (West), Vaishali Nagar,Jaipur(Raj.)"]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Quick Links"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(Mt,{to:"/",className:"text-gray-400 hover:text-white transition",children:"Home"})}),m.jsx("li",{children:m.jsx(Mt,{to:"/about",className:"text-gray-400 hover:text-white transition",children:"About Us"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Follow Us"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-facebook",viewBox:"0 0 16 16",children:m.jsx("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})})}),m.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16",children:m.jsx("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})})}),m.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-twitter",viewBox:"0 0 16 16",children:m.jsx("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})})})]})]})]}),m.jsxs("div",{className:"border-t border-gray-700 mt-6 pt-6 text-center text-sm text-gray-400",children:[" ",r," Nymph Academy. All rights reserved. ",m.jsx("br",{}),"Managed by Impression - A Unit of VDS SERVICES"]})]})})},f3=()=>m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"bg-blue-500 text-white py-16 px-4",children:m.jsxs("div",{className:"container mx-auto text-center",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Welcome to Nymph Academy"}),m.jsx("p",{className:"text-xl mb-8",children:"Empowering young minds through quality education"}),m.jsx(Mt,{to:"/enrollment",className:"bg-white text-blue-600 px-6 py-3 rounded-md font-medium hover:bg-blue-50 transition duration-300",children:"Enroll Now"})]})}),m.jsx("div",{className:"py-12 bg-white",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose Us?"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"text-center p-6 border border-gray-100 rounded-lg shadow-sm",children:[m.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Quality Education"}),m.jsx("p",{className:"text-gray-600",children:"Experienced teachers with modern teaching methodology."})]}),m.jsxs("div",{className:"text-center p-6 border border-gray-100 rounded-lg shadow-sm",children:[m.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Safe Environment"}),m.jsx("p",{className:"text-gray-600",children:"Creating a secure and nurturing learning space for students."})]}),m.jsxs("div",{className:"text-center p-6 border border-gray-100 rounded-lg shadow-sm",children:[m.jsx("div",{className:"bg-blue-100 h-16 w-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Innovative Approach"}),m.jsx("p",{className:"text-gray-600",children:"Blending traditional values with modern teaching techniques."})]})]})]})}),m.jsx("div",{className:"py-12 bg-gray-50",children:m.jsxs("div",{className:"container mx-auto px-4 text-center",children:[m.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to join Nymph Academy?"}),m.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Secure your child's future with quality education"}),m.jsx(Mt,{to:"/enrollment",className:"bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition duration-300",children:"Enroll Now"})]})}),m.jsx(ia,{})]}),Cb="dzwjnirr2",Uh=async(r,e="nymph_academy_studdent_image_preset")=>{const n=new FormData;n.append("file",r),n.append("upload_preset",e),n.append("cloud_name",Cb);try{const s=await fetch(`https://api.cloudinary.com/v1_1/${Cb}/image/upload`,{method:"POST",body:n});if(!s.ok){const u=await s.json();throw new Error(u.error?.message||"Upload failed")}const l=await s.json();return{url:l.secure_url,publicId:l.public_id}}catch(s){throw console.error("Error uploading image to Cloudinary:",s),new Error("Failed to upload image: "+s.message)}},m3=async r=>Uh(r,"nymph_academy_studdent_image_preset"),p3=async r=>Uh(r,"nymph_academy_payment_image_preset"),g3=()=>{const r=ys(),[e,n]=z.useState({paymentPrice:"150",paymentQRUrl:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"}),[s,l]=z.useState({fullName:"",email:"",classGrade:"",medium:"",schoolName:"",dateOfBirth:"",gender:"",motherName:"",motherOccupation:"",motherPhone:"",motherMobile:"",motherEmail:"",fatherName:"",fatherOccupation:"",fatherPhone:"",fatherMobile:"",fatherEmail:"",addressLine1:"",city:"",state:"",pincode:"",numberOfBrothers:"",numberOfSisters:"",photoFile:null}),[u,d]=z.useState({}),[p,g]=z.useState(!1),[y,E]=z.useState(null);z.useEffect(()=>{(async()=>{try{const P=Sn(zt,"settings","website"),W=await ti(P);if(W.exists()){const ne=W.data();n({paymentPrice:ne.paymentPrice||"150",paymentQRUrl:ne.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"})}}catch(P){console.error("Error fetching website settings:",P)}})()},[]);const x=B=>{const{name:P,value:W}=B.target;l({...s,[P]:W}),u[P]&&d({...u,[P]:""})},S=B=>{const P=B.target.files[0];if(P){if(!["image/jpeg","image/jpg","image/png"].includes(P.type)){d({...u,photoFile:"Only JPG/PNG files are allowed"});return}if(P.size>5*1024*1024){d({...u,photoFile:"File size must be less than 5MB"});return}l({...s,photoFile:P});const ne=new FileReader;ne.onloadend=()=>{E(ne.result)},ne.readAsDataURL(P),d({...u,photoFile:""})}},V=()=>{const B={};return s.fullName.trim()||(B.fullName="Student's name is required"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email.trim())||(B.email="Invalid email format"):B.email="Student's email is required",s.classGrade||(B.classGrade="Class is required"),s.medium||(B.medium="Medium is required"),s.schoolName.trim()||(B.schoolName="Present school name is required"),s.dateOfBirth||(B.dateOfBirth="Date of birth is required"),s.gender||(B.gender="Sex is required"),s.motherName.trim()||(B.motherName="Mother's name is required"),s.motherMobile.trim()?/^[0-9]{10}$/.test(s.motherMobile.trim())||(B.motherMobile="Mobile number must be 10 digits"):B.motherMobile="Mother's mobile number is required",s.motherEmail.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.motherEmail.trim())&&(B.motherEmail="Invalid email format"),s.fatherName.trim()||(B.fatherName="Father's name is required"),s.fatherMobile.trim()?/^[0-9]{10}$/.test(s.fatherMobile.trim())||(B.fatherMobile="Mobile number must be 10 digits"):B.fatherMobile="Father's mobile number is required",s.fatherEmail.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.fatherEmail.trim())&&(B.fatherEmail="Invalid email format"),s.addressLine1.trim()||(B.addressLine1="Address is required"),s.city.trim()||(B.city="City is required"),s.state.trim()||(B.state="State is required"),s.pincode.trim()?/^[0-9]{6}$/.test(s.pincode.trim())||(B.pincode="PIN code must be 6 digits"):B.pincode="PIN code is required",s.photoFile||(B.photoFile="Student photo is required"),d(B),Object.keys(B).length===0},G=async B=>{if(B.preventDefault(),!!V()){g(!0);try{const P=await m3(s.photoFile),W={fullName:s.fullName,email:s.email,classGrade:s.classGrade,medium:s.medium,schoolName:s.schoolName,dateOfBirth:s.dateOfBirth,gender:s.gender,motherName:s.motherName,motherOccupation:s.motherOccupation,motherPhone:s.motherPhone,motherMobile:s.motherMobile,motherEmail:s.motherEmail,fatherName:s.fatherName,fatherOccupation:s.fatherOccupation,fatherPhone:s.fatherPhone,fatherMobile:s.fatherMobile,fatherEmail:s.fatherEmail,addressLine1:s.addressLine1,city:s.city,state:s.state,pincode:s.pincode,numberOfBrothers:s.numberOfBrothers,numberOfSisters:s.numberOfSisters,photoURL:P.url,photoPublicId:P.publicId,enrollmentDate:new Date,paymentStatus:"pending"},ne=await AC(bl(zt,"students"),W);r(`/payment/${ne.id}`)}catch(P){console.error("Error submitting form:",P),d({...u,submit:"An error occurred. Please try again."})}finally{g(!1)}}};return m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"bg-blue-500 text-white py-10 px-4",children:m.jsxs("div",{className:"container mx-auto text-center",children:[m.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Welcome to Nymph Academy"}),m.jsxs("p",{className:"text-lg",children:["Enroll today for ",e.paymentPrice," fee. Secure and easy process."]})]})}),m.jsx("div",{className:"flex-grow container mx-auto py-8 px-4",children:m.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Nymph Academy Scholarship Exam Enrollment"}),u.submit&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u.submit}),m.jsxs("form",{onSubmit:G,className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow-sm",children:[m.jsxs("h3",{className:"text-lg font-bold text-blue-700 mb-4 border-b pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"1"}),"Student Information"]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Student's Name *"}),m.jsx("input",{type:"text",id:"fullName",name:"fullName",value:s.fullName,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.fullName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter student's name as per school records"}),u.fullName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.fullName})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Email *"}),m.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.email?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter student's email"}),u.email&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.email})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth *"}),m.jsx("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:s.dateOfBirth,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.dateOfBirth?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`}),u.dateOfBirth&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.dateOfBirth})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"classGrade",className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),m.jsxs("select",{id:"classGrade",name:"classGrade",value:s.classGrade,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.classGrade?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,children:[m.jsx("option",{value:"",children:"Select Class"}),m.jsx("option",{value:"1",children:"Class 1"}),m.jsx("option",{value:"2",children:"Class 2"}),m.jsx("option",{value:"3",children:"Class 3"}),m.jsx("option",{value:"4",children:"Class 4"}),m.jsx("option",{value:"5",children:"Class 5"}),m.jsx("option",{value:"6",children:"Class 6"}),m.jsx("option",{value:"7",children:"Class 7"}),m.jsx("option",{value:"8",children:"Class 8"}),m.jsx("option",{value:"9",children:"Class 9"}),m.jsx("option",{value:"10",children:"Class 10"}),m.jsx("option",{value:"11",children:"Class 11"}),m.jsx("option",{value:"12",children:"Class 12"})]}),u.classGrade&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.classGrade})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"medium",className:"block text-sm font-medium text-gray-700 mb-1",children:"Medium *"}),m.jsxs("select",{id:"medium",name:"medium",value:s.medium,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.medium?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,children:[m.jsx("option",{value:"",children:"Select Medium"}),m.jsx("option",{value:"english",children:"English"}),m.jsx("option",{value:"hindi",children:"Hindi"}),m.jsx("option",{value:"other",children:"Other"})]}),u.medium&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.medium})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),m.jsxs("select",{id:"gender",name:"gender",value:s.gender,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.gender?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,children:[m.jsx("option",{value:"",children:"Select"}),m.jsx("option",{value:"male",children:"Male"}),m.jsx("option",{value:"female",children:"Female"}),m.jsx("option",{value:"other",children:"Other"})]}),u.gender&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.gender})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"schoolName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Present School *"}),m.jsx("input",{type:"text",id:"schoolName",name:"schoolName",value:s.schoolName,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.schoolName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter present school name"}),u.schoolName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.schoolName})]}),m.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-8 mb-4 border-b pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"2"}),"Mother Information"]}),m.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"motherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name *"}),m.jsx("input",{type:"text",id:"motherName",name:"motherName",value:s.motherName,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.motherName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter mother's name"}),u.motherName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.motherName})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"motherOccupation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Occupation"}),m.jsx("input",{type:"text",id:"motherOccupation",name:"motherOccupation",value:s.motherOccupation,onChange:x,className:"w-full px-4 py-2 border rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter mother's occupation"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"motherEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Email"}),m.jsx("input",{type:"email",id:"motherEmail",name:"motherEmail",value:s.motherEmail,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.motherEmail?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter mother's email"}),u.motherEmail&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.motherEmail})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"motherPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Phone"}),m.jsx("input",{type:"text",id:"motherPhone",name:"motherPhone",value:s.motherPhone,onChange:x,className:"w-full px-4 py-2 border rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter mother's phone number"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"motherMobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Mobile *"}),m.jsx("input",{type:"text",id:"motherMobile",name:"motherMobile",value:s.motherMobile,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.motherMobile?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter mother's mobile number"}),u.motherMobile&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.motherMobile})]})]})]}),m.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"3"}),"Father Information"]}),m.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mt-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name *"}),m.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:s.fatherName,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.fatherName?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter father's name"}),u.fatherName&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.fatherName})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"fatherOccupation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Occupation"}),m.jsx("input",{type:"text",id:"fatherOccupation",name:"fatherOccupation",value:s.fatherOccupation,onChange:x,className:"w-full px-4 py-2 border rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter father's occupation"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"fatherEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Email"}),m.jsx("input",{type:"email",id:"fatherEmail",name:"fatherEmail",value:s.fatherEmail,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.fatherEmail?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter father's email"}),u.fatherEmail&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.fatherEmail})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"fatherPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Phone"}),m.jsx("input",{type:"text",id:"fatherPhone",name:"fatherPhone",value:s.fatherPhone,onChange:x,className:"w-full px-4 py-2 border rounded-md border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter father's phone number"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"fatherMobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Mobile *"}),m.jsx("input",{type:"text",id:"fatherMobile",name:"fatherMobile",value:s.fatherMobile,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.fatherMobile?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter father's mobile number"}),u.fatherMobile&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.fatherMobile})]})]})]}),m.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"4"}),"Residential Address"]}),m.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1 *"}),m.jsx("textarea",{id:"addressLine1",name:"addressLine1",value:s.addressLine1,onChange:x,rows:"2",className:`w-full px-4 py-2 border rounded-md ${u.addressLine1?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter your address"}),u.addressLine1&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.addressLine1})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),m.jsx("input",{type:"text",id:"city",name:"city",value:s.city,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.city?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter your city"}),u.city&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.city})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),m.jsx("input",{type:"text",id:"state",name:"state",value:s.state,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.state?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter your state"}),u.state&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.state})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code *"}),m.jsx("input",{type:"text",id:"pincode",name:"pincode",value:s.pincode,onChange:x,className:`w-full px-4 py-2 border rounded-md ${u.pincode?"border-red-500":"border-gray-300"} focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50`,placeholder:"Enter 6-digit PIN code"}),u.pincode&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.pincode})]})]})]}),m.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"5"}),"Siblings"]}),m.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"numberOfBrothers",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Brothers"}),m.jsx("input",{type:"number",id:"numberOfBrothers",name:"numberOfBrothers",min:"0",value:s.numberOfBrothers,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter number of brothers"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"numberOfSisters",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Sisters"}),m.jsx("input",{type:"number",id:"numberOfSisters",name:"numberOfSisters",min:"0",value:s.numberOfSisters,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"Enter number of sisters"})]})]})}),m.jsxs("h3",{className:"text-lg font-bold text-blue-700 mt-6 mb-4 border-b pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-700 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"6"}),"Photo Upload"]}),m.jsxs("div",{className:"mb-6 bg-white p-4 rounded-lg border border-gray-200",children:[m.jsx("label",{htmlFor:"photoFile",className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Photo * (JPG/PNG, Max 5MB)"}),m.jsxs("div",{className:"flex items-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("input",{type:"file",id:"photoFile",name:"photoFile",onChange:S,accept:".jpg,.jpeg,.png",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:border-blue-500"}),u.photoFile&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.photoFile})]}),y&&m.jsx("div",{className:"ml-4",children:m.jsx("img",{src:y,alt:"Preview",className:"h-32 w-auto object-cover rounded-md border-2 border-gray-300"})})]}),m.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Upload a recent passport-sized photograph of the student with a clear face."})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 transition duration-300 disabled:opacity-50 text-lg font-semibold shadow-md",children:p?m.jsxs("span",{className:"flex items-center justify-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Proceed to Payment (${e.paymentPrice})`}),m.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:"By submitting this form, you agree to our terms and conditions"})]})]})]})}),m.jsx(ia,{})]})},y3=()=>{const{studentId:r}=dp(),e=ys(),[n,s]=z.useState(null),[l,u]=z.useState(null),[d,p]=z.useState(!1),[g,y]=z.useState({}),[E,x]=z.useState(!0),[S,V]=z.useState(null),[G,B]=z.useState({paymentPrice:"150",paymentQRUrl:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"});z.useEffect(()=>{(async()=>{if(!r){e("/enrollment");return}try{const N=Sn(zt,"students",r),A=await ti(N);if(!A.exists()){e("/enrollment");return}s({id:A.id,...A.data()});const R=Sn(zt,"settings","website"),j=await ti(R);if(j.exists()){const D=j.data();B({paymentPrice:D.paymentPrice||"150",paymentQRUrl:D.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg"})}}catch(N){console.error("Error fetching data:",N),y({...g,fetch:"Failed to load data. Please try again."})}finally{x(!1)}})()},[r,e]);const P=re=>{const N=re.target.files[0];if(N){if(!["image/jpeg","image/jpg","image/png"].includes(N.type)){y({...g,paymentFile:"Only JPG/PNG files are allowed"});return}if(N.size>5*1024*1024){y({...g,paymentFile:"File size must be less than 5MB"});return}u(N);const R=new FileReader;R.onloadend=()=>{V(R.result)},R.readAsDataURL(N),y({...g,paymentFile:""})}},W=async re=>{try{const N=bl(zt,"students"),A=`1${re}`,R=Ch(N,uh("rollNumber",">=",A),uh("rollNumber","<",A+"")),j=await Ih(R);if(j.empty)return 0;let D=0;return j.forEach(L=>{const C=L.data().rollNumber;if(C&&C.startsWith(A)){const qe=parseInt(C.substring(A.length),10);!isNaN(qe)&&qe>D&&(D=qe)}}),D}catch(N){return console.error("Error finding highest roll number:",N),0}},ne=async re=>{try{const N=bl(zt,"students"),A=Ch(N,uh("rollNumber","==",re));return!(await Ih(A)).empty}catch(N){return console.error("Error checking for roll number:",N),!0}},ie=async re=>{try{const N=Sn(zt,"rollNumberCounters",`class${re}`),A=await ti(N);let R=0;if(A.exists())R=A.data().lastRollNumber;else{console.log(`Initializing counter for class ${re}...`);const qe=await W(re);R=qe,console.log(`Found highest existing roll number for class ${re}: ${qe}`)}const j=R+1,D=String(j).padStart(3,"0"),L=`1${re}${D}`;return await ne(L)?(console.warn(`Roll number ${L} already exists. Trying next number.`),ie(re)):(await ud(N,{lastRollNumber:j,lastUpdated:new Date}),L)}catch(N){throw console.error("Error generating roll number:",N),new Error("Failed to generate roll number")}},ae=re=>{console.log("Sending email to student:",re.email)},ge=async re=>{if(re.preventDefault(),!l){y({...g,paymentFile:"Payment screenshot is required"});return}p(!0);try{const N=await p3(l),A=await ie(n.classGrade),R=Sn(zt,"students",r);await SC(R,{paymentStatus:"completed",paymentScreenshotURL:N.url,paymentScreenshotPublicId:N.publicId,paymentDate:new Date,rollNumber:A});const j=await ti(R),D={id:j.id,...j.data()};ae(D),e(`/confirmation/${r}`)}catch(N){console.error("Error submitting payment:",N),y({...g,submit:"An error occurred. Please try again."})}finally{p(!1)}};return E?m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}),m.jsx(ia,{})]}):m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"flex-grow container mx-auto py-8 px-4",children:m.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md",children:[m.jsx("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Nymph Academy Payment"}),g.fetch&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:g.fetch}),g.submit&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:g.submit}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Student Information"}),m.jsxs("p",{className:"text-gray-600",children:["Student's Name: ",n?.fullName]}),m.jsxs("p",{className:"text-gray-600",children:["Class: ",n?.classGrade]}),m.jsxs("p",{className:"text-gray-600",children:["School: ",n?.schoolName]}),m.jsxs("p",{className:"text-gray-600",children:["Email: ",n?.email]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Payment Details"}),m.jsxs("p",{className:"text-gray-600 mb-4",children:["Fee: ",G.paymentPrice]}),m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"border border-gray-300 rounded-md p-4 bg-gray-50",children:m.jsx("img",{src:G.paymentQRUrl,alt:"Payment QR Code",className:"h-64 w-64 object-contain"})})}),m.jsxs("p",{className:"text-sm text-gray-500 mb-4 text-center",children:["Scan the QR code above to make your payment of ",G.paymentPrice]})]}),m.jsxs("form",{onSubmit:ge,children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"paymentFile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Payment Screenshot * (JPG/PNG, Max 5MB)"}),m.jsx("input",{type:"file",id:"paymentFile",name:"paymentFile",onChange:P,accept:".jpg,.jpeg,.png",className:"w-full"}),g.paymentFile&&m.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.paymentFile}),S&&m.jsx("div",{className:"mt-2",children:m.jsx("img",{src:S,alt:"Payment Screenshot Preview",className:"h-32 w-auto object-cover rounded-md"})})]}),m.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded mb-6",children:m.jsxs("p",{className:"text-sm",children:[m.jsx("strong",{children:"Warning:"})," Students are strictly required to upload the correct and valid payment receipt after making the payment. In case it is found that the payment has not been completed and/or an invalid or false document has been uploaded, Nymph Academy reserves the sole right to nullify the registration and cancel the roll number issued against it. Such students will not be permitted to appear for the test under any circumstances."]})}),m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-300 disabled:opacity-50",children:d?"Processing Payment...":"Confirm Payment"})]})]})}),m.jsx(ia,{})]})},v3=()=>{const{studentId:r}=dp(),e=ys(),[n,s]=z.useState(null),[l,u]=z.useState(!0),[d,p]=z.useState(null);z.useEffect(()=>{(async()=>{if(!r){e("/enrollment");return}try{const x=Sn(zt,"students",r),S=await ti(x);if(!S.exists()||!S.data().rollNumber){e("/enrollment");return}s({id:S.id,...S.data()})}catch(x){console.error("Error fetching student data:",x),p("Failed to load enrollment data. Please contact the academy.")}finally{u(!1)}})()},[r,e]);const g=E=>E?(E.toDate?E.toDate():new Date(E)).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"N/A",y=()=>{const E=document.title;document.title=`Nymph Academy - Enrollment Confirmation (${n?.rollNumber||""})`;const x=document.getElementById("confirmation-card"),S=document.body.innerHTML;x&&(document.body.innerHTML=x.outerHTML,window.print(),document.body.innerHTML=S),document.title=E,window.location.reload()};return l?m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto"}),m.jsx("p",{className:"mt-4 text-gray-600",children:"Loading enrollment details..."})]})}),m.jsx(ia,{})]}):d?m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center",children:m.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-6 rounded-lg shadow-md max-w-md",children:[m.jsxs("div",{className:"flex items-center mb-3",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("h3",{className:"font-bold",children:"Error"})]}),m.jsx("p",{children:d}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:()=>e("/enrollment"),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition duration-300",children:"Return to Enrollment"})})]})}),m.jsx(ia,{})]}):m.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[m.jsx(na,{}),m.jsx("div",{className:"flex-grow container mx-auto py-8 px-4",children:m.jsxs("div",{id:"confirmation-card",className:"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-lg",children:[m.jsxs("div",{className:"border-b border-green-500 pb-4 mb-6 relative",children:[m.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mt-4",children:"Nymph Academy Enrollment Confirmation"}),m.jsx("div",{className:"mt-3 bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-lg text-center print:hidden",children:m.jsx("p",{className:"text-lg",children:"Congratulations! Your enrollment is complete."})})]}),m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-3",children:"Roll Number"}),m.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 text-blue-800 px-6 py-4 rounded-lg inline-block shadow-sm",children:m.jsx("span",{className:"text-3xl font-mono font-bold tracking-wider",children:n?.rollNumber})})]}),m.jsxs("div",{className:"mb-8",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-6 border-b-2 border-blue-100 pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"1"}),"Student Information"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 h-full",children:[m.jsxs("h3",{className:"text-md font-semibold text-blue-700 mb-3 pb-2 border-b border-blue-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Student Details"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),m.jsx("span",{className:"text-gray-900 font-semibold",children:n?.fullName})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Email:"}),m.jsx("span",{className:"text-gray-900",children:n?.email})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Class:"}),m.jsxs("span",{className:"text-gray-900",children:["Class ",n?.classGrade]})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Medium:"}),m.jsx("span",{className:"text-gray-900 capitalize",children:n?.medium})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"School:"}),m.jsx("span",{className:"text-gray-900",children:n?.schoolName})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"DOB:"}),m.jsx("span",{className:"text-gray-900",children:n?.dateOfBirth})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Sex:"}),m.jsx("span",{className:"text-gray-900 capitalize",children:n?.gender})]})]})]}),m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100 h-full",children:[m.jsxs("h3",{className:"text-md font-semibold text-purple-700 mb-3 pb-2 border-b border-purple-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Mother Information"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),m.jsx("span",{className:"text-gray-900",children:n?.motherName})]}),n?.motherOccupation&&m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Occupation:"}),m.jsx("span",{className:"text-gray-900",children:n?.motherOccupation})]}),n?.motherPhone&&m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Phone:"}),m.jsx("span",{className:"text-gray-900",children:n?.motherPhone})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Mobile:"}),m.jsx("span",{className:"text-gray-900",children:n?.motherMobile})]}),n?.motherEmail&&m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Email:"}),m.jsx("span",{className:"text-gray-900",children:n?.motherEmail})]})]})]}),m.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-100 h-full",children:[m.jsxs("h3",{className:"text-md font-semibold text-cyan-700 mb-3 pb-2 border-b border-cyan-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Father Information"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),m.jsx("span",{className:"text-gray-900",children:n?.fatherName})]}),n?.fatherOccupation&&m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Occupation:"}),m.jsx("span",{className:"text-gray-900",children:n?.fatherOccupation})]}),n?.fatherPhone&&m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Phone:"}),m.jsx("span",{className:"text-gray-900",children:n?.fatherPhone})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Mobile:"}),m.jsx("span",{className:"text-gray-900",children:n?.fatherMobile})]}),n?.fatherEmail&&m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Email:"}),m.jsx("span",{className:"text-gray-900",children:n?.fatherEmail})]})]})]}),m.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-100 h-full",children:[m.jsxs("h3",{className:"text-md font-semibold text-emerald-700 mb-3 pb-2 border-b border-emerald-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Residential Address"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Address:"}),m.jsx("span",{className:"text-gray-900",children:n?.addressLine1})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"City:"}),m.jsx("span",{className:"text-gray-900",children:n?.city})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"State:"}),m.jsx("span",{className:"text-gray-900",children:n?.state})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"PIN:"}),m.jsx("span",{className:"text-gray-900",children:n?.pincode})]})]})]}),m.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-100 h-full",children:[m.jsxs("h3",{className:"text-md font-semibold text-amber-700 mb-3 pb-2 border-b border-amber-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Siblings"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Brothers:"}),m.jsx("span",{className:"text-gray-900",children:n?.numberOfBrothers||"0"})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Sisters:"}),m.jsx("span",{className:"text-gray-900",children:n?.numberOfSisters||"0"})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 h-full",children:[m.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Enrollment Details"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Enrolled:"}),m.jsx("span",{className:"text-gray-900",children:g(n?.enrollmentDate)})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Paid on:"}),m.jsx("span",{className:"text-gray-900",children:g(n?.paymentDate)})]}),m.jsxs("div",{className:"flex",children:[m.jsx("span",{className:"font-medium text-gray-700 w-1/3",children:"Status:"}),m.jsx("span",{className:"text-green-600 font-medium",children:"Completed"})]})]})]})]})]}),m.jsxs("div",{className:"mt-10",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-700 mb-6 border-b-2 border-blue-100 pb-2 flex items-center",children:[m.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-2 text-sm",children:"2"}),"Uploaded Documents"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[m.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Student Photo"]}),m.jsx("div",{className:"mt-2 flex justify-center",children:n?.photoURL?m.jsx("img",{src:n.photoURL,alt:"Student",className:"h-48 w-auto object-cover rounded-lg shadow-sm border-2 border-gray-200"}):m.jsx("div",{className:"bg-gray-100 h-48 w-36 rounded-lg flex items-center justify-center",children:m.jsx("p",{className:"text-gray-500",children:"No photo available"})})})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[m.jsxs("h3",{className:"text-md font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200 flex items-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Payment Screenshot"]}),m.jsx("div",{className:"mt-2 flex justify-center",children:n?.paymentScreenshotURL?m.jsx("img",{src:n.paymentScreenshotURL,alt:"Payment Screenshot",className:"h-48 w-auto object-cover rounded-lg shadow-sm border-2 border-gray-200"}):m.jsx("div",{className:"bg-gray-100 h-48 w-full rounded-lg flex items-center justify-center",children:m.jsx("p",{className:"text-gray-500",children:"No screenshot available"})})})]})]})]}),m.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-200 text-center print:hidden",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:m.jsxs("p",{className:"text-blue-800 flex items-center justify-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Please save this information for your records. A confirmation email has been sent to your registered email address."]})}),m.jsxs("button",{onClick:y,className:"mt-4 bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 transition duration-300 font-semibold flex items-center mx-auto",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Confirmation"]})]})]})}),m.jsx(ia,{})]})},_3=()=>{const{currentUser:r}=pa(),e=Bn(),n=[{name:"Dashboard",path:"/admin"},{name:"Students",path:"/admin/students"},{name:"Website Settings",path:"/admin/settings"}];return m.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-gray-800 h-screen",children:[m.jsx("div",{className:"h-16 flex items-center justify-center bg-gray-900",children:m.jsx("h1",{className:"text-white font-bold text-xl",children:"Admin Panel"})}),r&&m.jsx("div",{className:"p-4 border-b border-gray-700",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-white font-semibold",children:r.displayName?r.displayName.charAt(0):r.email.charAt(0)}),m.jsxs("div",{className:"ml-3",children:[m.jsx("p",{className:"text-white text-sm font-medium truncate",children:r.displayName||r.email}),m.jsx("p",{className:"text-gray-400 text-xs",children:"Admin"})]})]})}),m.jsx("nav",{className:"mt-5 px-2 flex-1",children:n.map(s=>{const l=e.pathname===s.path;return m.jsx(Mt,{to:s.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md mb-1 ${l?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.name},s.name)})}),m.jsx("div",{className:"p-4 border-t border-gray-700",children:m.jsx(Mt,{to:"/",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-300 hover:bg-gray-700 hover:text-white",children:"Back to Website"})})]})},b3=({toggleSidebar:r})=>{const{currentUser:e,signOut:n}=pa(),[s,l]=z.useState(!1),u=()=>{l(!s)};return m.jsxs("header",{className:"bg-white border-b flex justify-between items-center h-16 px-6",children:[m.jsx("button",{className:"md:hidden text-gray-500 hover:text-gray-600",onClick:r,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsx("div",{className:"md:hidden",children:m.jsx("h1",{className:"text-gray-800 font-bold",children:"Admin Panel"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:u,className:"flex items-center space-x-2 focus:outline-none",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:e?.photoURL?m.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):m.jsx("span",{className:"text-gray-700 font-semibold",children:e?.displayName?.charAt(0)||e?.email?.charAt(0)||"A"})}),m.jsx("span",{className:"hidden md:inline text-gray-700",children:e?.displayName||e?.email||"Admin"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),s&&m.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10",children:[m.jsx("a",{href:"/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"View Website"}),m.jsx("button",{onClick:n,className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})]})]})},E3=({isOpen:r,toggleSidebar:e})=>{const{currentUser:n}=pa(),s=Bn(),l=[{name:"Dashboard",path:"/admin"},{name:"Students",path:"/admin/students"},{name:"Website Settings",path:"/admin/settings"}];return r?m.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[m.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:e,"aria-hidden":"true"}),m.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-gray-800",children:[m.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:m.jsxs("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:e,children:[m.jsx("span",{className:"sr-only",children:"Close sidebar"}),m.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),m.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[m.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:m.jsx("h1",{className:"text-white font-bold text-xl",children:"Admin Panel"})}),n&&m.jsx("div",{className:"px-4 py-4 border-b border-gray-700",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-white font-semibold",children:n.displayName?n.displayName.charAt(0):n.email.charAt(0)}),m.jsxs("div",{className:"ml-3",children:[m.jsx("p",{className:"text-white text-sm font-medium truncate",children:n.displayName||n.email}),m.jsx("p",{className:"text-gray-400 text-xs",children:"Admin"})]})]})}),m.jsx("nav",{className:"mt-5 px-2",children:l.map(u=>{const d=s.pathname===u.path;return m.jsx(Mt,{to:u.path,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md mb-1 ${d?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:e,children:u.name},u.name)})})]}),m.jsx("div",{className:"p-4 border-t border-gray-700",children:m.jsx(Mt,{to:"/",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-300 hover:bg-gray-700 hover:text-white",onClick:e,children:"Back to Website"})})]}),m.jsx("div",{className:"flex-shrink-0 w-14","aria-hidden":"true"})]}):null},pr=({children:r})=>{const{isAdmin:e}=pa(),[n,s]=z.useState(!1),l=()=>{s(!n)};return m.jsxs("div",{className:"flex h-screen bg-gray-50",children:[m.jsx(_3,{}),m.jsx(E3,{isOpen:n,toggleSidebar:l}),m.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[m.jsx(b3,{toggleSidebar:l}),m.jsx("main",{className:"flex-1 overflow-auto p-6",children:e?r:m.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4",role:"alert",children:[m.jsx("p",{className:"font-bold",children:"Access Denied"}),m.jsx("p",{children:"You do not have permission to access this page."})]})})]})]})},x3=()=>{const[r,e]=z.useState({totalStudents:0,registeredToday:0,paymentCompleted:0,paymentPending:0}),[n,s]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const u=bl(zt,"students"),p=(await RC(u)).data().count,g=new Date;g.setHours(0,0,0,0);const y=await Ih(u);let E=0,x=0,S=0;y.forEach(V=>{const G=V.data();G.registrationDate&&new Date(G.registrationDate.toDate()).setHours(0,0,0,0)===g.getTime()&&E++,G.paymentStatus==="completed"?x++:S++}),e({totalStudents:p,registeredToday:E,paymentCompleted:x,paymentPending:S})}catch(u){console.error("Error fetching dashboard stats:",u)}finally{s(!1)}})()},[]),n?m.jsx(pr,{children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})}):m.jsx(pr,{children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Dashboard"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:m.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Students"}),m.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:r.totalStudents})]})]})}),m.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:m.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Registered Today"}),m.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:r.registeredToday})]})]})}),m.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:m.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Completed"}),m.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:r.paymentCompleted})]})]})}),m.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:m.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Pending"}),m.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:r.paymentPending})]})]})})]}),m.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[m.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("a",{href:"/admin/students",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300",children:[m.jsx("div",{className:"p-2 rounded-md bg-blue-100 text-blue-600 mr-3",children:m.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Manage Students"}),m.jsx("p",{className:"text-sm text-gray-600",children:"View and search student records"})]})]}),m.jsxs("a",{href:"/admin/settings",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300",children:[m.jsx("div",{className:"p-2 rounded-md bg-green-100 text-green-600 mr-3",children:m.jsxs("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Website Settings"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Update payment QR code and fees"})]})]})]})]})]})})},T3=()=>{const[r,e]=z.useState([]),[n,s]=z.useState(!0),[l,u]=z.useState(""),[d,p]=z.useState(""),[g,y]=z.useState([]),E=ys();z.useEffect(()=>{(async()=>{try{let V=Ch(bl(zt,"students"),rb("rollNumber","asc"));d&&(V=Ch(bl(zt,"students"),uh("classGrade","==",d),rb("rollNumber","asc")));const B=(await Ih(V)).docs.map(W=>({id:W.id,...W.data()})),P=[...new Set(B.map(W=>W.classGrade))].sort();y(P),e(B),s(!1)}catch(V){console.error("Error fetching students:",V),s(!1)}})()},[d]);const x=r.filter(S=>S.fullName.toLowerCase().includes(l.toLowerCase()));return n?m.jsx(pr,{children:m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):m.jsxs(pr,{children:[m.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Student Management"}),m.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search by Name"}),m.jsx("input",{type:"text",id:"search",value:l,onChange:S=>u(S.target.value),placeholder:"Search students...",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-4 py-2 border"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"classFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Class"}),m.jsxs("select",{id:"classFilter",value:d,onChange:S=>p(S.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm px-4 py-2 border",children:[m.jsx("option",{value:"",children:"All Classes"}),g.map(S=>m.jsxs("option",{value:S,children:["Class ",S]},S))]})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("button",{onClick:()=>{u(""),p("")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Reset Filters"})})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enrollment Date"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(S=>m.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>E(`/admin/students/${S.id}`),children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.rollNumber||"N/A"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.fullName}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Class ",S.classGrade]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.phone||"N/A"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.fatherName||S.motherName||"N/A"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.enrollmentDate?.toDate().toLocaleDateString()||"N/A"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.jsx("button",{onClick:V=>{V.stopPropagation(),E(`/admin/students/${S.id}`)},className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},S.id))})]}),x.length===0&&m.jsx("div",{className:"text-center py-4",children:m.jsx("p",{className:"text-gray-500",children:"No students found"})})]})})]})},w3=()=>{const{id:r}=dp(),[e,n]=z.useState(null),[s,l]=z.useState(!0),u=ys();z.useEffect(()=>{(async()=>{try{const g=await ti(Sn(zt,"students",r));g.exists()?n({id:g.id,...g.data()}):console.error("No student found with ID:",r),l(!1)}catch(g){console.error("Error fetching student:",g),l(!1)}})()},[r]);const d=p=>{if(!p)return"N/A";try{return p.toDate().toLocaleDateString()}catch{return"N/A"}};return s?m.jsx(pr,{children:m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):e?m.jsxs(pr,{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Student Details"}),m.jsxs("button",{onClick:()=>u("/admin/students"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center",children:[m.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Students"]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[m.jsxs("div",{className:"md:w-1/4",children:[m.jsx("div",{className:"mb-4",children:e.photoURL?m.jsx("img",{src:e.photoURL,alt:e.fullName,className:"w-full h-[250px] object-cover rounded-lg shadow-sm border border-gray-200"}):m.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center rounded-lg",children:m.jsx("p",{className:"text-gray-500",children:"No photo"})})}),m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[m.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Roll Number"}),m.jsx("p",{className:"text-2xl font-bold",children:e.rollNumber||"Not Assigned"})]})]}),m.jsxs("div",{className:"md:w-3/4",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:e.fullName}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Class"}),m.jsxs("p",{className:"font-semibold",children:["Class ",e.classGrade]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Medium"}),m.jsx("p",{className:"font-semibold capitalize",children:e.medium})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Gender"}),m.jsx("p",{className:"font-semibold capitalize",children:e.gender})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Date of Birth"}),m.jsx("p",{className:"font-semibold",children:e.dateOfBirth})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Email"}),m.jsx("p",{className:"font-semibold",children:e.email||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"School"}),m.jsx("p",{className:"font-semibold",children:e.schoolName})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Enrollment Date"}),m.jsx("p",{className:"font-semibold",children:d(e.enrollmentDate)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500",children:"Payment Date"}),m.jsx("p",{className:"font-semibold",children:d(e.paymentDate)})]})]})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6",children:[m.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[m.jsx("h3",{className:"font-semibold text-purple-800 mb-3",children:"Mother's Information"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Name"}),m.jsx("p",{className:"font-semibold",children:e.motherName})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Occupation"}),m.jsx("p",{className:"font-semibold",children:e.motherOccupation||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Mobile"}),m.jsx("p",{className:"font-semibold",children:e.motherMobile||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Phone"}),m.jsx("p",{className:"font-semibold",children:e.motherPhone||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Email"}),m.jsx("p",{className:"font-semibold",children:e.motherEmail||"N/A"})]})]})]}),m.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg border border-cyan-100",children:[m.jsx("h3",{className:"font-semibold text-cyan-800 mb-3",children:"Father's Information"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Name"}),m.jsx("p",{className:"font-semibold",children:e.fatherName})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Occupation"}),m.jsx("p",{className:"font-semibold",children:e.fatherOccupation||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Mobile"}),m.jsx("p",{className:"font-semibold",children:e.fatherMobile||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Phone"}),m.jsx("p",{className:"font-semibold",children:e.fatherPhone||"N/A"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Email"}),m.jsx("p",{className:"font-semibold",children:e.fatherEmail||"N/A"})]})]})]}),m.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-100",children:[m.jsx("h3",{className:"font-semibold text-emerald-800 mb-3",children:"Address Information"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Address"}),m.jsx("p",{className:"font-semibold",children:e.addressLine1})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"City"}),m.jsx("p",{className:"font-semibold",children:e.city})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"State"}),m.jsx("p",{className:"font-semibold",children:e.state})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"PIN Code"}),m.jsx("p",{className:"font-semibold",children:e.pincode})]})]})]}),m.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-100",children:[m.jsx("h3",{className:"font-semibold text-amber-800 mb-3",children:"Family Information"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Brothers"}),m.jsx("p",{className:"font-semibold",children:e.numberOfBrothers||"0"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm",children:"Sisters"}),m.jsx("p",{className:"font-semibold",children:e.numberOfSisters||"0"})]})]})]})]}),m.jsxs("div",{className:"p-6 bg-gray-50",children:[m.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Payment Proof"}),e.paymentScreenshotURL?m.jsx("img",{src:e.paymentScreenshotURL,alt:"Payment Screenshot",className:"max-w-full h-auto max-h-96 object-contain rounded-lg shadow-sm border border-gray-200"}):m.jsx("div",{className:"bg-gray-100 h-48 flex items-center justify-center rounded-lg",children:m.jsx("p",{className:"text-gray-500",children:"No payment screenshot available"})})]})]})]}):m.jsx(pr,{children:m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Student Not Found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"The student you're looking for doesn't exist or has been removed."}),m.jsx("button",{onClick:()=>u("/admin/students"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Students"})]})})},S3=()=>{const[r,e]=z.useState(!0),[n,s]=z.useState(!1),[l,u]=z.useState(!1),[d,p]=z.useState({type:"",content:""}),[g,y]=z.useState({paymentPrice:"150",paymentQRUrl:"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg",logoUrl:""}),[E,x]=z.useState({qr:"",logo:""}),S=z.useRef(null),V=z.useRef(null);z.useEffect(()=>{(async()=>{try{const ae=Sn(zt,"settings","website"),ge=await ti(ae);if(ge.exists()){const re=ge.data();y({paymentPrice:re.paymentPrice||"150",paymentQRUrl:re.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg",logoUrl:re.logoUrl||""}),x({qr:re.paymentQRUrl||"https://res.cloudinary.com/dzwjnirr2/image/upload/v1760094772/payment-qr_ucm3p1.svg",logo:re.logoUrl||""})}}catch(ae){console.error("Error fetching website settings:",ae),p({type:"error",content:"Failed to load website settings. Please refresh the page."})}finally{e(!1)}})()},[]);const G=ie=>{const{name:ae,value:ge}=ie.target;y(re=>({...re,[ae]:ge})),ae==="paymentQRUrl"?x(re=>({...re,qr:ge})):ae==="logoUrl"&&x(re=>({...re,logo:ge}))},B=async ie=>{const ae=ie.target.files[0];if(!ae)return;if(!["image/jpeg","image/jpg","image/png"].includes(ae.type)){p({type:"error",content:"Only JPG/PNG files are allowed"});return}if(ae.size>5*1024*1024){p({type:"error",content:"File size exceeds 5MB limit"});return}u(!0),p({type:"",content:""});try{const re=await Uh(ae,"nymph_academy_qr_code_preset");y(N=>({...N,paymentQRUrl:re.url})),x(N=>({...N,qr:re.url})),p({type:"success",content:"QR code uploaded successfully!"}),setTimeout(()=>{p({type:"",content:""})},3e3)}catch(re){console.error("Error uploading QR code:",re),p({type:"error",content:`Failed to upload QR code: ${re.message}`})}finally{u(!1),S.current&&(S.current.value="")}},P=async ie=>{const ae=ie.target.files[0];if(!ae)return;if(!["image/jpeg","image/jpg","image/png","image/svg+xml"].includes(ae.type)){p({type:"error",content:"Only JPG/PNG/SVG files are allowed"});return}if(ae.size>5*1024*1024){p({type:"error",content:"File size exceeds 5MB limit"});return}u(!0),p({type:"",content:""});try{const re=await Uh(ae,"nymph_academy_logo_preset");y(N=>({...N,logoUrl:re.url})),x(N=>({...N,logo:re.url})),p({type:"success",content:"Logo uploaded successfully!"}),setTimeout(()=>{p({type:"",content:""})},3e3)}catch(re){console.error("Error uploading logo:",re),p({type:"error",content:`Failed to upload logo: ${re.message}`})}finally{u(!1),V.current&&(V.current.value="")}},W=async ie=>{ie.preventDefault(),s(!0),p({type:"",content:""});try{if(g.paymentQRUrl&&!ne(g.paymentQRUrl))throw new Error("Payment QR URL is not valid");if(g.logoUrl&&!ne(g.logoUrl))throw new Error("Logo URL is not valid");const ae=Sn(zt,"settings","website");await ud(ae,{...g,updatedAt:new Date},{merge:!0}),p({type:"success",content:"Website settings updated successfully!"}),setTimeout(()=>{p({type:"",content:""})},5e3)}catch(ae){console.error("Error saving website settings:",ae),p({type:"error",content:`Failed to save settings: ${ae.message}`})}finally{s(!1)}},ne=ie=>{try{return new URL(ie),!0}catch{return!1}};return r?m.jsx(pr,{children:m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})}):m.jsx(pr,{children:m.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[m.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Website Settings"}),d.content&&m.jsx("div",{className:`mb-4 p-3 rounded ${d.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.content}),m.jsxs("form",{onSubmit:W,children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-medium text-gray-700 mb-4",children:"Payment Settings"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"paymentPrice",children:"Payment Fee Amount ()"}),m.jsx("input",{type:"text",id:"paymentPrice",name:"paymentPrice",value:g.paymentPrice,onChange:G,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"paymentQRUrl",children:"Payment QR Code URL"}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx("input",{type:"text",id:"paymentQRUrl",name:"paymentQRUrl",value:g.paymentQRUrl,onChange:G,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/qr-code.png",required:!0}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:"text-sm text-gray-500",children:"Or upload a QR code image:"}),m.jsx("input",{type:"file",ref:S,accept:"image/png,image/jpeg,image/jpg",className:"hidden",onChange:B}),m.jsx("button",{type:"button",onClick:()=>S.current.click(),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm py-1 px-3 rounded border border-gray-300 transition",disabled:l,children:l?"Uploading...":"Choose File"})]})]}),E.qr&&m.jsxs("div",{className:"mt-2",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"QR Code Preview:"}),m.jsx("div",{className:"border border-gray-300 rounded p-2 bg-gray-50 inline-block",children:m.jsx("img",{src:E.qr,alt:"Payment QR Preview",className:"h-32 w-32 object-contain",onError:ie=>{ie.target.onerror=null,ie.target.src="https://via.placeholder.com/150?text=Invalid+URL"}})})]})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-medium text-gray-700 mb-4",children:"Logo Settings"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"logoUrl",children:"Logo URL"}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx("input",{type:"text",id:"logoUrl",name:"logoUrl",value:g.logoUrl,onChange:G,className:"w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/logo.png"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:"text-sm text-gray-500",children:"Or upload a logo image:"}),m.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",className:"hidden",onChange:P,ref:ie=>V.current=ie}),m.jsx("button",{type:"button",onClick:()=>V.current.click(),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm py-1 px-3 rounded border border-gray-300 transition",disabled:l,children:l?"Uploading...":"Choose File"})]})]}),E.logo&&m.jsxs("div",{className:"mt-2",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Logo Preview:"}),m.jsx("div",{className:"border border-gray-300 rounded p-2 bg-gray-50 inline-block",children:m.jsx("img",{src:E.logo,alt:"Logo Preview",className:"h-16 object-contain",onError:ie=>{ie.target.onerror=null,ie.target.src="https://via.placeholder.com/150?text=Invalid+URL"}})})]})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-300 disabled:opacity-50",children:n?"Saving...":"Save Settings"})})]})]})})},A3=()=>{const{currentUser:r,isAdmin:e,signIn:n}=pa(),s=ys(),u=Bn().state?.from?.pathname||"/admin/dashboard";z.useEffect(()=>{r&&e&&s(u,{replace:!0})},[r,e,s,u]);const d=async()=>{try{await n()}catch(p){console.error("Login failed",p),alert("Login failed. Please try again.")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),m.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please sign in with your Google account to access the admin dashboard"})]}),m.jsx("div",{className:"mt-8 space-y-6",children:m.jsx("div",{children:m.jsxs("button",{onClick:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[m.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:m.jsx("svg",{className:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),"Sign in with Google"]})})})]})})},th=({children:r})=>{const{currentUser:e,isAdmin:n,loading:s}=pa(),l=Bn();return s?m.jsx("div",{className:"flex justify-center items-center min-h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e?n?r:m.jsx(Mm,{to:"/",replace:!0}):m.jsx(Mm,{to:"/login",state:{from:l},replace:!0})};function N3(){return m.jsx(d3,{children:m.jsx(gw,{basename:"/Nymph_Academy",children:m.jsxs(K2,{children:[m.jsx(ei,{path:"/",element:m.jsx(f3,{})}),m.jsx(ei,{path:"/enrollment",element:m.jsx(g3,{})}),m.jsx(ei,{path:"/payment/:studentId",element:m.jsx(y3,{})}),m.jsx(ei,{path:"/confirmation/:studentId",element:m.jsx(v3,{})}),m.jsx(ei,{path:"/login",element:m.jsx(A3,{})}),m.jsx(ei,{path:"/admin",element:m.jsx(th,{children:m.jsx(x3,{})})}),m.jsx(ei,{path:"/admin/students",element:m.jsx(th,{children:m.jsx(T3,{})})}),m.jsx(ei,{path:"/admin/settings",element:m.jsx(th,{children:m.jsx(S3,{})})}),m.jsx(ei,{path:"/admin/students/:id",element:m.jsx(th,{children:m.jsx(w3,{})})}),m.jsx(ei,{path:"*",element:m.jsx(Mm,{to:"/",replace:!0})})]})})})}i2.createRoot(document.getElementById("root")).render(m.jsx(z.StrictMode,{children:m.jsx(N3,{})}));
